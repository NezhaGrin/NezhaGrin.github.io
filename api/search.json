[{"id":"221a7ad001c03569112f684b2dfdc120","title":"Git","content":"\n\n\n\n\n\n\n\n\nğŸ’¡ Tipsï¼šgit æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥æœ‰æ•ˆã€é«˜é€Ÿåœ°å¤„ç†ä»å¾ˆå°åˆ°éå¸¸å¤§çš„é¡¹ç›®ç‰ˆæœ¬ç®¡ç†ã€‚\ngit ä¸ github ä»€ä¹ˆå…³ç³»ï¼Ÿgit åªæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œè€Œ github æ˜¯ä¸€ä¸ªä»£ç æ‰˜ç®¡çš„ä»“åº“ã€‚ä»“åº“è¿˜æ˜¯æ¨è gitlab ç§æœ‰åŒ–éƒ¨ç½²è€Œä¸”å®ƒçš„ CI&#x2F;CD ä¹Ÿéå¸¸çš„å¼ºå¤§ã€‚\nåˆå§‹åŒ–12git config --global user.name  &quot;your user name&quot;git config --global user.email &quot;your email&quot;\n\n\n\n\n\n\n\nTIP\né¦–æ¬¡å®‰è£… git åçš„åˆå§‹åŒ–å‘½ä»¤ã€‚\n\nç”Ÿæˆç§˜é’¥12# ç”Ÿæˆå¯†é’¥ï¼Œè¿ç»­ä¸‰ä¸‹ç©ºæ ¼ssh-keygen -t rsa -b 4096 -C &quot;your email&quot;\n\nå…‹éš†é¡¹ç›®1git clone [-b åˆ†æ”¯] é¡¹ç›®åœ°å€\n\né¡»çŸ¥çŸ¥è¯†å·¥ä½œåŒºå·¥ä½œåŒºæ˜¯å½“å‰æ­£åœ¨å·¥ä½œçš„ç›®å½•ï¼Œå…¶ä¸­åŒ…å«äº†é¡¹ç›®çš„å®é™…æ–‡ä»¶ã€‚ç¼–è¾‘æ–‡ä»¶ã€æ·»åŠ æ–°æ–‡ä»¶ã€åˆ é™¤æ–‡ä»¶ç­‰æ“ä½œçš„åœ°æ–¹ã€‚åœ¨å·¥ä½œåŒºä¸­è¿›è¡Œçš„æ‰€æœ‰æ›´æ”¹éƒ½å¯ä»¥é€šè¿‡ git è·Ÿè¸ªã€‚\næŸ¥çœ‹çŠ¶æ€12# å¯ä»¥çœ‹è§å·¥ä½œåŒºçš„ï¼šå¢ã€åˆ ã€æ”¹git status\n\næŠ›å¼ƒæ›´æ”¹12# æ— æ³•æŠ›å¼ƒå¢åŠ git checkout . æˆ– æ–‡ä»¶åœ°å€ // . ä»£è¡¨æ‰€æœ‰\n\næš‚å­˜åŒºæš‚å­˜åŒºæ˜¯ä¸€ä¸ªä¸­é—´åŒºåŸŸï¼Œç”¨äºæš‚æ—¶å­˜æ”¾å³å°†æäº¤åˆ°ç‰ˆæœ¬åº“çš„æ›´æ”¹ã€‚å¯ä»¥é€šè¿‡ git add å‘½ä»¤å°†å·¥ä½œåŒºä¸­çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œå‡†å¤‡æäº¤åˆ°ç‰ˆæœ¬åº“ã€‚\næ·»åŠ åˆ°æš‚å­˜åŒº1git add . æˆ– æ–‡ä»¶åœ°å€ // . ä»£è¡¨æ‰€æœ‰\n\nå–æ¶ˆæš‚å­˜1git restore --staged . æˆ– æ–‡ä»¶åœ°å€ // . ä»£è¡¨æ‰€æœ‰\n\nç‰ˆæœ¬åº“ç‰ˆæœ¬åº“æ˜¯ git å­˜å‚¨é¡¹ç›®å†å²è®°å½•çš„åœ°æ–¹ï¼Œå®ƒåŒ…å«äº†é¡¹ç›®çš„æ‰€æœ‰ç‰ˆæœ¬å’Œå…ƒæ•°æ®ã€‚ç‰ˆæœ¬åº“é€šå¸¸ä½äºé¡¹ç›®çš„ .git ç›®å½•ä¸­ã€‚å½“æ‰§è¡Œ git commit å‘½ä»¤æ—¶ï¼Œgit ä¼šå°†æš‚å­˜åŒºä¸­çš„å†…å®¹æäº¤åˆ°ç‰ˆæœ¬åº“ä¸­ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„æäº¤ã€‚\næäº¤ç‰ˆæœ¬åº“1git commit -m &#x27;æ“ä½œå¤‡æ³¨&#x27; // æ“ä½œå¤‡æ³¨æ˜¯ä¸ªå¥½ä¹ æƒ¯ï¼Œä¸€å®šè¦æ³¨é‡Šè¯¦ç»†\n\nå›æ»š123456789101112131415# æŸ¥çœ‹æ—¥å¿—ï¼ŒæŸ¥çœ‹æ—¥å¿—åæŒ‰ q æ‰èƒ½é€€å‡ºæ—¥å¿—git log     # å¸¸ç”¨å‘½ä»¤ä¸€ï¼šæ¯”è¾ƒæš´åŠ›ï¼Œé‡ç½® HEADã€ç´¢å¼•å’Œå·¥ä½œåŒºgit reset --herd CommitID           // å›æ»šåˆ°æŒ‡å®šçš„ç‰ˆæœ¬git reset --hard HEAD^             // å›é€€åˆ°ä¸Šä¸ªç‰ˆæœ¬git reset --hard HEAD~3           // å›é€€åˆ°å‰ 3 æ¬¡æäº¤ä¹‹å‰ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå›é€€åˆ° n æ¬¡æäº¤ä¹‹å‰# å¸¸ç”¨å‘½ä»¤äºŒï¼šç¨å¾®æ¸©æŸ”ï¼Œé‡ç½® HEADï¼ŒHEAD è¡¨ç¤ºçš„æ˜¯å½“å‰æŒ‡é’ˆæŒ‡å‘git reset --soft CommitID# å…¶ä»–å‘½ä»¤    --mixed               é‡ç½® HEAD å’Œç´¢å¼•åˆ°æš‚å­˜åŒº    --merge               é‡ç½® HEAD ç´¢å¼•å’Œå·¥ä½œåŒº    --keep                é‡ç½® HEAD ä½†ä¿å­˜æœ¬åœ°å˜æ›´\n\nå…¥åº“æµç¨‹1234567891011121314# æŸ¥çœ‹çŠ¶æ€ï¼Œå·¥ä½œåŒºgit status# æäº¤åˆ°æš‚å­˜åŒºgit add . æˆ– æ–‡ä»¶åœ°å€ // . ä»£è¡¨æ‰€æœ‰# æäº¤ç‰ˆæœ¬åº“ï¼Œå¯¹å¤–ä¸å¯è§ï¼Œæœ¬åœ°ä»“åº“git commit -m &#x27;æ“ä½œå¤‡æ³¨&#x27; // æ“ä½œå¤‡æ³¨æ˜¯ä¸ªå¥½ä¹ æƒ¯ï¼Œä¸€å®šè¦æ³¨é‡Šè¯¦ç»†# æ‹‰å–æ›´æ–°ï¼Œä»¥é˜²å†²çªgit pull origin [åˆ†æ”¯]# æœ€ç»ˆå…¥åº“ï¼Œè¿™ä¸€æ­¥ä¸€å®šè¦ç¡®è®¤æ­£ç¡®æ— è¯¯ï¼å¯¹å¤–å¯è§git push origin [åˆ†æ”¯]\n\n\n\n\n\n\n\nTIP\ngit commit -m çš„æ—¶å€™ï¼Œå…»æˆä¸€ä¸ªè‰¯å¥½çš„ä¹ æƒ¯ï¼Œéµå¾ªä¸€ä¸‹æäº¤å¤‡æ³¨è§„èŒƒï¼š\n\nfeatï¼šæ–°åŠŸèƒ½ï¼›\nfixï¼šä¿®å¤ bugï¼Œæºå¸¦ä¸Šå‡ºç° bug çš„ commit ID æœ€å¥½ï¼›\ndocsï¼šæ–‡æ¡£ï¼›\nstyleï¼šæ ¼å¼ï¼›\nrefactorï¼šé‡æ„ï¼Œå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹ bug çš„ä»£ç å˜åŠ¨ï¼›\nperfï¼šä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒï¼›\ntestï¼šå¢åŠ æµ‹è¯•ï¼›\nchoreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ï¼›\nrevertï¼šå›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼›\nmergeï¼šä»£ç åˆå¹¶ï¼›\nsyncï¼šåŒæ­¥ä¸»çº¿æˆ–åˆ†æ”¯çš„ bugï¼›\n\n\n\nåˆ†æ”¯æ“ä½œæŸ¥çœ‹åˆ†æ”¯12345678# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯git branch -a# æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯git branch -r# æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯git branch\n\nåˆ›å»ºæœ¬åœ°åˆ†æ”¯12345# æ­£å¸¸åˆ›å»ºgit branch åˆ†æ”¯å# åˆ›å»ºååˆ‡æ¢git checkout -b åˆ†æ”¯å\n\nåˆ‡æ¢æœ¬åœ°åˆ†æ”¯1git checkout åˆ†æ”¯\n\nåˆ›å»ºè¿œç¨‹åˆ†æ”¯12# æ„æ€å°±æ˜¯æœ¬åœ°åˆ›å»ºäº†åˆ†æ”¯ï¼Œç„¶å push åˆ°ä»“åº“å»git push origin [åˆ†æ”¯]\n\næ”¹å˜ä¸Šæ¸¸ä¿¡æ¯(è¿½è¸ª)12# ä½¿ç”¨ git status å¯ä»¥æŸ¥çœ‹åˆ°å½“å‰åˆ†æ”¯çš„è¿½è¸ªçš„åˆ†æ”¯ï¼Œä½¿ç”¨æ­¤å‘½ä»¤å¯ä»¥æ›´æ”¹è¿½è¸ªgit branch -u origin åˆ†æ”¯å\n\nåˆ é™¤æœ¬åœ°åˆ†æ”¯1git branch -d åˆ†æ”¯å\n\nåˆ é™¤è¿œç¨‹åˆ†æ”¯1git push --delete origin åˆ†æ”¯å\n\nåˆå¹¶åˆ†æ”¯1git merge åˆ†æ”¯å\n\nåˆå¹¶åˆ°ä¸»åˆ†æ”¯12345678# åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯git checkout åˆ†æ”¯å# å…»æˆä¸€ä¸ªè‰¯å¥½ä¹ æƒ¯ï¼Œåˆå¹¶å‰å…ˆæ‹‰å–æœ€æ–°git pull# åˆå¹¶git merge åˆ†æ”¯å\n\nä»“åº“æ“ä½œæŸ¥çœ‹ä»“åº“12345# æŸ¥çœ‹è¿™ä¸ªä»“åº“git remote # æŸ¥çœ‹è¯¦æƒ…git remote -v\n\næ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“12345678# æ·»åŠ è¿œç¨‹åˆ†æ”¯ï¼ŒæŒ‡å®šè¿œç¨‹ä»“åº“çš„åˆ«ågit remote add åˆ†æ”¯å ä»“åº“åœ°å€# æ›´æ–°è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯git fetch åˆ†æ”¯å# æ”¹å˜ä¸Šæ¸¸git branch -u åˆ†æ”¯å\n\né‡å‘½åè¿œç¨‹ä»“åº“åˆ«å12# é‡å‘½åè¿œç¨‹è¿½è¸ªåˆ†æ”¯git remote rename åŸå§‹åˆ†æ”¯å æ–°åˆ†æ”¯å\n\nç§»é™¤è¿œç¨‹ä»“åº“12# åˆ é™¤è¿œç¨‹è¿½è¸ªåˆ†æ”¯ï¼Œåˆ é™¤ä¹‹åè¿½è¸ªæ— æ•ˆgit remote remove åˆ†æ”¯å\n\nå…¶ä»–æ“ä½œå¿½ç•¥æ–‡ä»¶12# .gitignore å¿½ç•¥çš„æ–‡ä»¶ä¸ä¼šä¸Šä¼ vim .gitignore\n\nåˆ é™¤è¿œç¨‹ä»“åº“æŒ‡å®šæ–‡ä»¶1234567891011# æ¯”å¦‚é¡¹ç›® vendor ç›®å½•ä¼ äº†ä¸Šå»ï¼ˆæˆ‘åŒäº‹å°±ç»å¸¸è¿™æ ·ï¼‰git rm -r --cached [æ–‡ä»¶æˆ–ç›®å½•]git commit -m &#x27;å¤‡æ³¨&#x27;git push# ä¿®æ”¹ .gitignore å¿½ç•¥æ–‡ä»¶/vendor/*.*git add . git commit -m &#x27;å¤‡æ³¨&#x27;git push\n\nä¸€ä¸ªåˆ†æ”¯å¤šä¸ª commit åˆå¹¶æˆä¸€ä¸ª1git rebase -i","slug":"Git","date":"2024-02-26T13:42:40.000Z","categories_index":"","tags_index":"Git","author_index":"å“ªå’"},{"id":"263e776b7c4ab948e2c3d7edc00d6223","title":"MySQL è¯»å†™åˆ†ç¦»","content":"\n\n\n\n\n\n\n\n\nğŸ’¡ Tipsï¼šMySQL è¯»å†™åˆ†ç¦»æ˜¯ä¸€ç§æ•°æ®åº“æ¶æ„è®¾è®¡æ¨¡å¼ï¼Œæ—¨åœ¨æé«˜æ•°æ®åº“æ€§èƒ½å’Œå¯ä¼¸ç¼©æ€§ã€‚å®ƒé€šè¿‡å°†è¯»è¯·æ±‚å’Œå†™è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„æ•°æ®åº“å®ä¾‹ä¸Šæ¥å®ç°ã€‚\nåŸºæœ¬åŸç†\nä¸»æ•°æ®åº“ï¼ˆMasterï¼‰ï¼šè´Ÿè´£å¤„ç†æ‰€æœ‰çš„å†™æ“ä½œï¼ˆINSERTã€UPDATEã€DELETEï¼‰ï¼Œä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå¯é æ€§ï¼›\nä»æ•°æ®åº“ï¼ˆSlaveï¼‰ï¼šä¸»è¦è´Ÿè´£å¤„ç†è¯»æ“ä½œï¼ˆSELECTï¼‰ï¼Œå®ƒä»¬çš„æ•°æ®æ˜¯é€šè¿‡ä¸»æ•°æ®åº“åŒæ­¥å¤åˆ¶è¿‡æ¥çš„ï¼Œå› æ­¤æ•°æ®ä¸€è‡´æ€§ä¼šæœ‰ä¸€å®šå»¶è¿Ÿï¼›\n\n\n\n\n\n\n\nTIP\nè®¾ç½®ä¸»ä»å¤åˆ¶ï¼ˆMaster-Slave Replicationï¼‰ï¼šåœ¨ MySQL ä¸­é…ç½®ä¸»æ•°æ®åº“å’Œä»æ•°æ®åº“ã€‚ä¸»æ•°æ®åº“æŒç»­åœ°å°†å…¶å†™æ“ä½œçš„æ—¥å¿—ä¼ è¾“ç»™ä»æ•°æ®åº“ï¼Œä»æ•°æ®åº“åˆ™æ‰§è¡Œè¿™äº›å†™æ“ä½œï¼Œä»¥ä¿æŒæ•°æ®çš„åŒæ­¥ã€‚ä»æ•°æ®åº“çš„æ•°æ®åŒæ­¥å­˜åœ¨ä¸€å®šçš„å»¶è¿Ÿï¼Œå› æ­¤éœ€è¦è€ƒè™‘å¦‚ä½•å¤„ç†å»¶è¿Ÿå¸¦æ¥çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¯»æ“ä½œå¯ä»¥å®¹å¿ä¸€å®šçš„å»¶è¿Ÿï¼Œä½†å¯¹äºä¸€äº›å®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ï¼Œéœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œæ¯”å¦‚ï¼šå»ä¸»æ•°æ®åº“è¯»ï¼›\n\nå®ç°çš„æ ¸å¿ƒBinlog æ˜¯ MySQL ä¸­çš„äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆBinary Logï¼‰çš„ç®€ç§°ã€‚å®ƒæ˜¯ MySQL æ•°æ®åº“å¼•æ“è®°å½•æ•°æ®åº“å˜æ›´æ“ä½œçš„ä¸€ç§æ–¹å¼ã€‚Binlog è®°å½•äº†å¯¹æ•°æ®åº“è¿›è¡Œçš„æ‰€æœ‰ä¿®æ”¹ï¼ŒåŒ…æ‹¬ DDLï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼‰æ“ä½œï¼ˆå¦‚åˆ›å»ºã€ä¿®æ”¹å’Œåˆ é™¤è¡¨æ ¼ã€ç´¢å¼•ç­‰ï¼‰å’Œ DMLï¼ˆæ•°æ®æ“ä½œè¯­è¨€ï¼‰æ“ä½œï¼ˆå¦‚æ’å…¥ã€æ›´æ–°ã€åˆ é™¤ç­‰ï¼‰ï¼Œä»¥äºŒè¿›åˆ¶çš„å½¢å¼ä¿å­˜åœ¨æ–‡ä»¶ä¸­ã€‚äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶çš„å†…å®¹æ˜¯ä»¥äºŒè¿›åˆ¶æ ¼å¼å­˜å‚¨çš„ï¼Œè¿™äº›å†…å®¹å¯¹æ™®é€šç”¨æˆ·æ¥è¯´æ˜¯ä¸å¯è¯»çš„ã€‚ä½†æ˜¯ï¼Œé€šè¿‡ä½¿ç”¨ mysqlbinlog å·¥å…·ï¼Œå¯ä»¥å°†äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶è½¬æ¢æˆå¯è¯»çš„æ–‡æœ¬æ ¼å¼ï¼Œä»¥ä¾¿æŸ¥çœ‹å…¶å†…å®¹ï¼š\n1mysqlbinlog äºŒè¿›åˆ¶æ–‡ä»¶å.åºåˆ—å· &gt; binlog.txt\n\nBinlog æ–‡ä»¶å­˜å‚¨çš„å†…å®¹å¤§æ¦‚å¦‚æ­¤ï¼š\n123456789# at 123#210225 12:34:56 server id 1  end_log_pos 234BEGIN# at 234#210225 12:34:56 server id 1  end_log_pos 345INSERT INTO `example_table` VALUES (1, &#x27;example_data&#x27;);# at 345#210225 12:34:56 server id 1  end_log_pos 456COMMIT;\n\nä¸»æ•°æ®åº“é…ç½®ä¿®æ”¹ MySQL é…ç½®æ–‡ä»¶1vim /etc/mysql/my.cnf\n\n\n\n\n\n\n\nTIP\nMysql 5.7.2 ä»¥åæ²¡æœ‰é»˜è®¤é…ç½®äº†ï¼Œä¸€åˆ‡é…ç½®éœ€è¦è‡ªè¡Œé…ç½®ã€‚\n\n1234server-id=1              # æ•°æ®åº“å”¯ä¸€IDlog-bin=mysql-bin        # mysql-binæ—¥å¿—å‰ç¼€ï¼Œå¯è‡ªå®šä¹‰binlog-do-db=db1,db2     # éœ€è¦åŒæ­¥çš„åº“binlog-ignore-db=db1,db2 # å¿½ç•¥ä¸åŒæ­¥çš„åº“\n\n\n\n\n\n\n\nTIP\nbinlog ä¸¤ä¸ªå‚æ•°äºŒé€‰ä¸€ ï¼Œå¦‚æœéƒ½ä¸å†™ï¼Œåˆ™å…¨éƒ¨åŒæ­¥ã€‚\n\næŸ¥è¯¢ bin-log æ˜¯å¦å¼€å¯1show variables like &#x27;%log_bin%&#x27;;\n\n1234567891011+---------------------------------+--------------------------------+| Variable_name                   | Value                          |+---------------------------------+--------------------------------+| log_bin                         | ON                             || log_bin_basename                | /var/lib/mysql/mysql-bin       || log_bin_index                   | /var/lib/mysql/mysql-bin.index || log_bin_trust_function_creators | OFF                            || log_bin_use_v1_row_events       | OFF                            || sql_log_bin                     | ON                             |+---------------------------------+--------------------------------+6 rows in set (0.01 sec)\n\nåœ¨ä¸»æ•°æ®åº“ä¸Šå»ºç«‹å¸æˆ·å¹¶æˆæƒ1234567# ä»¥ä¸‹ä¸º 5.x ç‰ˆæœ¬ åˆ›å»ºç”¨æˆ·å¹¶ä¸”æˆæƒgrant replication slave  on *.*  to &#x27;nezha&#x27;@&#x27;%&#x27; identified by &#x27;9527&#x27;;# ä»¥ä¸‹ä¸º 8 ç‰ˆæœ¬ åˆ›å»ºç”¨æˆ·å¹¶ä¸”æˆæƒcreate user â€˜nezhaâ€™@â€˜%â€™ identified by â€˜9527â€™;grant all privileges on *.* to â€˜nezhaâ€™@â€™%â€™ with grant option; flush privileges;\n\næŸ¥çœ‹çŠ¶æ€1show master status;\n\n1234567# File å’Œ Position è¦è®°å½•å¥½+------------------+----------+--------------+------------------+-------------------+| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |+------------------+----------+--------------+------------------+-------------------+| mysql-bin.000001 |      155 | dao\t\t     |                  |                   |+------------------+----------+--------------+------------------+-------------------+1 row in set (0.00 sec)\n\n\n\n\n\n\n\nTIP\n\nFileï¼šå½“å‰æ­£åœ¨å†™å…¥çš„äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶çš„åç§°ï¼›\nPositionï¼šå½“å‰äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ä¸­æ­£åœ¨å†™å…¥çš„ä½ç½®ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ï¼Œå³ä¸‹ä¸€ä¸ªå¾…å†™å…¥çš„ä½ç½®ï¼›\nBinlog_Do_DBï¼šæŒ‡å®šè¦å†™å…¥äºŒè¿›åˆ¶æ—¥å¿—çš„æ•°æ®åº“ï¼Œå³åªè®°å½•ä¸è¿™äº›æ•°æ®åº“ç›¸å…³çš„æ“ä½œï¼›\nBinlog_Ignore_DBï¼šæŒ‡å®šä¸å†™å…¥äºŒè¿›åˆ¶æ—¥å¿—çš„æ•°æ®åº“ï¼Œå³å¿½ç•¥ä¸è¿™äº›æ•°æ®åº“ç›¸å…³çš„æ“ä½œï¼›\nExecuted_Gtid_Setï¼šå·²æ‰§è¡Œçš„å…¨å±€äº‹åŠ¡æ ‡è¯†ç¬¦ï¼ˆGTIDï¼‰é›†åˆï¼Œç”¨äºå¤åˆ¶å’Œæ¢å¤ï¼›\n\n\n\nä»æ•°æ®åº“é…ç½®ä¿®æ”¹ MySQL é…ç½®æ–‡ä»¶1vim /etc/mysql/my.cnf\n\n1234server-id=2         \t    # æ•°æ®åº“å”¯ä¸€IDlog-bin=mysql-bin    \t    # mysql-binæ—¥å¿—å‰ç¼€replicate-do-db=db1,db2\t\t# å¤åˆ¶æŒ‡å®šçš„æ•°æ®åº“replicate-ignore-db=db1,db2 # å¿½ç•¥æŒ‡å®šçš„æ•°æ®åº“\n\nè¿›å…¥æ•°æ®åº“å‘½ä»¤è¡Œæ‰§è¡Œ12345678910111213141516171819stop slave; CHANGE MASTER TO  # ä¸»æœåŠ¡å™¨åœ°å€  MASTER_HOST=&#x27;192.168.1.6&#x27;,  # ä¸»æœåŠ¡å™¨è´¦å·  MASTER_USER=&#x27;nezha&#x27;,  # ä¸»æœåŠ¡å™¨å¯†ç   MASTER_PASSWORD=&#x27;9527&#x27;,  # ä¸»æœåŠ¡å™¨ç«¯å£  MASTER_PORT=3306,  # ä¸»æœåŠ¡å™¨ binlog æ—¥å¿—æ–‡ä»¶å,å¯¹åº”çš„ show master status çš„ File  MASTER_LOG_FILE=&#x27;mysql-bin.000001&#x27;,  # ä¸»æœåŠ¡å™¨æ—¥å¿—è®°å½•èµ·ç‚¹ä½ç½®ï¼Œå¯¹åº”çš„  show master status çš„ Position  MASTER_LOG_POS=155,  # è¿æ¥é‡è¯•æ¬¡æ•°  MASTER_CONNECT_RETRY=10;start slave;\n\næŸ¥çœ‹æ˜¯å¦é…ç½®æˆåŠŸ12Slave_IO_Running:Yes Slave_SQL_Running:Yes \n\n\n\n\n\n\n\nTIP\nä»¥ä¸Šä¸¤ä¸ªéƒ½ä¸º yes åˆ™è¡¨æ˜æˆåŠŸï¼ŒIO è¡¨ç¤ºæ­¤è¿›ç¨‹è´Ÿè´£ä»æœåŠ¡å™¨ä»ä¸»æœåŠ¡å™¨ä¸Šè¯»å–binlog æ—¥å¿—ï¼Œå¹¶å†™å…¥ä»æœåŠ¡å™¨ä¸Šçš„ä¸­ç»§æ—¥å¿—ï¼ŒSQL è¡¨ç¤ºæ­¤è¿›ç¨‹è´Ÿè´£è¯»å–å¹¶ä¸”æ‰§è¡Œä¸­ç»§æ—¥å¿—ä¸­çš„binlogæ—¥å¿—ã€‚\n\nLaravel å®ç°è¯»å†™åˆ†ç¦»åšä¸º PHP çš„è‰ºæœ¯å®¶æ¡†æ¶ï¼ŒLaravel å®ç° MySQL çš„è¯»å†™åˆ†ç¦»éå¸¸çš„ç®€å•ï¼Œåªéœ€è¦æ›´æ”¹ database.php é…ç½®æ–‡ä»¶å³å¯ï¼š\n123456789101112131415161718192021222324252627        &#x27;mysql&#x27; =&gt; [            &#x27;driver&#x27; =&gt; &#x27;mysql&#x27;,            &#x27;read&#x27; =&gt; [                &#x27;host&#x27; =&gt; &#x27;192.168.1.6&#x27;,                &#x27;password&#x27; =&gt; env(&#x27;DB_READ_PASSWORD&#x27;, &#x27;&#x27;)            ],            &#x27;write&#x27; =&gt; [                &#x27;host&#x27; =&gt; &#x27;192.168.1.6&#x27;,                &#x27;password&#x27; =&gt; env(&#x27;DB_WRITE_PASSWORD&#x27;, &#x27;&#x27;)            ],            &#x27;url&#x27; =&gt; env(&#x27;DATABASE_URL&#x27;),//            &#x27;host&#x27; =&gt; env(&#x27;DB_HOST&#x27;, &#x27;127.0.0.1&#x27;),            &#x27;port&#x27; =&gt; env(&#x27;DB_PORT&#x27;, &#x27;3306&#x27;),            &#x27;database&#x27; =&gt; env(&#x27;DB_DATABASE&#x27;, &#x27;forge&#x27;),            &#x27;username&#x27; =&gt; env(&#x27;DB_USERNAME&#x27;, &#x27;forge&#x27;),//            &#x27;password&#x27; =&gt; env(&#x27;DB_PASSWORD&#x27;, &#x27;&#x27;),            &#x27;unix_socket&#x27; =&gt; env(&#x27;DB_SOCKET&#x27;, &#x27;&#x27;),            &#x27;charset&#x27; =&gt; &#x27;utf8mb4&#x27;,            &#x27;collation&#x27; =&gt; &#x27;utf8mb4_unicode_ci&#x27;,            &#x27;prefix&#x27; =&gt; &#x27;&#x27;,            &#x27;prefix_indexes&#x27; =&gt; true,            &#x27;strict&#x27; =&gt; true,            &#x27;engine&#x27; =&gt; null,            &#x27;options&#x27; =&gt; extension_loaded(&#x27;pdo_mysql&#x27;) ? array_filter([                PDO::MYSQL_ATTR_SSL_CA =&gt; env(&#x27;MYSQL_ATTR_SSL_CA&#x27;),            ]) : [],        ],\n\n\n\n\n\n\n\nTIP\nLaravel çš„ MySQL é©±åŠ¨æ˜¯æ”¯æŒï¼šä¸€ä¸»å¤šä»æˆ–å¤šä¸»å¤šä»çš„ï¼Œå®é™…æƒ…å†µæ ¹æ®é¡¹ç›®éœ€æ±‚è€Œå®šã€‚\n\n","slug":"MySQL-è¯»å†™åˆ†ç¦»","date":"2024-02-26T12:27:04.000Z","categories_index":"","tags_index":"MySQL","author_index":"å“ªå’"},{"id":"bed83d6062569a837b3fdb59545fa846","title":"RSA éå¯¹ç§°åŠ å¯†","content":"\n\n\n\n\n\n\n\n\nğŸ’¡ Tipsï¼šRSA åŠ å¯†æ˜¯ä¸€ç§éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œä½¿ç”¨ä¸€å¯¹å¯†é’¥è¿›è¡ŒåŠ è§£å¯†ï¼Œåˆ†åˆ«ä¸ºå…¬é’¥å’Œç§é’¥ã€‚å…¬é’¥ç”¨äºåŠ å¯†ä¿¡æ¯ï¼Œç§é’¥ç”¨äºè§£å¯†ä¿¡æ¯ã€‚è¿™ç§è®¾ç½®ä½¿å¾—å‘é€è€…å¯ä»¥ä½¿ç”¨å…¬é’¥åŠ å¯†ä¿¡æ¯å¹¶å‘é€ç»™æ¥æ”¶è€…ï¼Œè€Œåªæœ‰æ¥æ”¶è€…æŒæœ‰ç›¸åº”ç§é’¥æ‰èƒ½è§£å¯†å¹¶è¯»å–ä¿¡æ¯ã€‚\nRSA åŠ è§£å¯†çš„æ ¸å¿ƒæ˜¯åŸºäºç´ æ•°ï¼ˆåªèƒ½è¢« 1 å’Œå®ƒè‡ªèº«æ•´é™¤çš„æ•°ï¼‰çš„ç®—æ³•ï¼Œå¦‚æœæ²¡æœ‰ä¸€ä¸ªå¥½çš„ç®—æ³•ï¼Œé‚£ä¹ˆåŠ è§£å¯†æ•ˆç‡éå¸¸ä½ï¼å·¥ä½œä¸­ç§»æ¤è¿‡ CycloneSSH çš„ ssh-keygen ç”Ÿæˆå…¬é’¥ç§é’¥æ•ˆç‡æä½ï¼Œå°±æ˜¯å› ä¸ºæ²¡æœ‰ä¸€ä¸ªå¥½çš„ç´ æ•°ç®—æ³•ã€‚\néšç€ç°åœ¨è®¡ç®—æœºçš„è®¡ç®—èƒ½åŠ›æå‡å’Œå¯†ç åˆ†ææŠ€æœ¯çš„è¿›æ­¥ï¼Œ1024 é•¿åº¦çš„ rsa åŠ å¯†å·²ç»ä¸å®‰å…¨äº†ï¼Œå› æ­¤åœ¨ä½¿ç”¨æ—¶éœ€è¦è°¨æ…è€ƒè™‘å¯†é’¥é•¿åº¦å’Œç®—æ³•çš„é€‰æ‹©ã€‚\néå¯¹ç§°ä¸å¯¹ç§°åŠ å¯†å½“æˆ‘ä»¬è®¨è®ºåŠ å¯†æ—¶ï¼Œé€šå¸¸ä¼šæ¶‰åŠä¸¤ç§ä¸»è¦ç±»å‹ï¼šéå¯¹ç§°åŠ å¯†å’Œå¯¹ç§°åŠ å¯†ã€‚\néå¯¹ç§°åŠ å¯†éå¯¹ç§°åŠ å¯†ä½¿ç”¨ä¸€å¯¹å¯†é’¥ï¼Œåˆ†åˆ«ç§°ä¸ºå…¬é’¥å’Œç§é’¥ã€‚å…¬é’¥ç”¨äºåŠ å¯†æ•°æ®ï¼Œè€Œç§é’¥ç”¨äºè§£å¯†æ•°æ®ã€‚å…¬é’¥æ˜¯å…¬å¼€çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨å®ƒæ¥åŠ å¯†æ•°æ®ã€‚ç§é’¥åˆ™ç”±æ•°æ®çš„æ¥æ”¶è€…ä¿å¯†ï¼Œç”¨äºè§£å¯†æ•°æ®ã€‚\n\n\n\n\n\n\nTIP\nå¸¸è§çš„éå¯¹ç§°åŠ å¯†ç®—æ³•æ˜¯ RSAï¼ˆRivest-Shamir-Adlemanï¼‰ï¼Œéå¯¹ç§°åŠ å¯†é€‚ç”¨äºéœ€è¦å®‰å…¨é€šä¿¡ã€æ•°å­—ç­¾åå’Œèº«ä»½éªŒè¯ç­‰åœºæ™¯ã€‚\n\néå¯¹ç§°åŠ å¯†çš„åº”ç”¨åœºæ™¯\nå®‰å…¨é€šä¿¡ï¼šéå¯¹ç§°åŠ å¯†å¸¸ç”¨äºå®‰å…¨é€šä¿¡ï¼Œå¦‚ç”µå­é‚®ä»¶ã€æ–‡ä»¶ä¼ è¾“ç­‰ã€‚å‘é€è€…ä½¿ç”¨æ¥æ”¶è€…çš„å…¬é’¥æ¥åŠ å¯†æ•°æ®ï¼Œè€Œåªæœ‰æ¥æ”¶è€…æ‹¥æœ‰ç›¸åº”çš„ç§é’¥æ‰èƒ½è§£å¯†æ•°æ®ï¼›\næ•°å­—ç­¾åï¼šéå¯¹ç§°åŠ å¯†å¯ç”¨äºç”Ÿæˆå’ŒéªŒè¯æ•°å­—ç­¾åï¼Œä»¥ç¡®ä¿æ•°æ®çš„çœŸå®æ€§å’Œå®Œæ•´æ€§ã€‚å‘é€è€…ä½¿ç”¨è‡ªå·±çš„ç§é’¥æ¥å¯¹æ•°æ®è¿›è¡Œç­¾åï¼Œè€Œæ¥æ”¶è€…å¯ä»¥ä½¿ç”¨å‘é€è€…çš„å…¬é’¥æ¥éªŒè¯ç­¾åï¼›\nå¯†é’¥äº¤æ¢ï¼šéå¯¹ç§°åŠ å¯†å¯ç”¨äºå®‰å…¨åœ°äº¤æ¢å¯¹ç§°åŠ å¯†å¯†é’¥ã€‚ä¾‹å¦‚ï¼ŒDiffie-Hellmanï¼ˆSSHåè®®ï¼‰ å¯†é’¥äº¤æ¢åè®®ä½¿ç”¨éå¯¹ç§°åŠ å¯†ç®—æ³•æ¥åå•†å¯¹ç§°å¯†é’¥ï¼Œä»è€Œå®ç°å®‰å…¨é€šä¿¡ï¼›\nèº«ä»½éªŒè¯ï¼šéå¯¹ç§°åŠ å¯†å¯ç”¨äºç”¨æˆ·èº«ä»½éªŒè¯ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨å…¶ç§é’¥æ¥ç”Ÿæˆæ•°å­—ç­¾åï¼Œä»¥è¯æ˜å…¶èº«ä»½ã€‚ï¼›\n\nå¯¹ç§°åŠ å¯†å¯¹ç§°åŠ å¯†ä½¿ç”¨ç›¸åŒçš„å¯†é’¥ï¼ˆä¹Ÿç§°ä¸ºâ€œç§˜å¯†å¯†é’¥â€ï¼‰æ¥åŠ å¯†å’Œè§£å¯†æ•°æ®ã€‚è¿™æ„å‘³ç€å‘é€è€…å’Œæ¥æ”¶è€…å¿…é¡»äº‹å…ˆå…±äº«ç›¸åŒçš„å¯†é’¥ã€‚åœ¨åŠ å¯†æ—¶ï¼Œå‘é€è€…ä½¿ç”¨å¯†é’¥å°†æ˜æ–‡è½¬æ¢ä¸ºå¯†æ–‡ã€‚ç„¶åï¼Œæ¥æ”¶è€…ä½¿ç”¨ç›¸åŒçš„å¯†é’¥å°†å¯†æ–‡è§£å¯†ä¸ºæ˜æ–‡ã€‚\n\n\n\n\n\n\nTIP\nå¸¸è§çš„å¯¹ç§°åŠ å¯†ç®—æ³•åŒ…æ‹¬ AESï¼ˆé«˜çº§åŠ å¯†æ ‡å‡†ï¼‰å’Œ DESï¼ˆæ•°æ®åŠ å¯†æ ‡å‡†ï¼‰ç­‰ã€‚å¯¹ç§°åŠ å¯†é€‚ç”¨äºéœ€è¦é«˜æ•ˆåŠ å¯†å¤§é‡æ•°æ®çš„åœºæ™¯ã€‚\n\nå¯¹ç§°åŠ å¯†åº”ç”¨åœºæ™¯\næ•°æ®ä¼ è¾“åŠ å¯†ï¼šå¯¹ç§°åŠ å¯†å¸¸ç”¨äºä¿æŠ¤æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„å®‰å…¨æ€§ã€‚ä¾‹å¦‚ï¼ŒHTTPS åè®®å°±ä½¿ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•æ¥åŠ å¯†æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­çš„é€šä¿¡å†…å®¹ï¼›\næ•°æ®å­˜å‚¨åŠ å¯†ï¼šå¯¹ç§°åŠ å¯†å¯ä»¥ç”¨äºä¿æŠ¤æ•°æ®åœ¨å­˜å‚¨ä»‹è´¨ä¸Šçš„å®‰å…¨æ€§ã€‚ä¾‹å¦‚ï¼ŒåŠ å¯†æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚ BitLockerï¼‰ä½¿ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•æ¥åŠ å¯†å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„æ•°æ®ï¼›\nä¼šè¯åŠ å¯†ï¼šå¯¹ç§°åŠ å¯†å¯ç”¨äºä¿æŠ¤ç½‘ç»œä¼šè¯çš„å®‰å…¨æ€§ã€‚ä¾‹å¦‚ï¼Œå¸¸è§çš„ TLS&#x2F;SSL åè®®ä½¿ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•æ¥åŠ å¯†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ä¼šè¯ï¼›\nå¯†ç å­¦åº”ç”¨ï¼šå¯¹ç§°åŠ å¯†å¯ç”¨äºå¯†ç å­¦åº”ç”¨ï¼Œå¦‚æ¶ˆæ¯è®¤è¯ç ï¼ˆMACï¼‰çš„ç”Ÿæˆå’ŒéªŒè¯ï¼Œä»¥ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§å’ŒçœŸå®æ€§ï¼›\n\nç”Ÿæˆç§˜é’¥å¯¹12345678# ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆç§é’¥ï¼Œè¿™é‡Œæˆ‘ä»¬æŒ‡å®šç§é’¥çš„é•¿åº¦ä¸º1024, é•¿åº¦è¶Šé•¿ï¼ŒåŠ è§£å¯†æ¶ˆè€—çš„æ—¶é—´è¶Šé•¿openssl genrsa -out rsa_private_key.pem 1024# ç¬¬äºŒæ­¥ï¼šæ ¹æ®ç§é’¥ç”Ÿæˆå¯¹åº”çš„å…¬é’¥openssl rsa -in rsa_private_key.pem -pubout -out rsa_public_key.pub# ç¬¬ä¸‰æ­¥ï¼šç§é’¥è½¬åŒ–æˆpkcs8æ ¼å¼ï¼Œã€è¿™ä¸€æ­¥éå¿…é¡»ï¼Œåªæ˜¯ç¨‹åºè§£æèµ·æ¥æ–¹ä¾¿ã€‘openssl pkcs8 -topk8 -inform PEM -in rsa_private_key.pem -outform PEM -nocrypt -out rsa_private_key_pkcs8.pem\n\n\n\n\n\n\n\nTIP\n\nLinux éœ€å®‰è£… OpenSSHï¼šsudo apt-get install openssh-serverï¼›\nWindows 10 ä»¥åŠä»¥ä¸Šçš„ç‰ˆæœ¬è‡ªå¸¦ SSH å®¢æˆ·ç«¯ï¼Œå…¶ä»–ç‰ˆæœ¬å¯ä»¥ç¬¬ä¸‰æ–¹å·¥å…·ä½¿ç”¨ SSH å®¢æˆ·ç«¯ï¼›\n\n\n\nPHP RSA åŠ è§£å¯†123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596&lt;?phpnamespace App\\Services;class SignService&#123;    protected $publicKey;    protected $privateKey;    /**     * åˆå§‹åŒ–     * */    public function __construct()    &#123;        $this-&gt;publicKey  = openssl_get_publickey(file_get_contents(&#x27;../rsa_public_key.pub&#x27;));        $this-&gt;privateKey = openssl_get_privatekey(file_get_contents(&#x27;../rsa_private_key_pkcs8.pem&#x27;));    &#125;    /**     * å…¬é’¥åŠ å¯†     * @param mixed $data     *     * @return string     */    function encrypt($data)    &#123;        $encrypt = &#x27;&#x27;;        foreach (str_split($data, 117) as $item)        &#123;            $temp = &#x27;&#x27;;            openssl_public_encrypt($item, $encrypt, $this-&gt;publicKey);            $encrypt .= $temp;        &#125;        openssl_free_key($this-&gt;publicKey);        return base64_encode($encrypt);    &#125;    /**     * ç§é’¥è§£å¯†     * @param mixed $data     *     * @return string     */    function decrypt($data)    &#123;        $data    = base64_decode($data);        $decrypt = &#x27;&#x27;;        foreach (str_split($data, 128) as $item)        &#123;            $temp = &#x27;&#x27;;            openssl_private_decrypt($item, $temp, $this-&gt;privateKey);            $decrypt .= $temp;        &#125;        openssl_free_key($this-&gt;privateKey);        return $decrypt;    &#125;    /**     * ç§é’¥ç”Ÿæˆç­¾å     * @param mixed $data     *     * @return string     */    function sign($data)    &#123;        $signature = config(&#x27;app.signature&#x27;);        openssl_sign($data, $signature, $this-&gt;privateKey);        openssl_free_key($this-&gt;privateKey);        return base64_encode($signature);    &#125;    /**     * å…¬é’¥éªŒè¯     * @param mixed $data     * @param mixed $sign     *     * @return bool     */    function veritySign($data,$sign)    &#123;        $result = openssl_verify($data, base64_decode($sign), $this-&gt;publicKey);        openssl_free_key($this-&gt;publicKey);        return (bool)$result;    &#125;&#125;\n\n\n\n\n\n\n\nTIP\nPHP è¦æ“ä½œ RSA éœ€è¦ç”¨åˆ° OpenSSL æ‰©å±•åº“ï¼Œå¦å¤–éœ€è¦æ³¨æ„ï¼šRSA åŠ å¯†é‡‡ç”¨äº†åˆ†å—è¿›è¡ŒåŠ å¯†ï¼Œå› æ­¤æœ‰é•¿åº¦é™åˆ¶ã€‚å¯¹äºè¾ƒé•¿çš„åŸæ–‡ï¼Œéœ€è¦è¿›è¡Œåˆ†æ®µåŠ è§£å¯†ï¼Œåˆ†åˆ«å¯¹æ¯ä¸ªåˆ†æ®µè¿›è¡ŒåŠ å¯†ï¼ˆ117ï¼‰æˆ–è§£å¯†ï¼ˆ128ï¼‰ï¼Œç„¶åå†åˆå¹¶ç»“æœã€‚è¿™ç§æ–¹å¼å¯ä»¥å…‹æœ RSA åŠ å¯†é•¿åº¦çš„é™åˆ¶ï¼Œä½†ä¼šå‡ºç°æ•ˆç‡é—®é¢˜ï¼Œå› ä¸ºåˆ†æ®µåŠ è§£å¯†å¯èƒ½ä¼šå¯¼è‡´é¢å¤–çš„è®¡ç®—å¼€é”€ã€‚\n\nç§»æ¤ ssh-keygen å®¢æˆ·ç«¯123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244// libc ä¾èµ–#include &lt;stdio.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/stat.h&gt;#include &lt;time.h&gt;// cyclone ä¾èµ–#include &quot;path.h&quot;#include &quot;pkc/rsa.h&quot;#include &quot;rng/trng.h&quot;#include &quot;rng/yarrow.h&quot;#include &quot;ssh/ssh_key_export.h&quot;// éšæœºæ•°ç§å­#define SEED_SIZE 32// rsa æ”¯æŒçš„é•¿åº¦#define MIN_SUPPORT_BYTES 2048#define MAX_SUPPORT_BYTES 16384// é»˜è®¤ ssh å­˜æ”¾è·¯å¾„#define SSH_PATH &quot;/ssh&quot;// æ¿å­ä¸Šç»ˆç«¯æœ€å¤šåªèƒ½è¾“å…¥ 120 å·¦å³ä¸ªå­—ç¬¦#define MAX_KEY_LEN 255// Yarrow PRNG ä¸Šä¸‹æ–‡YarrowContext yarrowContext;/** * @brief ç¬¦å·è¡¨ */const char *symbolArray[] = &#123;&quot;.&quot;, &quot;./&quot;, &quot;..&quot;, &quot;../&quot;, &quot;/&quot;&#125;;/** * @brief çŠ¶æ€ */enum state &#123;    HELP,    FAILED_BIT_SIZE,    FAILED_BIT_TYPE&#125;;/** * @brief ç”Ÿæˆå‚æ•° */struct GenerateParam &#123;    size_t bitSize;    char_t *filename;    char_t *algorithm;&#125; generateParam;/** * @brief æ‰“å°ä¿¡æ¯ * * @param[in] code  çŠ¶æ€ç  */static void printUsage(int_t code) &#123;    switch (code) &#123;        case HELP:            printf(&quot;usage: ssh-keygen [OPTIONS] &lt;file&gt;...\\n\\n&quot;);            printf(&quot;OPTIONS: [-b bits] [-f output_keyfile] [-t dsa | ecdsa | ed25519 | rsa]\\n\\n&quot;);            printf(&quot;-b &lt;bits&gt; Specify the key length \\n&quot;);            printf(&quot;-f &lt;output_keyfile&gt; Specifies the file name to save the key \\n&quot;);            printf(&quot;-t Specifies the type of key to create \\&quot;Only RSA is supported\\&quot; \\n&quot;);            break;        case FAILED_BIT_SIZE:            printf(&quot;The key length is 2048 range 16384 \\n&quot;);            break;        case FAILED_BIT_TYPE:            printf(&quot;Bits value invalid \\n&quot;);            break;    &#125;    exit(code);&#125;/** * @brief å†™å…¥ç”Ÿæˆçš„è¯ä¹¦ç§˜é’¥ * * @param[in] certPublicKey  å…¬é’¥ * @param[in] certPrivateKey ç§é’¥ */static void writeGenerateCertKeys(const char_t *certPublicKey, const char_t *certPrivateKey) &#123;    FILE *pubFile, *priFile;    char_t pubKeyPath[MAX_KEY_LEN];    char_t priKeyPath[MAX_KEY_LEN];    if (generateParam.algorithm == NULL) &#123;        generateParam.algorithm = &quot;rsa&quot;;    &#125;    if (generateParam.filename == NULL) &#123;        if (access(SSH_PATH, F_OK) != 0 &amp;&amp; mkdir(SSH_PATH, 0777) != 0) &#123;            printf(&quot;Saving key \\&quot;%s\\&quot; failed: No such file or directory\\n&quot;, SSH_PATH);            exit(ERROR_DIRECTORY_NOT_FOUND);        &#125;        snprintf(pubKeyPath, MAX_KEY_LEN, &quot;%s%s%s%s&quot;, SSH_PATH, &quot;/id_&quot;, generateParam.algorithm, &quot;.pub&quot;);        snprintf(priKeyPath, MAX_KEY_LEN, &quot;%s%s%s&quot;, SSH_PATH, &quot;/id_&quot;, generateParam.algorithm);    &#125; else &#123;        uint_t isSymbolTableMatched = FALSE;        const char_t *filename = pathGetFilename(generateParam.filename);        for (uint_t i = 0; i &lt; 5; ++i) &#123;            if (osStrcmp(filename, symbolArray[i]) == 0) &#123;                isSymbolTableMatched = TRUE;            &#125;        &#125;        pathRemoveSlash(generateParam.filename);        if (isSymbolTableMatched) &#123;            snprintf(pubKeyPath, MAX_KEY_LEN, &quot;%s%s%s%s&quot;, generateParam.filename, &quot;/id_&quot;, generateParam.algorithm, &quot;.pub&quot;);            snprintf(priKeyPath, MAX_KEY_LEN, &quot;%s%s%s&quot;, generateParam.filename, &quot;/id_&quot;, generateParam.algorithm);        &#125; else &#123;            snprintf(pubKeyPath, MAX_KEY_LEN, &quot;%s%s&quot;, generateParam.filename, &quot;.pub&quot;);            snprintf(priKeyPath, MAX_KEY_LEN, &quot;%s&quot;, generateParam.filename);        &#125;    &#125;    if ((pubFile = fopen(pubKeyPath, &quot;w+&quot;)) == NULL) &#123;        printf(&quot;Saving key \\&quot;%s\\&quot; failed: No such file or directory\\n&quot;, pubKeyPath);        exit(ERROR_FILE_OPENING_FAILED);    &#125;    if ((priFile = fopen(priKeyPath, &quot;w+&quot;)) == NULL) &#123;        fclose(pubFile);        printf(&quot;Saving key \\&quot;%s\\&quot; failed: No such file or directory\\n&quot;, priKeyPath);        exit(ERROR_FILE_OPENING_FAILED);    &#125;    size_t rc1 = fwrite(certPublicKey, sizeof(char_t), osStrlen(certPublicKey), pubFile);    size_t rc2 = fwrite(certPrivateKey, sizeof(char_t), osStrlen(certPrivateKey), priFile);    fclose(pubFile);    fclose(priFile);&#125;/** * @brief rsa è¯ä¹¦ç”Ÿæˆ * * @return Error Code */static error_t generateRsaCertKeys() &#123;    error_t error;    RsaPublicKey publicKey;    RsaPrivateKey privateKey;    size_t bitSize = generateParam.bitSize ?: MIN_SUPPORT_BYTES;    char_t certPublicKey[bitSize];    char_t certPrivateKey[bitSize];    rsaInitPublicKey(&amp;publicKey);    rsaInitPrivateKey(&amp;privateKey);    if ((error = rsaGenerateKeyPair(YARROW_PRNG_ALGO, &amp;yarrowContext, bitSize, 65537, &amp;privateKey, &amp;publicKey))) &#123;        printf(&quot;Failed RSA key pair generation\\r\\n&quot;);        goto response;    &#125;    if ((error = sshExportRsaPublicKey(&amp;publicKey, certPublicKey, &amp;bitSize, SSH_PUBLIC_KEY_FORMAT_OPENSSH))) &#123;        printf(&quot;Failed Export an RSA public key to PEM format&quot;);        goto response;    &#125;    if ((error = sshExportRsaPrivateKey(&amp;privateKey, &amp;publicKey, certPrivateKey, &amp;bitSize, SSH_PRIVATE_KEY_FORMAT_OPENSSH))) &#123;        printf(&quot;Failed Export an RSA private key to PEM format\\r\\n&quot;);        goto response;    &#125;    writeGenerateCertKeys(certPublicKey, certPrivateKey);    response:    rsaFreePublicKey(&amp;publicKey);    rsaFreePrivateKey(&amp;privateKey);    return error;&#125;/** * @brief ssh-keygen * * @return Unused value */int_t main(int_t argc, char_t *argv[]) &#123;    int_t rc;    error_t error;    uint8_t seed[SEED_SIZE];    if (argc == 2 &amp;&amp; osStrcmp(argv[1], &quot;--help&quot;) == 0) &#123;        printUsage(HELP);    &#125;    /**     * -b æŒ‡å®šå¯†é’¥é•¿åº¦ã€‚å¯¹äº RSA å¯†é’¥ï¼Œæœ€ä½åªæ”¯æŒ 2048     * -f æŒ‡å®šå¯†é’¥æ–‡ä»¶å     * -t æŒ‡å®šè¦åˆ›å»ºçš„å¯†é’¥ç±»å‹ã€‚ç›®å‰ä»…æ”¯æŒ rsa     */    while ((rc = getopt(argc, argv, &quot;b:f:t:&quot;)) != -1) &#123;        switch (rc) &#123;            case &#x27;b&#x27;:                for (uint_t i = 0; i &lt; osStrlen(optarg); ++i) &#123;                    if (osIsdigit(optarg[i]) == 0) &#123;                        printUsage(FAILED_BIT_TYPE);                    &#125;                &#125;                generateParam.bitSize = atoi(optarg);                if (generateParam.bitSize &lt; MIN_SUPPORT_BYTES || generateParam.bitSize &gt; MAX_SUPPORT_BYTES) &#123;                    printUsage(FAILED_BIT_SIZE);                &#125;                break;            case &#x27;f&#x27;:                generateParam.filename = optarg;                break;            case &#x27;t&#x27;:                if (osStrcmp(optarg, &quot;rsa&quot;) != 0) &#123;                    printUsage(HELP);                &#125;                generateParam.algorithm = optarg;                break;            default:                printUsage(HELP);        &#125;    &#125;    if ((error = yarrowInit(&amp;yarrowContext))) &#123;        printf(&quot;Failed to initialize PRNG!\\r\\n&quot;);        return error;    &#125;    if ((error = yarrowSeed(&amp;yarrowContext, seed, sizeof(seed)))) &#123;        printf(&quot;Failed to seed PRNG!\\r\\n&quot;);        return error;    &#125;    return generateRsaCertKeys();&#125;\n\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423/* *  Multi-precision integer library * *  Copyright The Mbed TLS Contributors *  SPDX-License-Identifier: Apache-2.0 * *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may *  not use this file except in compliance with the License. *  You may obtain a copy of the License at * *  http://www.apache.org/licenses/LICENSE-2.0 * *  Unless required by applicable law or agreed to in writing, software *  distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT *  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. *  See the License for the specific language governing permissions and *  limitations under the License. *//* *  The following sources were referenced in the design of this Multi-precision *  Integer library: * *  [1] Handbook of Applied Cryptography - 1997 *      Menezes, van Oorschot and Vanstone * *  [2] Multi-Precision Math *      Tom St Denis *      https://github.com/libtom/libtommath/blob/develop/tommath.pdf * *  [3] GNU Multi-Precision Arithmetic Library *      https://gmplib.org/manual/index.html * *///!!!MODIFIED FILE!!!#include &quot;core/crypto.h&quot;#include &quot;mpi/mpi.h&quot;#include &quot;rng/yarrow.h&quot;extern YarrowContext yarrowContext;#define MBEDTLS_MPI_CHK(f) if((ret = f) != 0) goto cleanup#define mbedtls_mpi Mpi#define mbedtls_mpi_sint int_t#define mbedtls_mpi_uint uint_t#define mbedtls_mpi_init mpiInit#define mbedtls_mpi_free mpiFree#define mbedtls_mpi_sub_int mpiSubInt#define mbedtls_mpi_copy mpiCopy#define mbedtls_mpi_shift_r mpiShiftRight#define mbedtls_mpi_shift_l mpiShiftLeft#define mbedtls_mpi_bitlen mpiGetBitLength#define mbedtls_mpi_cmp_mpi mpiComp#define mbedtls_mpi_cmp_int mpiCompInt#define mbedtls_mpi_add_int mpiAddInt#define mbedtls_mpi_mul_mpi mpiMul#define mbedtls_mpi_mod_mpi mpiMod#define mbedtls_mpi_inv_mod mpiInvMod#define mbedtls_mpi_lset mpiSetValue#define mbedtls_mpi_set_bit mpiSetBitValue#define mbedtls_mpi_exp_mod mpiExpMod#define mbedtls_mpi_sub_abs mpiSubAbs#define mbedtls_mpi_fill_random(xx, nn, algo, ctx) mpiRand(xx, (nn) * 8, algo, ctx)#define ciL    (sizeof(mbedtls_mpi_uint))         /* chars in limb  */#define biL    (ciL &lt;&lt; 3)               /* bits  in limb  */#define biH    (ciL &lt;&lt; 2)               /* half limb size */#define BITS_TO_LIMBS(i)  ( (i) / biL + ( (i) % biL != 0 ) )#define CHARS_TO_LIMBS(i) ( (i) / ciL + ( (i) % ciL != 0 ) )#define MBEDTLS_MPI_MAX_BITS 4096#define MBEDTLS_ERR_MPI_NOT_ACCEPTABLE (2)#define MBEDTLS_ERR_MPI_BAD_INPUT_DATA (3)#define MBEDTLS_ERR_RSA_BAD_INPUT_DATA (4)#define MBEDTLS_ERR_RSA_KEY_GEN_FAILED (5)#define MBEDTLS_ERR_MPI_DIVISION_BY_ZERO (6)#define MBEDTLS_ERR_MPI_NEGATIVE_VALUE (7)static const int small_prime[] =&#123;        3,    5,    7,   11,   13,   17,   19,   23,       29,   31,   37,   41,   43,   47,   53,   59,       61,   67,   71,   73,   79,   83,   89,   97,      101,  103,  107,  109,  113,  127,  131,  137,      139,  149,  151,  157,  163,  167,  173,  179,      181,  191,  193,  197,  199,  211,  223,  227,      229,  233,  239,  241,  251,  257,  263,  269,      271,  277,  281,  283,  293,  307,  311,  313,      317,  331,  337,  347,  349,  353,  359,  367,      373,  379,  383,  389,  397,  401,  409,  419,      421,  431,  433,  439,  443,  449,  457,  461,      463,  467,  479,  487,  491,  499,  503,  509,      521,  523,  541,  547,  557,  563,  569,  571,      577,  587,  593,  599,  601,  607,  613,  617,      619,  631,  641,  643,  647,  653,  659,  661,      673,  677,  683,  691,  701,  709,  719,  727,      733,  739,  743,  751,  757,  761,  769,  773,      787,  797,  809,  811,  821,  823,  827,  829,      839,  853,  857,  859,  863,  877,  881,  883,      887,  907,  911,  919,  929,  937,  941,  947,      953,  967,  971,  977,  983,  991,  997, -103&#125;;/* * Return the number of less significant zero-bits */size_t mbedtls_mpi_lsb( const mbedtls_mpi *X )&#123;    size_t i, j, count = 0;    for( i = 0; i &lt; X-&gt;size; i++ )        for( j = 0; j &lt; 32; j++, count++ )            if( ( ( X-&gt;data[i] &gt;&gt; j ) &amp; 1 ) != 0 )                return( count );    return( 0 );&#125;/* * Modulo: r = A mod b */int mbedtls_mpi_mod_int( mbedtls_mpi_uint *r, const mbedtls_mpi *A, mbedtls_mpi_sint b )&#123;    size_t i;    mbedtls_mpi_uint x, y, z;    if( b == 0 )        return( MBEDTLS_ERR_MPI_DIVISION_BY_ZERO );    if( b &lt; 0 )        return( MBEDTLS_ERR_MPI_NEGATIVE_VALUE );    /*     * handle trivial cases     */    if( b == 1 )    &#123;        *r = 0;        return( 0 );    &#125;    if( b == 2 )    &#123;        *r = A-&gt;data[0] &amp; 1;        return( 0 );    &#125;    /*     * general case     */    for( i = A-&gt;size, y = 0; i &gt; 0; i-- )    &#123;        x  = A-&gt;data[i - 1];        y  = ( y &lt;&lt; biH ) | ( x &gt;&gt; biH );        z  = y / b;        y -= z * b;        x &lt;&lt;= biH;        y  = ( y &lt;&lt; biH ) | ( x &gt;&gt; biH );        z  = y / b;        y -= z * b;    &#125;    /*     * If A is negative, then the current y represents a negative value.     * Flipping it to the positive side.     */    if( A-&gt;sign &lt; 0 &amp;&amp; y != 0 )        y = b - y;    *r = y;    return( 0 );&#125;/* * Greatest common divisor: G = gcd(A, B)  (HAC 14.54) */int mbedtls_mpi_gcd( mbedtls_mpi *G, const mbedtls_mpi *A, const mbedtls_mpi *B )&#123;    int ret;    size_t lz, lzt;    mbedtls_mpi TG, TA, TB;    mbedtls_mpi_init( &amp;TG ); mbedtls_mpi_init( &amp;TA ); mbedtls_mpi_init( &amp;TB );    MBEDTLS_MPI_CHK( mbedtls_mpi_copy( &amp;TA, A ) );    MBEDTLS_MPI_CHK( mbedtls_mpi_copy( &amp;TB, B ) );    lz = mbedtls_mpi_lsb( &amp;TA );    lzt = mbedtls_mpi_lsb( &amp;TB );    if( lzt &lt; lz )        lz = lzt;    MBEDTLS_MPI_CHK( mbedtls_mpi_shift_r( &amp;TA, lz ) );    MBEDTLS_MPI_CHK( mbedtls_mpi_shift_r( &amp;TB, lz ) );    TA.sign = TB.sign = 1;    while( mbedtls_mpi_cmp_int( &amp;TA, 0 ) != 0 )    &#123;        MBEDTLS_MPI_CHK( mbedtls_mpi_shift_r( &amp;TA, mbedtls_mpi_lsb( &amp;TA ) ) );        MBEDTLS_MPI_CHK( mbedtls_mpi_shift_r( &amp;TB, mbedtls_mpi_lsb( &amp;TB ) ) );        if( mbedtls_mpi_cmp_mpi( &amp;TA, &amp;TB ) &gt;= 0 )        &#123;            MBEDTLS_MPI_CHK( mbedtls_mpi_sub_abs( &amp;TA, &amp;TA, &amp;TB ) );            MBEDTLS_MPI_CHK( mbedtls_mpi_shift_r( &amp;TA, 1 ) );        &#125;        else        &#123;            MBEDTLS_MPI_CHK( mbedtls_mpi_sub_abs( &amp;TB, &amp;TB, &amp;TA ) );            MBEDTLS_MPI_CHK( mbedtls_mpi_shift_r( &amp;TB, 1 ) );        &#125;    &#125;    MBEDTLS_MPI_CHK( mbedtls_mpi_shift_l( &amp;TB, lz ) );    MBEDTLS_MPI_CHK( mbedtls_mpi_copy( G, &amp;TB ) );cleanup:    mbedtls_mpi_free( &amp;TG );    mbedtls_mpi_free( &amp;TA );    mbedtls_mpi_free( &amp;TB );    return( ret );&#125;/* * Small divisors test (X must be positive) * * Return values: * 0: no small factor (possible prime, more tests needed) * 1: certain prime * MBEDTLS_ERR_MPI_NOT_ACCEPTABLE: certain non-prime * other negative: error */static int mpi_check_small_factors( const mbedtls_mpi *X )&#123;    int ret = 0;    size_t i;    mbedtls_mpi_uint r;    if( ( X-&gt;data[0] &amp; 1 ) == 0 )        return( MBEDTLS_ERR_MPI_NOT_ACCEPTABLE );    for( i = 0; small_prime[i] &gt; 0; i++ )    &#123;        if( mbedtls_mpi_cmp_int( X, small_prime[i] ) &lt;= 0 )            return( 1 );        MBEDTLS_MPI_CHK( mbedtls_mpi_mod_int( &amp;r, X, small_prime[i] ) );        if( r == 0 )            return( MBEDTLS_ERR_MPI_NOT_ACCEPTABLE );    &#125;cleanup:    return( ret );&#125;/* * Miller-Rabin pseudo-primality test  (HAC 4.24) */static int mpi_miller_rabin( const mbedtls_mpi *X,                             const PrngAlgo *prngAlgo, void *prngContext)&#123;    int ret, count;    size_t i, j, k, n, s;    mbedtls_mpi W, R, T, A; //, RR;    mbedtls_mpi_init( &amp;W );    mbedtls_mpi_init( &amp;R );    mbedtls_mpi_init( &amp;T );    mbedtls_mpi_init( &amp;A );    //mbedtls_mpi_init( &amp;RR );    /*     * W = |X| - 1     * R = W &gt;&gt; lsb( W )     */    MBEDTLS_MPI_CHK( mbedtls_mpi_sub_int( &amp;W, X, 1 ) );    s = mbedtls_mpi_lsb( &amp;W );    MBEDTLS_MPI_CHK( mbedtls_mpi_copy( &amp;R, &amp;W ) );    MBEDTLS_MPI_CHK( mbedtls_mpi_shift_r( &amp;R, s ) );    i = mbedtls_mpi_bitlen( X );    /*     * HAC, table 4.4     */    n = ( ( i &gt;= 1300 ) ?  2 : ( i &gt;=  850 ) ?  3 :          ( i &gt;=  650 ) ?  4 : ( i &gt;=  350 ) ?  8 :          ( i &gt;=  250 ) ? 12 : ( i &gt;=  150 ) ? 18 : 27 );    for( i = 0; i &lt; n; i++ )    &#123;        /*         * pick a random A, 1 &lt; A &lt; |X| - 1         */        MBEDTLS_MPI_CHK( mbedtls_mpi_fill_random( &amp;A, X-&gt;size * ciL, prngAlgo, prngContext ) );        if( mbedtls_mpi_cmp_mpi( &amp;A, &amp;W ) &gt;= 0 )        &#123;            j = mbedtls_mpi_bitlen( &amp;A ) - mbedtls_mpi_bitlen( &amp;W );            MBEDTLS_MPI_CHK( mbedtls_mpi_shift_r( &amp;A, j + 1 ) );        &#125;        A.data[0] |= 3;        count = 0;        do &#123;            MBEDTLS_MPI_CHK( mbedtls_mpi_fill_random( &amp;A, X-&gt;size * ciL, prngAlgo, prngContext ) );            j = mbedtls_mpi_bitlen( &amp;A );            k = mbedtls_mpi_bitlen( &amp;W );            if (j &gt; k) &#123;                MBEDTLS_MPI_CHK( mbedtls_mpi_shift_r( &amp;A, j - k ) );            &#125;            if (count++ &gt; 30) &#123;                return MBEDTLS_ERR_MPI_NOT_ACCEPTABLE;            &#125;        &#125; while ( mbedtls_mpi_cmp_mpi( &amp;A, &amp;W ) &gt;= 0 ||                  mbedtls_mpi_cmp_int( &amp;A, 1 )  &lt;= 0    );        /*         * A = A^R mod |X|         */        MBEDTLS_MPI_CHK( mbedtls_mpi_exp_mod( &amp;A, &amp;A, &amp;R, X /*, &amp;RR*/ ) );        if( mbedtls_mpi_cmp_mpi( &amp;A, &amp;W ) == 0 ||            mbedtls_mpi_cmp_int( &amp;A,  1 ) == 0 )            continue;        j = 1;        while( j &lt; s &amp;&amp; mbedtls_mpi_cmp_mpi( &amp;A, &amp;W ) != 0 )        &#123;            /*             * A = A * A mod |X|             */            MBEDTLS_MPI_CHK( mbedtls_mpi_mul_mpi( &amp;T, &amp;A, &amp;A ) );            MBEDTLS_MPI_CHK( mbedtls_mpi_mod_mpi( &amp;A, &amp;T, X  ) );            if( mbedtls_mpi_cmp_int( &amp;A, 1 ) == 0 )                break;            j++;        &#125;        /*         * not prime if A != |X| - 1 or A == 1         */        if( mbedtls_mpi_cmp_mpi( &amp;A, &amp;W ) != 0 ||            mbedtls_mpi_cmp_int( &amp;A,  1 ) == 0 )        &#123;            ret = MBEDTLS_ERR_MPI_NOT_ACCEPTABLE;            break;        &#125;    &#125;cleanup:    mbedtls_mpi_free( &amp;W );    mbedtls_mpi_free( &amp;R );    mbedtls_mpi_free( &amp;T );    mbedtls_mpi_free( &amp;A );    //mbedtls_mpi_free( &amp;RR );    return( ret );&#125;/* * Pseudo-primality test: small factors, then Miller-Rabin */int mbedtls_mpi_is_prime( const mbedtls_mpi *X,                  const PrngAlgo *prngAlgo, void *prngContext )&#123;    int ret;    mbedtls_mpi XX;    XX.sign = 1;    XX.size = X-&gt;size;    XX.data = X-&gt;data;    if( mbedtls_mpi_cmp_int( &amp;XX, 0 ) == 0 ||        mbedtls_mpi_cmp_int( &amp;XX, 1 ) == 0 )        return( MBEDTLS_ERR_MPI_NOT_ACCEPTABLE );    if( mbedtls_mpi_cmp_int( &amp;XX, 2 ) == 0 )        return( 0 );    if( ( ret = mpi_check_small_factors( &amp;XX ) ) != 0 )    &#123;        if( ret == 1 )            return( 0 );        return( ret );    &#125;    return( mpi_miller_rabin( &amp;XX, prngAlgo, prngContext ) );&#125;error_t mpiCheckProbablePrime(const Mpi *a)&#123;   int err;      err = mbedtls_mpi_is_prime(a, YARROW_PRNG_ALGO, &amp;yarrowContext);      if(err == 0)      return NO_ERROR;   else if(err == MBEDTLS_ERR_MPI_NOT_ACCEPTABLE)      return ERROR_INVALID_VALUE;   else      return ERROR_FAILURE;&#125;\n\n\n\n\n\n\n\nTIP\nåŸºäºæ ‡å‡†çš„ Posix æ¥å£å’Œ CycloneCRYPTO å®Œæˆçš„ ssh-keygen å®¢æˆ·ç«¯ï¼Œå¯ä»¥ç”¨äºç”Ÿæˆ rsa çš„ç§˜é’¥å¯¹ï¼ŒCycloneCRYPTO å®˜æ–¹å¹¶æœªæä¾›ç´ æ•°ç”Ÿæˆçš„ç®—æ³•ï¼Œæ­¤ä¸ºå¼€æºçš„ä¸€ä¸ªç´ æ•°ç®—æ³•å®ç°ã€‚\n\n","slug":"RSA-éå¯¹ç§°åŠ å¯†","date":"2024-02-26T11:53:22.000Z","categories_index":"","tags_index":"åŠ å¯†ç®—æ³•","author_index":"å“ªå’"},{"id":"709b09d4ae43a807a27c1aa5f06ca26b","title":"Compoer","content":"\n\n\n\n\n\n\n\n\nğŸ’¡ Tipsï¼šå…ˆäº†è§£ä¸€ä¸‹å†å²ï¼Œä»æ‹·è´ç¬¬ä¸‰æ–¹ä»£ç åˆ°é¡¹ç›®ä¸­(1994)ï¼Œåˆ° PEAR å®‰è£…ä¾èµ–åŒ…(1999)ï¼Œå†åˆ° Composer å…´èµ·(2012)ï¼ŒPHP ç¤¾åŒºç»å†äº†å°†è¿‘ 20 å¹´çš„æ¢ç´¢ã€‚PHP è¿™é—¨å¤è€çš„è¯­è¨€ï¼Œä¹Ÿåœ¨ä¸æ–­çš„å‘å±•æ›´æ–°ï¼Œåœ¨ Web é¢†åŸŸä¸€ç›´å‘å…‰å‘çƒ­ã€‚ Composer ä½œä¸ºç›®å‰ PHP åŒ…ä¾èµ–ç®¡ç†çš„æœ€ä½³å·¥å…·ï¼Œå€¼å¾—æ¯ä¸€ä½ PHP å¼€å‘äººå‘˜æŒæ¡ã€‚\nä»€ä¹ˆæ˜¯ Composerï¼Ÿæ˜¯ PHP ç”¨æ¥ç®¡ç†ä¾èµ–ï¼ˆdependencyï¼‰å…³ç³»çš„å·¥å…·ã€‚å¯ä»¥åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å£°æ˜æ‰€ä¾èµ–çš„å¤–éƒ¨å·¥å…·åº“ï¼ˆlibrariesï¼‰ï¼ŒComposer ä¼šè‡ªåŠ¨å®‰è£…è¿™äº›ä¾èµ–çš„åº“æ–‡ä»¶ã€‚\nCompoer ç”¨æ³•é¡¹ç›®ä¸­çš„ composer.json æ–‡ä»¶æ˜¯ Composer çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®ƒè§„å®šäº†é¡¹ç›®æ‰€éœ€çš„ä¾èµ–åŒ…ä»¥åŠå®ƒä»¬çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œä»è€ŒæŒ‡å¯¼ Composer å®‰è£…å’Œç®¡ç†è¿™äº›ä¾èµ–é¡¹ã€‚è¯¥æ–‡ä»¶ä¸­æœ€é‡è¦çš„éƒ¨åˆ†æ˜¯ require éƒ¨åˆ†ï¼Œè¯¥éƒ¨åˆ†å‘Šè¯‰ Composer æœŸæœ›å®‰è£…çš„åŒ…åŠå…¶ç‰ˆæœ¬ï¼š\n\n\nå®‰è£…ä¾èµ–1composer install\n\n\n\n\n\n\n\nTIP\nåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼Œcomposer install å‘½ä»¤ï¼ŒComposer ä¼šè‡ªåŠ¨åˆ†æä¾èµ–ï¼Œå®‰è£…æœ€åˆé€‚çš„åŒ…åˆ° vendor ç›®å½•ä¸‹ï¼Œå®‰è£…å®Œæ¯•åï¼Œvendor ç›®å½•ä¸‹ä¼šç”Ÿæˆ autoload.php æ–‡ä»¶ã€‚åœ¨é¡¹ç›®çš„å…¥å£æ–‡ä»¶ä¸­åŒ…å«æ­¤æ–‡ä»¶ï¼šrequire DIR . â€œ&#x2F;vendor&#x2F;autoload.phpâ€;ï¼Œæ¥ä¸‹æ¥ä¾¿å¯åœ¨é¡¹ç›®çš„ä»»ä½•åœ°æ–¹å¼•ç”¨ä¾èµ–åŒ…ä¸­çš„æ¥å£å’Œç±»ã€‚\n\nå¸¸ç”¨å‘½ä»¤\n\n\nå‘½ä»¤\næè¿°\n\n\n\ncomposer search\næ ¹æ®å…³é”®å­—æŸ¥æ‰¾ä¾èµ–åŒ…\n\n\ncomposer request\nå¼•å…¥ä¾èµ–ï¼Œå£°æ˜é¡¹ç›®æˆ–è€…å…¨å±€( globalï¼Œç”¨æˆ·åå…¨å±€ï¼Œéç³»ç»Ÿå…¨å±€)ä¾èµ–æŸä¸ªåŒ…\n\n\ncomposer install\nå®‰è£… composer.json å£°æ˜çš„ä¾èµ–åŒ…ï¼Œæœ€ç»ˆå®‰è£…çš„ä¾èµ–åŒ…ç‰ˆæœ¬å¯èƒ½å–å†³äºæœ‰æ—  composer.lock æ–‡ä»¶\n\n\ncomposer update\næ›´æ–°ä¾èµ–åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œç›¸å½“äºåˆ é™¤ composer.lock æ–‡ä»¶åæ‰§è¡Œ composer install\n\n\ncomposer info\næŸ¥çœ‹å®‰è£…çš„ä¾èµ–åŒ…ä¿¡æ¯ï¼Œä¸ composer show ç­‰ä»·\n\n\ncomposer dumpautoload\nåŠ  -o é€‰é¡¹å¯å¯¼å‡ºä¼˜åŒ–çš„åŠ è½½å™¨\n\n\ncomposer why(-not)\næŸ¥çœ‹ï¼ˆä¸ï¼‰å®‰è£…æŸä¸ªåŒ…çš„åŸå› \n\n\nComposer åŠ é€ŸCompoer å®‰è£…ä¾èµ–æ¯”è¾ƒæ…¢ï¼Œé—®é¢˜æ˜¯èµ„æºéƒ½æ˜¯åœ¨å¤–å›½æœåŠ¡å™¨ä¸Šï¼ŒCompoer 2.x é™¤äº†ç½‘ç»œé—®é¢˜ï¼Œå®ƒå·²ç»å¾ˆå¿«äº†ï¼Œä¸éœ€è¦åœ¨ä½¿ç”¨å…¶å®ƒæ’ä»¶è¾…åŠ©äº†ã€‚åˆ‡æ¢å›½å†…æºï¼Œæ‰€æœ‰çš„é¡¹ç›®éƒ½ä¼šä½¿ç”¨è¯¥é•œåƒåœ°å€ï¼š\n1composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/\n\nComposer åŠ è½½æœºåˆ¶Composer æ˜¯ PHP ä¸­æœ€å—æ¬¢è¿çš„ä¾èµ–ç®¡ç†å·¥å…·ä¹‹ä¸€ï¼Œå®ƒé€šè¿‡è‡ªåŠ¨åŠ è½½æœºåˆ¶æœ‰æ•ˆåœ°ç®¡ç†é¡¹ç›®çš„ä¾èµ–å…³ç³»ã€‚äº†è§£ Composer çš„åŠ è½½æœºåˆ¶å¯¹äºç†è§£ PHP é¡¹ç›®çš„è‡ªåŠ¨åŠ è½½è¿‡ç¨‹è‡³å…³é‡è¦ã€‚\n1. composer.json æ–‡ä»¶\nä¾èµ–å£°æ˜ï¼š composer.json æ–‡ä»¶æ˜¯ Composer çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­å£°æ˜äº†é¡¹ç›®æ‰€éœ€çš„ä¾èµ–åŒ…åŠå…¶ç‰ˆæœ¬è¦æ±‚ï¼›\nè‡ªåŠ¨åŠ è½½é…ç½®ï¼š composer.json ä¸­çš„ autoload å­—æ®µå®šä¹‰äº†è‡ªåŠ¨åŠ è½½è§„åˆ™ï¼Œå‘Šè¯‰ Composer å¦‚ä½•åŠ è½½é¡¹ç›®ä¸­çš„ç±»æ–‡ä»¶ï¼›\n\n2. è‡ªåŠ¨åŠ è½½è§„åˆ™Composer çš„è‡ªåŠ¨åŠ è½½è§„åˆ™åŸºäº PSR-4 å’Œ PSR-0 æ ‡å‡†ï¼š\n\nPSR-4 è§„èŒƒï¼š PSR-4 è§„å®šäº†ç±»å‘½åç©ºé—´ä¸ç›®å½•ç»“æ„ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼›\nPSR-0 è§„èŒƒï¼š PSR-0 æ˜¯æ—©æœŸçš„è‡ªåŠ¨åŠ è½½è§„èŒƒï¼Œå·²è¢« PSR-4 å–ä»£ï¼Œä½†ä¸€äº›æ—§ç‰ˆçš„åº“ä»ç„¶ä½¿ç”¨ï¼›\n\n3. Composer Autoload æŒ‡ä»¤Composer Autoload æŒ‡ä»¤æ˜¯é¡¹ç›®ä¸­çš„ autoload.php æ–‡ä»¶ï¼Œç”± Composer è‡ªåŠ¨ç”Ÿæˆå¹¶è´Ÿè´£è‡ªåŠ¨åŠ è½½ç±»æ–‡ä»¶ï¼š\n\nå¼•å…¥ Autoload æ–‡ä»¶ï¼š é¡¹ç›®çš„å…¥å£æ–‡ä»¶é€šå¸¸ä¼šå¼•å…¥ Composer è‡ªåŠ¨ç”Ÿæˆçš„ autoload.php æ–‡ä»¶ï¼›\nAutoload æœºåˆ¶ï¼š autoload.php æ–‡ä»¶é€šè¿‡æ³¨å†Œè‡ªåŠ¨åŠ è½½å‡½æ•°ï¼ˆspl_autoload_registerï¼‰æ¥å®ç°ç±»çš„è‡ªåŠ¨åŠ è½½ï¼›\n\n4. ç±»çš„åŠ è½½æµç¨‹\nè‡ªåŠ¨åŠ è½½æ³¨å†Œï¼š é¡¹ç›®å¯åŠ¨æ—¶ï¼Œautoload.php æ–‡ä»¶ä¼šæ³¨å†Œè‡ªåŠ¨åŠ è½½å‡½æ•°ï¼Œç”¨äºåŠ è½½é¡¹ç›®ä¸­çš„ç±»æ–‡ä»¶ï¼›\nå‘½åç©ºé—´è§£æï¼š å½“ä»£ç ä¸­ä½¿ç”¨äº†æœªåŠ è½½çš„ç±»æ—¶ï¼ŒPHP è§£é‡Šå™¨ä¼šè§¦å‘è‡ªåŠ¨åŠ è½½å‡½æ•°ï¼›\nè‡ªåŠ¨åŠ è½½å‡½æ•°ï¼š è‡ªåŠ¨åŠ è½½å‡½æ•°æ ¹æ®ç±»çš„å‘½åç©ºé—´å’Œè‡ªåŠ¨åŠ è½½è§„åˆ™ï¼Œæ‰¾åˆ°å¯¹åº”çš„ç±»æ–‡ä»¶å¹¶åŠ è½½ï¼›\n\n5. ç¼“å­˜æœºåˆ¶Composer æä¾›äº†ç±»åŠ è½½çš„ç¼“å­˜æœºåˆ¶ï¼Œå¯ä»¥åŠ é€ŸåŠ è½½è¿‡ç¨‹ï¼š\n\nClassmapï¼š Composer å¯ä»¥ç”Ÿæˆä¸€ä¸ªç±»æ˜ å°„è¡¨ï¼ŒåŠ é€Ÿç±»æ–‡ä»¶çš„æŸ¥æ‰¾è¿‡ç¨‹ï¼›\nOptimize-autoloaderï¼š Composer æä¾›äº† optimize-autoloader æŒ‡ä»¤ï¼ˆcomposer dumpautoload -oï¼‰ï¼Œç”¨äºç”Ÿæˆå’Œæ›´æ–°ç±»åŠ è½½çš„ç¼“å­˜æ–‡ä»¶ï¼›\n\nå®ç°è‡ªåŠ¨åŠ è½½123456789101112131415161718&lt;?php// å®šä¹‰é¡¹ç›®æ ¹ç›®å½•å¸¸é‡define(&#x27;ROOT_PATH&#x27;, __DIR__);// è‡ªåŠ¨åŠ è½½å‡½æ•°spl_autoload_register(function ($className) &#123;    // å°†ç±»åè½¬æ¢ä¸ºæ–‡ä»¶è·¯å¾„    $classFile = ROOT_PATH . &#x27;/&#x27; . str_replace(&#x27;\\\\&#x27;, &#x27;/&#x27;, $className) . &#x27;.php&#x27;;        // æ£€æŸ¥ç±»æ–‡ä»¶æ˜¯å¦å­˜åœ¨    if (file_exists($classFile)) &#123;        // åŠ è½½ç±»æ–‡ä»¶        require_once $classFile;    &#125;&#125;);// å¯é€‰çš„å…¶ä»–åˆå§‹åŒ–é€»è¾‘...\n\n\n\n\n\n\n\nTIP\nspl_autoload_register å‡½æ•°ç”¨äºæ³¨å†Œè‡ªå®šä¹‰çš„è‡ªåŠ¨åŠ è½½å‡½æ•°ï¼Œå½“ PHP é‡åˆ°æœªå®šä¹‰çš„ç±»æ—¶ï¼Œä¼šè§¦å‘è¿™äº›è‡ªåŠ¨åŠ è½½å‡½æ•°æ¥å°è¯•åŠ è½½å¯¹åº”çš„ç±»æ–‡ä»¶ã€‚å…·ä½“æ¥è¯´ï¼Œspl_autoload_register å‡½æ•°çš„è°ƒç”¨ä¼šè§¦å‘ä¸¤ç§æƒ…å†µä¸‹çš„è‡ªåŠ¨åŠ è½½ï¼š\n\nä½¿ç”¨æœªå®šä¹‰çš„ç±»ï¼š å½“ä»£ç ä¸­ä½¿ç”¨äº†ä¸€ä¸ªæœªå®šä¹‰çš„ç±»æ—¶ï¼ŒPHP è§£é‡Šå™¨ä¼šæ£€æµ‹å½“å‰æ˜¯å¦å·²ç»æ³¨å†Œäº†è‡ªåŠ¨åŠ è½½å‡½æ•°ã€‚å¦‚æœå·²ç»æ³¨å†Œï¼Œåˆ™ä¼šæŒ‰ç…§æ³¨å†Œçš„é¡ºåºä¾æ¬¡è°ƒç”¨è¿™äº›è‡ªåŠ¨åŠ è½½å‡½æ•°ï¼Œå°è¯•åŠ è½½è¿™ä¸ªæœªå®šä¹‰çš„ç±»ï¼›\næ‰‹åŠ¨è°ƒç”¨ spl_autoload å‡½æ•°ï¼š å¦‚æœéœ€è¦æ‰‹åŠ¨è§¦å‘è‡ªåŠ¨åŠ è½½ï¼Œå¯ä»¥è°ƒç”¨ spl_autoload å‡½æ•°ï¼Œå¹¶ä¼ å…¥æœªå®šä¹‰çš„ç±»åä½œä¸ºå‚æ•°ã€‚è¿™æ · PHP ä¼šç«‹å³å°è¯•è°ƒç”¨å·²æ³¨å†Œçš„è‡ªåŠ¨åŠ è½½å‡½æ•°æ¥åŠ è½½è¿™ä¸ªç±»ï¼›\n\n\n\n","slug":"Compoer","date":"2024-02-22T10:58:00.000Z","categories_index":"","tags_index":"PHP","author_index":"å“ªå’"},{"id":"a48e6dda0c21e40880cba7e763278b04","title":"Docker","content":"\n\n\n\n\n\n\n\n\nğŸ’¡ Tipsï¼šDocker æ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨åŒ–å¹³å°ï¼Œç”¨äºè½»æ¾æ‰“åŒ…ã€å‘å¸ƒå’Œè¿è¡Œåº”ç”¨ç¨‹åºã€‚é€šè¿‡ Dockerï¼Œå¼€å‘è€…å¯ä»¥å°†åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–é¡¹æ‰“åŒ…åˆ°ä¸€ä¸ªç§°ä¸ºé•œåƒçš„æ ‡å‡†åŒ–å•å…ƒä¸­ï¼Œç„¶ååœ¨ä»»ä½•æ”¯æŒ Docker çš„ç¯å¢ƒä¸­éƒ¨ç½²è¿™äº›é•œåƒä¸ºå®¹å™¨ã€‚Docker çš„æ ¸å¿ƒåŸç†æ˜¯åˆ©ç”¨æ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå¦‚ Linux å®¹å™¨ (LXC)ï¼Œæ¥åˆ›å»ºè½»é‡çº§ã€éš”ç¦»çš„æ‰§è¡Œç¯å¢ƒã€‚è¿™ä½¿å¾—å¼€å‘äººå‘˜èƒ½å¤Ÿå®ç°å¿«é€Ÿã€ä¸€è‡´å’Œå¯é çš„åº”ç”¨ç¨‹åºäº¤ä»˜ï¼Œå¹¶å®ç°æ›´é«˜æ•ˆçš„èµ„æºåˆ©ç”¨ã€‚\nä¸‰å¤§æ ¸å¿ƒ\né•œåƒï¼ˆImageï¼‰ï¼šé•œåƒæ˜¯ä¸€ä¸ªè½»é‡çº§ã€ç‹¬ç«‹ã€å¯æ‰§è¡Œçš„è½¯ä»¶åŒ…ï¼Œå®ƒåŒ…å«äº†è¿è¡Œåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬ä»£ç ã€è¿è¡Œæ—¶ã€åº“ã€ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ç­‰ã€‚Docker é•œåƒæ˜¯é€šè¿‡æ–‡ä»¶ç³»ç»Ÿçš„å±‚å æ–¹å¼æ„å»ºè€Œæˆçš„ï¼Œæ¯ä¸€å±‚éƒ½æ˜¯åªè¯»çš„ï¼Œå®ƒä»¬å…±åŒç»„æˆäº†æœ€ç»ˆçš„é•œåƒï¼›\nå®¹å™¨ï¼ˆContainerï¼‰ï¼šå®¹å™¨æ˜¯ Docker é•œåƒçš„è¿è¡Œå®ä¾‹ã€‚å®¹å™¨åˆ©ç”¨é•œåƒæä¾›çš„æ–‡ä»¶ç³»ç»Ÿã€ä»£ç å’Œè¿è¡Œæ—¶ç¯å¢ƒï¼Œç‹¬ç«‹è¿è¡Œåœ¨å®¿ä¸»æœºä¸Šã€‚æ¯ä¸ªå®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œæ‹¥æœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œå’Œè¿›ç¨‹ç©ºé—´ï¼Œä½†å®ƒä»¬å…±äº«ä¸»æœºæ“ä½œç³»ç»Ÿçš„å†…æ ¸ï¼›\nä»“åº“ï¼ˆRepositoryï¼‰ï¼šä»“åº“æ˜¯ç”¨æ¥å­˜æ”¾ Docker é•œåƒçš„åœ°æ–¹ã€‚å®ƒå¯ä»¥è¢«çœ‹ä½œæ˜¯ä¸€ä¸ªé›†ä¸­çš„å­˜å‚¨åº“ï¼Œç”¨äºç®¡ç†å’Œåˆ†äº«é•œåƒã€‚ä»“åº“åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šå…¬æœ‰ä»“åº“å’Œç§æœ‰ä»“åº“ã€‚Docker Hub æ˜¯æœ€å¸¸è§çš„å…¬æœ‰ä»“åº“ï¼Œè€Œç§æœ‰ä»“åº“åˆ™å¯ä»¥æ­å»ºåœ¨æœ¬åœ°æˆ–è€…åœ¨äº‘æœåŠ¡ä¸Šï¼Œç”¨äºç»„ç»‡å†…éƒ¨æˆ–ä¸ªäººä½¿ç”¨ï¼›\n\nå¸¸ç”¨å‘½ä»¤\n\n\nå‘½ä»¤\nè§£é‡Š\n\n\n\nsystemctl start docker\nå¯åŠ¨ docker\n\n\nsystemctl restart docker\né‡å¯ docker\n\n\ndocker images\næŸ¥çœ‹æ‰€æœ‰é•œåƒ\n\n\ndocker pull é•œåƒ\nåœ¨ dockerhub å½“ä¸­æ‹‰å–é•œåƒ\n\n\ndocker rmi é•œåƒ\nåˆ é™¤é•œåƒ\n\n\ndocker ps\næŸ¥çœ‹æ‰€æœ‰è¿è¡Œå®¹å™¨\n\n\ndocker ps -a\næŸ¥çœ‹æ‰€æœ‰å®¹å™¨\n\n\ndocker exec -it å®¹å™¨ bash\nè¿›å…¥å®¹å™¨\n\n\ndocker rm å®¹å™¨\nåˆ é™¤å®¹å™¨ï¼Œè¦å…ˆå…³é—­å®¹å™¨æ‰èƒ½åˆ \n\n\ndocker stop å®¹å™¨\nåœæ­¢å®¹å™¨\n\n\ndocker start å®¹å™¨\nå¯åŠ¨å®¹å™¨\n\n\ndocker restart å®¹å™¨\né‡å¯å®¹å™¨\n\n\ndocker cp å®¿ä¸»æœºç›®å½• å®¹å™¨åç§°:&#x2F;å®¹å™¨é‡Œæ–‡ä»¶\nå¤åˆ¶å®¿ä¸»æœºæ–‡ä»¶ï¼Œåˆ°å®¹å™¨\n\n\ndocker cp å®¹å™¨åç§°:&#x2F;å®¹å™¨æ–‡ä»¶ å®¿ä¸»æœºç›®å½•\nå¤åˆ¶å®¹å™¨æ–‡ä»¶ï¼Œåˆ°å®¿ä¸»æœº\n\n\ndocker -v æœ¬åœ°æ–‡ä»¶:&#x2F;å®¹å™¨æ–‡ä»¶\næ˜ å°„æ–‡ä»¶ï¼Œå®¿ä¸»æœºå®¹å™¨æ–‡ä»¶åŒæ­¥\n\n\ndocker logs å®¹å™¨\næŸ¥çœ‹å®¹å™¨æ—¥å¿—\n\n\nå®‰è£…ubuntu12345678910111213141516171819201ã€è‹¥å®‰è£…è¿‡å…ˆåˆ é™¤ï¼Œè‹¥æ— å¿½ç•¥sudo apt-get remove docker docker-engine docker.io2ã€å®‰è£…æ‰©å±•sudo apt-get install apt-transport-https ca-certificates curl gnupg2 software-properties-common3ã€ä¿¡ä»» GPGcurl -fsSL https://mirrors.huaweicloud.com/docker-ce/linux/debian/gpg | sudo apt-key add -4ã€æ·»åŠ ä»“åº“sudo add-apt-repository &quot;deb [arch=amd64] https://mirrors.huaweicloud.com/docker-ce/linux/debian $(lsb_release -cs) stable&quot;5ã€å®‰è£…apt install docker-ce6ã€ä»¥ä¸Šè¿˜æ²¡å®‰è£…å¥½ï¼Œé‚£è‚¯å®šè¦è¿™æ ·äº†wget https://mirrors.huaweicloud.com/docker-ce/linux/centos/7/x86_64/edge/Packages/containerd.io-1.2.6-3.3.el7.x86_64.rpmapt install containerd.io-1.2.6-3.3.el7.x86_64.rpmapt install docker-ce\n\ncentos1234567891011121314151617181920211ã€è‹¥å®‰è£…è¿‡å…ˆåˆ é™¤ï¼Œè‹¥æ— å¿½ç•¥sudo yum remove docker docker-common docker-selinux docker-engine2ã€å®‰è£…æ‰©å±•sudo yum install -y yum-utils device-mapper-persistent-data lvm23ã€ä¸‹è½½ repo æ–‡ä»¶wget -O /etc/yum.repos.d/docker-ce.repo https://mirrors.huaweicloud.com/docker-ce/linux/centos/docker-ce.repo4ã€è½¯ä»¶ä»“åº“åœ°å€æ›¿æ¢ä¸ºï¼šsudo sed -i &#x27;s+download.docker.com+mirrors.huaweicloud.com/docker-ce+&#x27; /etc/yum.repos.d/docker-ce.repo5ã€æ›´æ–°ç´¢å¼•æ–‡ä»¶å¹¶å®‰è£…sudo yum makecache fastsudo yum install docker-ce6ã€ä»¥ä¸Šè¿˜æ²¡å®‰è£…å¥½ï¼Œé‚£è‚¯å®šè¦è¿™æ ·äº†wget https://mirrors.huaweicloud.com/docker-ce/linux/centos/7/x86_64/edge/Packages/containerd.io-1.2.6-3.3.el7.x86_64.rpmyum install containerd.io-1.2.6-3.3.el7.x86_64.rpmyum install docker-ce\n\nåˆ‡æ¢å›½å†…æº1234567891011121ã€ç¼–è¾‘é…ç½®æ–‡ä»¶vim /etc/docker/daemon.json2ã€æ·»åŠ ä¸­ç§‘å¤§æº&#123;  &quot;registry-mirrors&quot;: [&quot;https://docker.mirrors.ustc.edu.cn/&quot;]&#125;# å¦‚æœ etc/docker ä¸‹ä¸å­˜åœ¨ daemon.jsonï¼Œæ–°å»ºä¸€ä¸ªå³å¯3ã€é‡å¯ dockersystemctl restart docker\n\nå®¹å™¨äº’è”æ—©æœŸå®¹å™¨ä¹‹é—´çš„äº’è”éƒ½æ˜¯ä½¿ç”¨ â€“link è¿æ¥ï¼Œç°åœ¨ä¸åœ¨æ¨èä½¿ç”¨ã€‚éšç€ Docker ç½‘ç»œçš„å®Œå–„ï¼Œå¼ºçƒˆå»ºè®®å¤§å®¶å°†å®¹å™¨åŠ å…¥è‡ªå®šä¹‰çš„ Docker ç½‘ç»œæ¥è¿æ¥å¤šä¸ªå®¹å™¨ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ â€“link å‚æ•°ã€‚\næŸ¥çœ‹ç½‘ç»œ1docker network ls\n\n\n\n\nç½‘ç»œç±»å‹\næè¿°\nç‰¹ç‚¹\n\n\n\nbridge\næ‰€æœ‰ Docker å®‰è£…ä¸­éƒ½å­˜åœ¨çš„é»˜è®¤ç½‘ç»œï¼Œè¡¨ç¤ºä¸º docker0 ç½‘ç»œã€‚é™¤éä½¿ç”¨ docker run --net=é€‰é¡¹å¦è¡ŒæŒ‡å®šï¼Œå¦åˆ™ Docker å®ˆæŠ¤è¿›ç¨‹é»˜è®¤ä¼šå°†å®¹å™¨è¿æ¥åˆ°æ­¤ç½‘ç»œã€‚åœ¨ä¸»æœºä¸Šä½¿ç”¨ ifconfigå‘½ä»¤å¯ä»¥çœ‹åˆ°æ­¤ç½‘æ¡¥æ˜¯ä¸»æœºçš„ç½‘ç»œå †æ ˆçš„ä¸€éƒ¨åˆ†ã€‚\n- æä¾›äº†éš”ç¦»æ€§ï¼Œæ¯ä¸ªå®¹å™¨æ‹¥æœ‰è‡ªå·±çš„ç½‘ç»œå‘½åç©ºé—´ã€‚\n\n\n\nå®¹å™¨ä¹‹é—´å¯ä»¥ç›¸äº’é€šä¿¡ï¼Œä½†é»˜è®¤æƒ…å†µä¸‹ä¸ä¸»æœºä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ã€‚\nDocker å®¹å™¨ä¹‹é—´å¯ä»¥ä½¿ç”¨å®¹å™¨åç§°è¿›è¡Œé€šä¿¡ã€‚ || none | åœ¨å®¹å™¨ä¸Šæ·»åŠ äº†ä¸€ä¸ªç‰¹å®šäºå®¹å™¨çš„ç½‘ç»œå †æ ˆï¼Œè¯¥å®¹å™¨ç¼ºå°‘ç½‘ç»œæ¥å£ã€‚ | - å®¹å™¨æ²¡æœ‰ç½‘ç»œæ¥å£ï¼Œå› æ­¤æ— æ³•ä¸å¤–éƒ¨é€šä¿¡ï¼Œé™¤éæ‰‹åŠ¨é…ç½®ç½‘ç»œã€‚\né€‚ç”¨äºä¸€äº›ç‰¹æ®Šåœºæ™¯ï¼Œä¾‹å¦‚éœ€è¦å®Œå…¨éš”ç¦»çš„å®¹å™¨æˆ–æµ‹è¯•åœºæ™¯ã€‚ || host | åœ¨ä¸»æœºç½‘ç»œå †æ ˆä¸Šæ·»åŠ ä¸€ä¸ªå®¹å™¨ï¼Œå®¹å™¨ä¸­çš„ç½‘ç»œé…ç½®ä¸ä¸»æœºç›¸åŒã€‚ | - å®¹å™¨ä¸ä¸»æœºå…±äº«ç½‘ç»œå‘½åç©ºé—´ï¼Œå› æ­¤å®¹å™¨å¯ä»¥ç›´æ¥è®¿é—®ä¸»æœºçš„ç½‘ç»œæ¥å£å’Œç«¯å£ã€‚\nå®¹å™¨æ— éœ€è¿›è¡Œç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰ï¼Œå› æ­¤ç½‘ç»œæ€§èƒ½è¾ƒé«˜ã€‚\nå®¹å™¨ä¹‹é—´æ— æ³•ç›¸äº’è®¿é—®ï¼Œé™¤éåœ¨ä¸»æœºä¸Šè¿›è¡Œç«¯å£æ˜ å°„ã€‚ |\n\nåˆ›å»ºç½‘ç»œ1docker network create -d bridge ç½‘ç»œåç§°\n\nPHP å¼€å‘å¥—ä»¶PHPæ‹‰å–é•œåƒ1docker pull php:fpm\n\nåˆ›å»ºå®¹å™¨1docker run --name php -p 9000:9000 --network name -v /å®¿ä¸»æœºå­˜æ”¾ä»£ç çš„ç›®å½•:/var/www/html -it -d php:fpm\n\n\n\n\nå‘½ä»¤\nå‘½ä»¤è¯¦è§£\n\n\n\nrun\nåˆ›å»ºä¸€ä¸ªå®¹å™¨\n\n\nâ€“name\næŒ‡å®šå®¹å™¨åç§°ï¼Œä¸ºç©º docker è‡ªåŠ¨åˆ†é…åç§°\n\n\n-p\nç«¯å£æ˜ å°„ï¼Œå°†å®¹å™¨çš„ 9000 ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 9000 ç«¯å£\n\n\nâ€“network\né€‰æ‹©ç½‘ç»œ\n\n\n-v\næ˜ å°„æ–‡ä»¶ï¼Œå®¿ä¸»æœºå®¹å™¨æ–‡ä»¶åŒæ­¥\n\n\n-it\nè¡¨ç¤ºè®©å®¹å™¨çš„æ ‡å‡†è¾“å…¥æ‰“å¼€,å¹¶ä¸”åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯\n\n\n-d\nåå°è¿è¡Œå®¹å™¨\n\n\nåŸºæœ¬é…ç½®12345678910111213141516171819202122232425262728# è¿›å…¥å®¹å™¨docker exec -it php bash# ä¸­ç§‘å¤§æº,ç„¶åä¸‹è½½éœ€è¦çš„è½¯ä»¶sed -i &#x27;s/deb.debian.org/mirrors.ustc.edu.cn/g&#x27; /etc/apt/sources.listapt update# Composer å®‰è£…1ã€curl -sS https://getcomposer.org/installer | php2ã€mv composer.phar /usr/local/bin/composer3ã€composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/# ä¿®æ”¹ /usr/local/etc/php-fpm.conf include è·¯å¾„include=/usr/local/etc/php-fpm.d/*.conf# å¼€å¯æ‰©å±•å‘½ä»¤/usr/local/bin/docker-php-ext-install mysqli# å¸¸è§çš„ä¸€äº›æ‰©å±•å¯ä»¥è¿™æ ·å®‰è£…äº†ï¼Œæ²¡æœ‰çš„å°±å¾—è‡ªå·±ä¸‹è½½å®‰è£…äº†ã€‚ä¸‹è½½æ‰©å±•åˆ° /usr/src/php/ext ç›®å½•å½“ä¸­,æ³¨æ„ï¼šå¦‚æœæ²¡æœ‰ /usr/src/php/ext åˆ«æ…Œæ‰§è¡Œä¸€ä¸‹ /usr/local/bin/docker-php-ext-install ä¸€ä¸ªæ²¡æœ‰çš„æ‰©å±•ï¼Œç„¶åæ–‡ä»¶å¤¹å°±ä¼šæœ‰äº†ï¼Œæ¯æ¬¡å®‰è£…å¥½æ‰©å±•ä¹‹å php è‡ªåŠ¨åˆ é™¤ï¼# å…³é—­æ‰©å±•å‘½ä»¤docker-php-ext-enable mysqli# php.iniè¿™ä¸ªé•œåƒç»™æˆ‘ä»¬æ‰“åŒ…çš„é…ç½®æ–‡ä»¶ï¼Œåˆ†å¼€å‘å’Œç”Ÿäº§äºŒä¸ªé…ç½®æ–‡ä»¶ï¼Œåœ¨ /usr/local/etc/php å½“ä¸­# é‡å¯å®¹å™¨docker restart php\n\nMySQLå¦‚æœæ˜¯çœŸå®çº¿ä¸Šçš„é¡¹ç›®ï¼Œä¸æ¨èå®‰è£…åœ¨å®¹å™¨å½“ä¸­ï¼Œåº”å½“ä½¿ç”¨ç½‘ç»œç‰ˆæœ¬çš„ MySQL æœ¬åœ°å¼€å‘æ— å…³ç´§è¦ã€‚\næ‹‰å–é•œåƒ1docker pull mysql\n\nåˆ›å»ºå®¹å™¨1docker run -p 3306:3306 --name mysql --network name -v /xxx:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=root -d --privileged=true mysql\n\n\n\n\nå‘½ä»¤\nå‘½ä»¤è¯¦è§£\n\n\n\nrun\nåˆ›å»ºä¸€ä¸ªå®¹å™¨\n\n\nâ€“name\næŒ‡å®šå®¹å™¨åç§°ï¼Œä¸ºç©º docker è‡ªåŠ¨åˆ†é…åç§°\n\n\n-v\næ˜ å°„æ–‡ä»¶ï¼Œå®¿ä¸»æœºå®¹å™¨æ–‡ä»¶åŒæ­¥\n\n\n-p\nç«¯å£æ˜ å°„ï¼Œå°†å®¹å™¨çš„ 3306 ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 3306 ç«¯å£\n\n\n-e\nè®¾ç½®ç¯å¢ƒå˜é‡ï¼Œåˆå§‹åŒ– Mysql å¯†ç \n\n\n-d\nåå°è¿è¡Œå®¹å™¨\n\n\nâ€“privileged&#x3D;true\nå¯èƒ½ä¼šç¢°åˆ°æƒé™é—®é¢˜ï¼Œéœ€è¦åŠ å‚æ•°\n\n\nåŸºæœ¬é…ç½®12345678910111213141516171819202122# è¿›å…¥å®¹å™¨docker exec -it mysql bash # æ›´æ¢è½¯ä»¶æºï¼Œä¸­ç§‘å¤§æºsed -i &#x27;s/deb.debian.org/mirrors.ustc.edu.cn/g&#x27; /etc/apt/sources.listapt update# ä¿®æ”¹å¯†ç è®¤è¯ mysql 8 åŠ å¯†æ–¹å¼æ”¹å˜äº†mysql&gt;ALTER USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;root&#x27;;mysql&gt;flush privileges;# å¦‚æœéœ€è¦åˆ›å»ºä¸€ä¸ªå¸å·ï¼Œå¹¶ä¸”èµ‹äºˆæƒé™ï¼Œä¸éœ€è¦å¿½ç•¥mysql&gt;create user &#x27;ç”¨æˆ·å&#x27;@&#x27;è®¿é—®ä¸»æœº&#x27; identified by &#x27;å¯†ç &#x27;;mysql&gt;grant æƒé™ on *.* to &#x27;å¸å·&#x27;@&#x27;%&#x27; WITH GRANT OPTION;# ä¿®æ”¹ /etc/mysql/conf.d ä¸‹é¢çš„ mysql.cnf æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œæ²¡æœ‰å°±åˆ›å»º mysql.cnf[mysqld]port=3306default_authentication_plugin=mysql_native_password# é‡å¯å®¹å™¨docker restart mysql\n\nNginxæ‹‰å–é•œåƒ1docker pull nginx\n\nåˆ›å»ºå®¹å™¨1docker run --name nginx -p 80:80 --network name -v /å®¿ä¸»æœºå­˜æ”¾ä»£ç çš„ç›®å½•:/usr/share/nginx/html -d nginx\n\n\n\n\nå‘½ä»¤\nå‘½ä»¤è¯¦è§£\n\n\n\nrun\nåˆ›å»ºä¸€ä¸ªå®¹å™¨\n\n\nâ€“name\næŒ‡å®šå®¹å™¨åç§°ï¼Œä¸ºç©º docker è‡ªåŠ¨åˆ†é…åç§°\n\n\n-p\nç«¯å£æ˜ å°„ï¼Œå°†å®¹å™¨çš„ 80 ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 80 ç«¯å£\n\n\nâ€“network\né€‰æ‹©ç½‘ç»œ\n\n\n-v\næ˜ å°„æ–‡ä»¶ï¼Œå®¿ä¸»æœºå®¹å™¨æ–‡ä»¶åŒæ­¥\n\n\n-d\nåå°è¿è¡Œå®¹å™¨\n\n\nåŸºæœ¬é…ç½®1234567891011121314151617181920212223242526272829303132333435363738394041# ä¸­ç§‘å¤§æº,ç„¶åä¸‹è½½éœ€è¦çš„è½¯ä»¶sed -i &#x27;s/deb.debian.org/mirrors.ustc.edu.cn/g&#x27; /etc/apt/sources.listapt update# è´´ä¸Šæˆ‘çš„é…ç½®ï¼ŒNginx é…ç½®æ–‡ä»¶æ‰€åœ¨ç›®å½• /etc/nginxserver &#123;    # ç›‘å¬ç«¯å£    listen       80;    # åŸŸå    server_name  dev.test;    # ç¨‹åºç›®å½•    root   /usr/share/nginx/html/dao/public;    # é»˜è®¤è®¿é—®    index  index.php;    # å­—ç¬¦é›†ç¼–ç     charset utf-8;    # é”™è¯¯æ—¥å¿—    access_log  /var/log/nginx/app.access.log  main;    # é»˜è®¤è¯·æ±‚ æ­£åˆ™åŒ¹é…    location / &#123;        try_files $uri $uri/ /index.php?$query_string;    &#125;    # æ­£åˆ™åŒ¹é…åˆ° PHP æ–‡ä»¶è¯·æ±‚ ï¼Œæ‰”ç»™ FastCGI     location ~ \\.php$ &#123;        root           /var/www/html/dao/public;        fastcgi_pass   php-fpm:9000;        fastcgi_index  index.php;        include        fastcgi_params;        fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;    &#125;&#125;# é‡å¯ nginxdocker restart nginx\n\nRediså¦‚æœæ˜¯çœŸå®çº¿ä¸Šçš„é¡¹ç›®ï¼Œä¸æ¨èå®‰è£…åœ¨å®¹å™¨å½“ä¸­ï¼Œåº”å½“ä½¿ç”¨ç½‘ç»œç‰ˆæœ¬çš„ redis æœ¬åœ°å¼€å‘æ— å…³ç´§è¦ã€‚\næ‹‰å–é•œåƒ1docker pull redis\n\nåˆ›å»ºå®¹å™¨1docker run --name redis -p 6379:6379 --network name -d redis redis-server --appendonly yes --requirepass &quot;mypassword&quot;\n\nMemcachedå¦‚æœæ˜¯çœŸå®çº¿ä¸Šçš„é¡¹ç›®ï¼Œä¸æ¨èå®‰è£…åœ¨å®¹å™¨å½“ä¸­ï¼Œåº”å½“ä½¿ç”¨ç½‘ç»œç‰ˆæœ¬çš„ memcached æœ¬åœ°å¼€å‘æ— å…³ç´§è¦ã€‚\næ‹‰å–é•œåƒ1docker pull memcached\n\nåˆ›å»ºå®¹å™¨1docker run --name memcached -p 11211:11211 -m 64m -d memcached\n\nDockerfileDockerfile æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼ŒåŒ…å«äº†ä¸€ç³»åˆ—ç”¨äºæ„å»º Docker é•œåƒçš„æŒ‡ä»¤å’Œé…ç½®ã€‚é€šè¿‡ Dockerfileï¼Œå¼€å‘è€…å¯ä»¥å®šä¹‰é•œåƒä¸­çš„ç¯å¢ƒã€ä¾èµ–é¡¹ã€è¿è¡Œæ—¶é…ç½®ç­‰å†…å®¹ï¼Œä»¥åŠå¦‚ä½•æ„å»ºå’Œé…ç½®å®¹å™¨ã€‚ç®€å•ç‚¹æ¥è¯´å°±æ˜¯åˆ›å»ºè‡ªå®šä¹‰é•œåƒï¼ŒDockerfile ä¸€èˆ¬æ­é…ç€é¡¹ç›®çš„ CI&#x2F;CD ä¸€èµ·å‡ºç°ã€‚\nå¸¸ç”¨å‘½ä»¤\n\n\nå‘½ä»¤\nè¯´æ˜\n\n\n\nFROM\næŒ‡å®šåŸºç¡€é•œåƒ\n\n\nMAINTAINER\næŒ‡å®šé•œåƒç»´æŠ¤è€…çš„ä¿¡æ¯\n\n\nRUN\nåœ¨é•œåƒä¸­æ‰§è¡Œå‘½ä»¤\n\n\nCMD\nå®¹å™¨å¯åŠ¨åé»˜è®¤æ‰§è¡Œçš„å‘½ä»¤\n\n\nENTRYPOINT\nå®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤\n\n\nCOPY\nå°†æ–‡ä»¶å¤åˆ¶åˆ°é•œåƒä¸­\n\n\nADD\nç±»ä¼¼äº COPYï¼Œä½†åŠŸèƒ½æ›´å¼ºå¤§ï¼Œå¯ä»¥è‡ªåŠ¨è§£å‹ç¼©æ–‡ä»¶å’Œ URL\n\n\nWORKDIR\nè®¾ç½®å·¥ä½œç›®å½•\n\n\nENV\nè®¾ç½®ç¯å¢ƒå˜é‡\n\n\nEXPOSE\nå£°æ˜å®¹å™¨è¿è¡Œæ—¶éœ€è¦æš´éœ²çš„ç«¯å£\n\n\nVOLUME\nåˆ›å»ºä¸€ä¸ªæŒ‚è½½ç‚¹ï¼Œç”¨äºæŒä¹…åŒ–æ•°æ®\n\n\nUSER\næŒ‡å®šå®¹å™¨è¿è¡Œæ—¶çš„ç”¨æˆ·åæˆ– UID\n\n\nARG\nå®šä¹‰æ„å»ºæ—¶çš„å‚æ•°\n\n\nONBUILD\nå®šä¹‰è§¦å‘å™¨æŒ‡ä»¤ï¼Œä¼šåœ¨åç»­æ„å»ºè¿‡ç¨‹ä¸­è¢«è§¦å‘æ‰§è¡Œ\n\n\nQt æˆå“ Dockerfilex86 äº¤å‰ FTD2000ï¼ˆARM64ï¼‰1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374FROM ubuntu:16.04ENV DEBIAN_FRONTEND noninteractiveRUN sed -i &#x27;1 i deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;2 i deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;3 i deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;4 i deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;5 i deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;6 i deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;7 i deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;8 i deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse&#x27; /etc/apt/sources.listRUN apt update &amp;&amp; apt install -y build-essential wget curl cmake python gperf bison flex pkg-configWORKDIR /optRUN apt install -y xz-utils &amp;&amp; wget -q å·¥å…·é“¾ï¼šgcc-linaro-7.3.1-2018.05-x86_64_aarch64-linux-gnu.tar.xz &amp;&amp; \\    xz -d gcc-linaro-7.3.1-2018.05-x86_64_aarch64-linux-gnu.tar.xz &amp;&amp; \\    tar -xf gcc-linaro-7.3.1-2018.05-x86_64_aarch64-linux-gnu.tar &amp;&amp; \\    mv gcc-linaro-7.3.1-2018.05-x86_64_aarch64-linux-gnu ./aarch64-linux-gnu &amp;&amp; \\    rm -rf gcc-linaro-7.3.1-2018.05-x86_64_aarch64-linux-gnu.tarENV PATH=$PATH:/opt/aarch64-linux-gnu/binRUN wget -q åœ°å€ï¼šllvm-7.0.1.tar.gz &amp;&amp; \\    tar -xf llvm-7.0.1.tar.gz &amp;&amp; \\    rm -rf llvm-7.0.1.tar.gzRUN wget -q https://download.qt.io/archive/qt/5.12/5.12.12/single/qt-everywhere-src-5.12.12.tar.xz &amp;&amp; \\    xz -d qt-everywhere-src-5.12.12.tar.xz &amp;&amp; \\    tar -xf qt-everywhere-src-5.12.12.tar &amp;&amp; \\    rm -rf qt-everywhere-src-5.12.12.tar &amp;&amp; \\    cd qt-everywhere-src-5.12.12 &amp;&amp; \\    mkdir buildWORKDIR /sysrootRUN wget -q æ‰“åŒ…å¥½çš„ sysrootï¼š/FTD2000.tar.gz &amp;&amp; \\    tar -zxf FTD2000.tar.gz &amp;&amp; \\    rm -rf FTD2000.tar.gzRUN cd /opt/llvm-7.0.1/llvm &amp;&amp; mkdir build &amp;&amp; cd build &amp;&amp; \\    sed -e &#x27;1163 s|^|//|&#x27; -i /opt/llvm-7.0.1/llvm/projects/compiler-rt/lib/sanitizer_common/sanitizer_platform_limits_posix.cc &amp;&amp; \\    cmake -G &quot;Unix Makefiles&quot; -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/opt/x86-llvm -DLLVM_TABLEGEN=/opt/llvm-7.0.1/llvm/build/bin/llvm-tblgen -DCLANG_TABLEGEN=/opt/llvm-7.0.1/llvm/build/bin/clang-tblgen -DLLVM_INCLUDE_TESTS=OFF -DCLANG_INCLUDE_TESTS=OFF .. &amp;&amp; \\    make -j32 &amp;&amp; make -j32 install &amp;&amp; cp /opt/llvm-7.0.1/llvm/build/bin/clang-tblgen /opt/x86-llvm/binRUN cd /opt/llvm-7.0.1/llvm &amp;&amp; rm -rf build &amp;&amp; mkdir build &amp;&amp; cd build &amp;&amp; \\    CC=aarch64-linux-gnu-gcc CXX=aarch64-linux-gnu-g++ cmake -G &quot;Unix Makefiles&quot; --enable-targets=aarch64 -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/opt/arm-llvm -DLLVM_TABLEGEN=/opt/x86-llvm/bin/llvm-tblgen -DCLANG_TABLEGEN=/opt/x86-llvm/bin/clang-tblgen -DLLVM_INCLUDE_TESTS=OFF -DCLANG_INCLUDE_TESTS=OFF -DCMAKE_SYSROOT=/sysroot .. &amp;&amp; \\    make -j32 &amp;&amp; make -j32 install     RUN cp /sysroot/usr/lib/libstdc++.so.6.0.22 /opt/arm-llvm/lib &amp;&amp; cd /opt/arm-llvm/lib &amp;&amp; ln -s libstdc++.so.6.0.22 libstdc++.so.6 RUN cd /opt &amp;&amp; tar -zcf llvm.tar.gz arm-llvm &amp;&amp; rm -rf /opt/arm-llvm/bin &amp;&amp; cp -r /opt/x86-llvm/bin /opt/arm-llvm &amp;&amp; rm -rf /opt/llvm-7.0.1ENV LLVM_INSTALL_DIR=/opt/x86-llvmRUN cd /opt/qt-everywhere-src-5.12.12/build &amp;&amp; /opt/qt-everywhere-src-5.12.12/configure -prefix /qt5.12.12 \\    -opensource \\    -confirm-license \\    -release \\    -xplatform linux-aarch64-gnu-g++ \\    -make libs \\    -make tools \\    -nomake tests \\    -nomake examples \\    -qt-zlib \\    -sysroot /sysroot &amp;&amp; make -j64 &amp;&amp; make -j64 installRUN rm -rf /opt/qt-everywhere-src-5.12.12ENV LLVM_INSTALL_DIR=/opt/arm-llvmENV QTC_ENABLE_CLANG_LIBTOOLING=trueENV PATH=$PATH:/sysroot/qt5.12.12/bin\n\nx86 äº¤å‰ é¾™èŠ¯3A4000ï¼ˆmips64ï¼‰123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869FROM ubuntu:18.04ENV DEBIAN_FRONTEND noninteractiveRUN apt update &amp;&amp; apt install -y build-essential wget curl cmake python gperf bison flex pkg-config gcc-8-mips64el-linux-gnuabi64 g++-8-mips64el-linux-gnuabi64RUN rm -rf /usr/mips64el-linux-gnuabi64/lib &amp;&amp; rm -rf /usr/mips64el-linux-gnuabi64/lib64WORKDIR /optRUN wget -q åœ°å€ï¼šllvm-7.0.1.tar.gz &amp;&amp; \\    tar -xf llvm-7.0.1.tar.gz &amp;&amp; \\    rm -rf llvm-7.0.1.tar.gzRUN wget -q https://download.qt.io/archive/qt/5.12/5.12.12/single/qt-everywhere-src-5.12.12.tar.xz &amp;&amp; \\    xz -d qt-everywhere-src-5.12.12.tar.xz &amp;&amp; \\    tar -xf qt-everywhere-src-5.12.12.tar &amp;&amp; \\    rm -rf qt-everywhere-src-5.12.12.tar &amp;&amp; \\    cd qt-everywhere-src-5.12.12 &amp;&amp; mkdir build    WORKDIR /sysrootRUN wget -q æ‰“åŒ…å¥½çš„ sysrootï¼šjari-works-3a4000-system-usr.tar &amp;&amp; \\    tar -xf jari-works-3a4000-system-usr.tar &amp;&amp; \\    rm -rf jari-works-3a4000-system-usr.tarRUN wget -q æ‰“åŒ…å¥½çš„ sysrootï¼šjari-works-3a4000-system-lib.tar.tar.gz &amp;&amp; \\    tar -zxf jari-works-3a4000-system-lib.tar.tar.gz &amp;&amp; \\    rm -rf jari-works-3a4000-system-lib.tar.tar.gzRUN cd /opt/llvm-7.0.1/llvm &amp;&amp; mkdir build &amp;&amp; cd build &amp;&amp; \\    cmake -G &quot;Unix Makefiles&quot; -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/opt/x86-llvm -DLLVM_TABLEGEN=/opt/llvm-7.0.1/llvm/build/bin/llvm-tblgen -DCLANG_TABLEGEN=/opt/llvm-7.0.1/llvm/build/bin/clang-tblgen -DLLVM_INCLUDE_TESTS=OFF -DCLANG_INCLUDE_TESTS=OFF .. &amp;&amp; \\    make -j32 &amp;&amp; make -j32 install &amp;&amp; cp /opt/llvm-7.0.1/llvm/build/bin/clang-tblgen /opt/x86-llvm/binRUN rm -rf /sysroot/usr/bin &amp;&amp; cd /opt/llvm-7.0.1/llvm &amp;&amp; rm -rf build &amp;&amp; mkdir build &amp;&amp; cd build &amp;&amp; \\    CC=mips64el-linux-gnuabi64-gcc-8 CXX=mips64el-linux-gnuabi64-g++-8 cmake -G &quot;Unix Makefiles&quot; --enable-targets=mips -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/opt/mips-llvm -DLLVM_TABLEGEN=/opt/x86-llvm/bin/llvm-tblgen -DCLANG_TABLEGEN=/opt/x86-llvm/bin/clang-tblgen -DLLVM_INCLUDE_TESTS=OFF -DCLANG_INCLUDE_TESTS=OFF -DCMAKE_SYSROOT=/sysroot .. &amp;&amp; \\    make -j32 &amp;&amp; make -j32 install    RUN cd /opt &amp;&amp; tar -zcf llvm.tar.gz mips-llvm &amp;&amp; rm -rf /opt/mips-llvm/bin &amp;&amp; cp -r /opt/x86-llvm/bin /opt/mips-llvm &amp;&amp; rm -rf /opt/llvm-7.0.1ENV LLVM_INSTALL_DIR=/opt/x86-llvmRUN cd /opt/qt-everywhere-src-5.12.12/build &amp;&amp; cp -r /opt/qt-everywhere-src-5.12.12/qtbase/mkspecs/linux-aarch64-gnu-g++ /opt/qt-everywhere-src-5.12.12/qtbase/mkspecs/linux-mips64el-gnu-g++ &amp;&amp; \\    sed -i &#x27;14c QMAKE_CC          = mips64el-linux-gnuabi64-gcc-8&#x27; ../qtbase/mkspecs/linux-mips64el-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;15c QMAKE_CXX         = mips64el-linux-gnuabi64-g++-8&#x27; ../qtbase/mkspecs/linux-mips64el-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;16c QMAKE_LINK        = mips64el-linux-gnuabi64-g++-8&#x27; ../qtbase/mkspecs/linux-mips64el-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;17c QMAKE_LINK_SHLIB  = mips64el-linux-gnuabi64-g++-8&#x27; ../qtbase/mkspecs/linux-mips64el-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;20c QMAKE_AR          = mips64el-linux-gnuabi64-ar cqs&#x27; ../qtbase/mkspecs/linux-mips64el-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;21c QMAKE_OBJCOPY     = mips64el-linux-gnuabi64-objcopy&#x27; ../qtbase/mkspecs/linux-mips64el-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;22c QMAKE_NM          = mips64el-linux-gnuabi64-nm -P&#x27; ../qtbase/mkspecs/linux-mips64el-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;23c QMAKE_STRIP       = mips64el-linux-gnuabi64-strip&#x27; ../qtbase/mkspecs/linux-mips64el-gnu-g++/qmake.conf &amp;&amp; \\    /opt/qt-everywhere-src-5.12.12/configure -prefix /qt5.12.12 \\    -opensource \\    -confirm-license \\    -release \\    -xplatform linux-mips64el-gnu-g++ \\    -make libs \\    -make tools \\    -nomake tests \\    -nomake examples \\    -qt-zlib \\    -sysroot /sysroot &amp;&amp; \\    make -j64 &amp;&amp; make -j32 installRUN rm -rf /opt/qt-everywhere-src-5.12.12ENV LLVM_INSTALL_DIR=/opt/mips-llvmENV QTC_ENABLE_CLANG_LIBTOOLING=trueENV PATH=$PATH:/sysroot/qt5.12.12/bin\n\nx86 äº¤å‰ é¾™èŠ¯3A5000ï¼ˆLoongArch64ï¼‰12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485FROM ubuntu:18.04ENV DEBIAN_FRONTEND noninteractiveRUN sed -i &#x27;1 i deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;2 i deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;3 i deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;4 i deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;5 i deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;6 i deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;7 i deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse&#x27; /etc/apt/sources.list &amp;&amp; \\    sed -i &#x27;8 i deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse&#x27; /etc/apt/sources.listRUN apt update &amp;&amp; apt install -y build-essential wget curl cmake python gperf bison flex pkg-configWORKDIR /optRUN wget -q åœ°å€ï¼šllvm-7.0.1.tar.gz &amp;&amp; \\    tar -xf llvm-7.0.1.tar.gz &amp;&amp; \\    rm -rf llvm-7.0.1.tar.gzRUN wget http://ftp.loongnix.cn/toolchain/gcc/release/loongarch/gcc8/toolchain-loongarch64-linux-gnu-cross-830-rc1.0-2022-04-22.tar.xz &amp;&amp; \\    tar -xf toolchain-loongarch64-linux-gnu-cross-830-rc1.0-2022-04-22.tar.xz &amp;&amp; \\    rm -rf toolchain-loongarch64-linux-gnu-cross-830-rc1.0-2022-04-22.tar.xz &amp;&amp; \\    mv toolchain-loongarch64-linux-gnu-cross-830-rc1.0-2022-04-22 loongaarchENV PATH=$PATH:/opt/loongaarch/binRUN wget https://download.qt.io/archive/qt/5.12/5.12.12/single/qt-everywhere-src-5.12.12.tar.xz &amp;&amp; \\    xz -d qt-everywhere-src-5.12.12.tar.xz &amp;&amp; \\    tar -xf qt-everywhere-src-5.12.12.tar &amp;&amp; \\    rm -rf qt-everywhere-src-5.12.12.tar &amp;&amp; \\    sed -i &#x27;493c u.asBits.payload = reinterpret_cast&lt;int64_t&gt;(ptr);&#x27; /opt/qt-everywhere-src-5.12.12/qtscript/src/3rdparty/javascriptcore/JavaScriptCore/runtime/JSValue.h &amp;&amp; \\    sed -i &#x27;505c u.asBits.payload = reinterpret_cast&lt;int64_t&gt;(const_cast&lt;JSCell*&gt;(ptr));&#x27; /opt/qt-everywhere-src-5.12.12/qtscript/src/3rdparty/javascriptcore/JavaScriptCore/runtime/JSValue.h &amp;&amp; \\    cd qt-everywhere-src-5.12.12 &amp;&amp; mkdir buildWORKDIR /sysrootRUN wget æ‰“åŒ…å¥½çš„ sysrootï¼šloongson-3A5000.tar.gz &amp;&amp; \\    tar -zxf loongson-3A5000.tar.gz &amp;&amp; \\    rm -rf loongson-3A5000.tar.gzRUN cd /opt/llvm-7.0.1/llvm &amp;&amp; mkdir build &amp;&amp; cd build &amp;&amp; \\    sed -e &#x27;1163 s|^|//|&#x27; -i /opt/llvm-7.0.1/llvm/projects/compiler-rt/lib/sanitizer_common/sanitizer_platform_limits_posix.cc &amp;&amp; \\    cmake -G &quot;Unix Makefiles&quot; -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/opt/x86-llvm -DLLVM_TABLEGEN=/opt/llvm-7.0.1/llvm/build/bin/llvm-tblgen -DCLANG_TABLEGEN=/opt/llvm-7.0.1/llvm/build/bin/clang-tblgen -DLLVM_INCLUDE_TESTS=OFF -DCLANG_INCLUDE_TESTS=OFF .. &amp;&amp; \\    make -j32 &amp;&amp; make -j32 install &amp;&amp; cp /opt/llvm-7.0.1/llvm/build/bin/clang-tblgen /opt/x86-llvm/binRUN cd /opt/llvm-7.0.1/llvm &amp;&amp; rm -rf build &amp;&amp; mkdir build &amp;&amp; cd build &amp;&amp; \\    CC=loongarch64-linux-gnu-gcc CXX=loongarch64-linux-gnu-g++ cmake -G &quot;Unix Makefiles&quot; --enable-targets=loongaarch64 -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/opt/loongaarch64-llvm -DLLVM_TABLEGEN=/opt/x86-llvm/bin/llvm-tblgen -DCLANG_TABLEGEN=/opt/x86-llvm/bin/clang-tblgen -DLLVM_INCLUDE_TESTS=OFF -DCLANG_INCLUDE_TESTS=OFF -DCMAKE_SYSROOT=/sysroot .. &amp;&amp; \\    make -j32 &amp;&amp; make -j32 install    RUN cd /opt &amp;&amp; tar -zcf loongaarch64.tar.gz loongaarch64-llvm &amp;&amp; rm -rf /opt/loongaarch64-llvm/bin &amp;&amp; cp -r /opt/x86-llvm/bin /opt/loongaarch64-llvm &amp;&amp; rm -rf /opt/llvm-7.0.1ENV LLVM_INSTALL_DIR=/opt/x86-llvmRUN cd /opt/qt-everywhere-src-5.12.12/build &amp;&amp; cp -r /opt/qt-everywhere-src-5.12.12/qtbase/mkspecs/linux-aarch64-gnu-g++ /opt/qt-everywhere-src-5.12.12/qtbase/mkspecs/linux-loongarch64-gnu-g++ &amp;&amp; \\    sed -i &#x27;89c defined(__mips__) || defined(__loongarch__) || \\\\&#x27; /opt/qt-everywhere-src-5.12.12/qtbase/src/3rdparty/double-conversion/include/double-conversion/utils.h &amp;&amp; \\    sed -i &#x27;14c QMAKE_CC          = loongarch64-linux-gnu-gcc&#x27; /opt/qt-everywhere-src-5.12.12/qtbase/mkspecs/linux-loongarch64-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;15c QMAKE_CXX         = loongarch64-linux-gnu-g++&#x27; /opt/qt-everywhere-src-5.12.12/qtbase/mkspecs/linux-loongarch64-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;16c QMAKE_LINK        = loongarch64-linux-gnu-g++&#x27; /opt/qt-everywhere-src-5.12.12/qtbase/mkspecs/linux-loongarch64-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;17c QMAKE_LINK_SHLIB  = loongarch64-linux-gnu-g++&#x27; /opt/qt-everywhere-src-5.12.12/qtbase/mkspecs/linux-loongarch64-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;20c QMAKE_AR          = loongarch64-linux-gnu-ar cqs&#x27; /opt/qt-everywhere-src-5.12.12/qtbase/mkspecs/linux-loongarch64-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;21c QMAKE_OBJCOPY     = loongarch64-linux-gnu-objcopy&#x27; /opt/qt-everywhere-src-5.12.12/qtbase/mkspecs/linux-loongarch64-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;22c QMAKE_NM          = loongarch64-linux-gnu-nm -P&#x27; /opt/qt-everywhere-src-5.12.12/qtbase/mkspecs/linux-loongarch64-gnu-g++/qmake.conf &amp;&amp; \\    sed -i &#x27;23c QMAKE_STRIP       = loongarch64-linux-gnu-strip&#x27; /opt/qt-everywhere-src-5.12.12/qtbase/mkspecs/linux-loongarch64-gnu-g++/qmake.conf &amp;&amp; \\    /opt/qt-everywhere-src-5.12.12/configure -prefix /qt5.12.12 \\    -opensource \\    -confirm-license \\    -release \\    -xplatform linux-loongarch64-gnu-g++ \\    -make libs \\    -make tools \\    -nomake tests \\    -nomake examples \\    -qt-zlib \\    -xcb-xlib -xcb \\    -opengl desktop \\    -sysroot /sysroot &amp;&amp; \\    make -j64 &amp;&amp; make -j32 installRUN rm -rf /opt/qt-everywhere-src-5.12.12ENV LLVM_INSTALL_DIR=/opt/loongaarch64-llvmENV QTC_ENABLE_CLANG_LIBTOOLING=trueENV PATH=$PATH:/sysroot/qt5.12.12/bin","slug":"Docker","date":"2024-02-22T08:03:32.000Z","categories_index":"","tags_index":"Docker","author_index":"å“ªå’"},{"id":"425d803af0b4bf31b2b7e015a65ed6f3","title":"ä¼šè¯æŠ€æœ¯","content":"\n\n\n\n\n\n\n\n\nğŸ’¡ Tipsï¼šHTTP çš„ä¸€å¤§ç‰¹ç‚¹â€œæ— çŠ¶æ€â€ï¼Œæ˜¯å…¶æœ€åˆç‰ˆæœ¬çš„è®¾è®¡ç‰¹ç‚¹ä¹‹ä¸€ï¼Œè€Œè¿™ä¸€ç‰¹ç‚¹ä¸€ç›´ä¿æŒåˆ° HTTP çš„æœ€æ–°ç‰ˆæœ¬ã€‚æ— çŠ¶æ€æ„å‘³ç€æ¯ä¸ªè¯·æ±‚ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼ŒæœåŠ¡å™¨ä¸ä¼šä¿å­˜å…³äºå®¢æˆ·ç«¯è¯·æ±‚çš„ä»»ä½•ä¿¡æ¯ã€‚è¿™æ„å‘³ç€æ¯ä¸ªè¯·æ±‚éƒ½éœ€è¦åŒ…å«æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯ï¼Œå› æ­¤æœåŠ¡å™¨å¯ä»¥ç†è§£å¹¶å“åº”ã€‚\nè™½ç„¶ HTTP çš„æ— çŠ¶æ€ç‰¹æ€§ä¸€ç›´æ˜¯ä¿ç•™ä¸‹æ¥çš„æ ¸å¿ƒæ¦‚å¿µï¼Œä½†æ˜¯éšç€æ—¶é—´çš„æ¨ç§»ï¼ŒHTTP åè®®çš„æ¼”å˜å’Œå‘å±•å·²ç»å¼•å…¥äº†ä¸€äº›æœºåˆ¶æ¥å¤„ç†çŠ¶æ€ä¿¡æ¯ï¼Œæ¯”å¦‚ Cookieã€Session ç­‰æœºåˆ¶ã€‚è¿™äº›æœºåˆ¶å…è®¸æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯åœ¨ä¸€ç³»åˆ—è¯·æ±‚ä¹‹é—´å…±äº«çŠ¶æ€ä¿¡æ¯ï¼Œä»è€Œå®ç°äº†åœ¨æ— çŠ¶æ€åè®®ä¸­æ¨¡æ‹Ÿæœ‰çŠ¶æ€çš„è¡Œä¸ºã€‚\næ€»çš„æ¥è¯´ï¼Œå°½ç®¡ HTTP åè®®çš„åŸºæœ¬æ— çŠ¶æ€ç‰¹æ€§ä¸€ç›´ä¿æŒç€ï¼Œä½†éšç€æŠ€æœ¯çš„å‘å±•å’Œéœ€æ±‚çš„å˜åŒ–ï¼ŒHTTP åè®®çš„å®ç°å’Œä½¿ç”¨ä¸­å¼•å…¥äº†è®¸å¤šé¢å¤–çš„åŠŸèƒ½å’Œæœºåˆ¶æ¥å¤„ç†çŠ¶æ€ä¿¡æ¯ï¼Œä»¥æ»¡è¶³ç°ä»£ç½‘ç»œåº”ç”¨çš„éœ€æ±‚ã€‚\nCookieCookie æ˜¯å®¢æˆ·ç«¯ä½¿ç”¨çš„ä¸€ç§è®°å½•å®¢æˆ·ç«¯çŠ¶æ€çš„æœºåˆ¶ï¼Œæ˜¯ç”± W3C ç»„ç»‡æå‡ºï¼Œæœ€æ—©ç”± Netscape(ç½‘æ™¯) ç¤¾åŒºå‘å±•çš„ä¸€ç§æœºåˆ¶ã€‚ç›®å‰ Cookie å·²ç»æˆä¸ºæ ‡å‡†ï¼Œæ‰€æœ‰çš„ä¸»æµæµè§ˆå™¨åŸºæœ¬éƒ½æ”¯æŒ Cookieã€‚\nCookie å·¥ä½œæµç¨‹Cookie æ˜¯æœåŠ¡å™¨å‘é€åˆ°ç”¨æˆ·æµè§ˆå™¨å¹¶ä¿å­˜åœ¨æœ¬åœ°çš„ä¸€å°å—æ•°æ®ï¼Œå®ƒä¼šåœ¨æµè§ˆå™¨ä¸‹æ¬¡å‘åŒä¸€æœåŠ¡å™¨å†å‘èµ·è¯·æ±‚æ—¶è¢«æºå¸¦å¹¶å‘é€åˆ°æœåŠ¡å™¨ä¸Šï¼š\n\n\n\n\n\n\n\n\n\n\n\n\næœåŠ¡å™¨ç«¯è®¾ç½® Cookieï¼š å½“å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨å¯ä»¥åœ¨ HTTP å“åº”æ¶ˆæ¯æŠ¥å¤´ä¸­æ’å…¥ Set-Cookie æ ‡å¤´ï¼Œä»¥è®¾ç½® Cookieã€‚Set-Cookie æ ‡å¤´åŒ…å«äº† Cookie çš„åç§°ã€å€¼ä»¥åŠå…¶ä»–å¯é€‰çš„å±æ€§ï¼Œå¦‚è¿‡æœŸæ—¶é—´ã€åŸŸã€è·¯å¾„ç­‰ï¼›\nå®¢æˆ·ç«¯ä¿å­˜ Cookieï¼š å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨å‘é€çš„å“åº”åï¼Œä¼šå°†å…¶ä¸­çš„ Set-Cookie æ ‡å¤´ä¸­çš„ Cookie ä¿å­˜èµ·æ¥ã€‚å¦‚æœ Cookie è®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œé‚£ä¹ˆå®ƒå°†ä¼šè¢«æŒä¹…åœ°å­˜å‚¨ï¼Œç›´åˆ°åˆ°è¾¾è¿‡æœŸæ—¶é—´ï¼›å¦‚æœæ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œé‚£ä¹ˆå®ƒå°†åªåœ¨å®¢æˆ·ç«¯çš„å†…å­˜ä¸­å­˜å‚¨ï¼Œå¹¶åœ¨å…³é—­æµè§ˆå™¨æ—¶è¢«åˆ é™¤ï¼›\nå®¢æˆ·ç«¯å‘é€ Cookieï¼š å½“å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€æ–°çš„è¯·æ±‚æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨åœ¨è¯·æ±‚æŠ¥å¤´ä¸­æ’å…¥æ‰€æœ‰ä¸å½“å‰åŸŸç›¸å…³è”çš„ Cookieï¼›\næœåŠ¡å™¨ç«¯è¯»å– Cookieï¼š æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚åï¼Œå¯ä»¥é€šè¿‡è¯»å–è¯·æ±‚æŠ¥å¤´ä¸­çš„ Cookie æ¥è·å–å®¢æˆ·ç«¯å‘é€çš„æ•°æ®ã€‚æœåŠ¡å™¨å¯ä»¥æ ¹æ®è¿™äº› Cookie æ¥è¯†åˆ«ç”¨æˆ·çŠ¶æ€ã€æ‰§è¡Œä¸ªæ€§åŒ–æ“ä½œç­‰ï¼›\n\nCookie åº”ç”¨åœºæ™¯\nä¸ªæ€§åŒ–è®¾ç½®ï¼šå¦‚ç”¨æˆ·è‡ªå®šä¹‰è®¾ç½®ã€ä¸»é¢˜ç­‰ï¼›\næµè§ˆå™¨è¡Œä¸ºè·Ÿè¸ªï¼šå¦‚è·Ÿè¸ªåˆ†æç”¨æˆ·è¡Œä¸ºç­‰ï¼›\nä¼šè¯çŠ¶æ€ç®¡ç†ï¼šå¦‚ç”¨æˆ·ç™»å½•çŠ¶æ€ã€è´­ç‰©è½¦ã€æ¸¸æˆåˆ†æ•°æˆ–å…¶å®ƒéœ€è¦è®°å½•çš„ä¿¡æ¯ï¼›\n\nCookie ä¸€äº›ç»†èŠ‚\n\n\n\n\n\nTIP\n\næŒä¹…å­˜å‚¨çš„ Cookieï¼š å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„ç£ç›˜ä¸Šï¼Œå› æ­¤å¯ä»¥åœ¨æµè§ˆå™¨ä¼šè¯ä¹‹é—´æŒç»­å­˜åœ¨ï¼Œå³ä½¿å…³é—­æµè§ˆå™¨å†æ‰“å¼€ä¹Ÿä¼šç»§ç»­å­˜åœ¨ã€‚è¿™ç§ç±»å‹çš„ Cookie å¯ä»¥é€šè¿‡è®¾ç½®è¿‡æœŸæ—¶é—´æ¥æ§åˆ¶å…¶æŒç»­æ—¶é—´ï¼Œä½†å®ƒä»¬ä¸ä¼šè·¨è¶Šæµè§ˆå™¨æˆ–è®¾å¤‡è¾¹ç•Œï¼Œå› ä¸ºå®ƒä»¬å­˜å‚¨åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªæµè§ˆå™¨å’Œè®¾å¤‡éƒ½æœ‰è‡ªå·±çš„æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œä½†é€šè¿‡ Cookie å¯¼å‡ºå¯¼å…¥å¯ä»¥åšåˆ°è·¨æµè§ˆå™¨å’Œè®¾å¤‡ï¼›\néæŒä¹…å­˜å‚¨çš„ Cookieï¼š å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„å†…å­˜ä¸­ï¼Œé€šå¸¸åœ¨å…³é—­æµè§ˆå™¨æ—¶å°±ä¼šè¢«é”€æ¯ã€‚è¿™ç§ Cookie é€šå¸¸ç”¨äºä¸´æ—¶æ€§æ•°æ®çš„å­˜å‚¨ï¼Œæ¯”å¦‚ä¼šè¯æ ‡è¯†ç¬¦ç­‰ã€‚å› ä¸ºå®ƒä»¬åªå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå¹¶ä¸”ä¼šåœ¨æµè§ˆå™¨å…³é—­æ—¶è¢«é”€æ¯ï¼Œæ‰€ä»¥ä¸èƒ½æŒä¹…å­˜åœ¨ï¼Œä¹Ÿä¸ä¼šè·¨è¶Šæµè§ˆå™¨æˆ–è®¾å¤‡è¾¹ç•Œï¼›\nå­˜å‚¨å¤§å°é™åˆ¶ï¼š æ¯ä¸ª Cookie çš„å­˜å‚¨å¤§å°é€šå¸¸é™åˆ¶åœ¨ 4KB å·¦å³ã€‚è¿™æ„å‘³ç€å•ä¸ª Cookie çš„é”®å€¼å¯¹åŠå…¶ç›¸å…³çš„å…ƒæ•°æ®ï¼ˆå¦‚è¿‡æœŸæ—¶é—´ã€åŸŸã€è·¯å¾„ç­‰ï¼‰æ€»å…±ä¸èƒ½è¶…è¿‡è¿™ä¸ªå¤§å°ï¼›\næœ€å¤§ Cookie æ•°é‡é™åˆ¶ï¼š ä¸€ä¸ªæµè§ˆå™¨é€šå¸¸ä¼šé™åˆ¶æ¯ä¸ªåŸŸåä¸‹çš„ Cookie æ•°é‡ï¼Œä¸€èˆ¬ä¸è¶…è¿‡ 300 ä¸ª Cookieã€‚è¿™ä¸ªé™åˆ¶æ—¨åœ¨é˜²æ­¢ç½‘ç«™è¿‡åº¦ä½¿ç”¨ Cookieï¼Œä»¥åŠå‡è½»å®¢æˆ·ç«¯å­˜å‚¨çš„å‹åŠ›ï¼›\nå•ä¸ªç½‘ç«™ Cookie æ•°é‡é™åˆ¶ï¼šæ¯ä¸ªç½‘ç«™æœ€å¤šå¯ä»¥è®¾ç½®çš„ Cookie æ•°é‡é€šå¸¸ä¹Ÿæœ‰é™åˆ¶ï¼Œä¸€èˆ¬ä¸è¶…è¿‡ 20 ä¸ªã€‚è¿™ä¸ªé™åˆ¶æœ‰åŠ©äºç¡®ä¿ç½‘ç«™ä¸ä¼šè¿‡åº¦ä¾èµ– Cookie æ¥å­˜å‚¨å¤§é‡æ•°æ®ï¼Œä»¥åŠå‡å°‘å®¢æˆ·ç«¯å­˜å‚¨çš„è´Ÿæ‹…ï¼›\nCookie åŒæºç­–ç•¥ï¼šCookie åŒæºç­–ç•¥å…è®¸åœ¨åŒä¸€çˆ¶çº§åŸŸåä¸‹å…±äº« Cookieã€‚è¿™æ„å‘³ç€å½“è®¾ç½®äº†ä¸€ä¸ª Cookie çš„ â€œdomainâ€ å±æ€§æ—¶ï¼Œè¯¥ Cookie å°†åœ¨æŒ‡å®šçš„åŸŸåä»¥åŠå…¶æ‰€æœ‰çš„å­åŸŸåä¸‹å¯è§ã€‚å› æ­¤ï¼Œå½“è®¿é—®å­åŸŸåæ—¶ï¼Œæµè§ˆå™¨ä¼šå‘é€çˆ¶çº§åŸŸåä¸‹çš„ Cookieï¼Œä½¿å¾—è·¨å­åŸŸåé—´å¯ä»¥å…±äº«ç”¨æˆ·çŠ¶æ€ä¿¡æ¯ï¼›\n\n\n\nSessionSession æ˜¯ä¸€ç§æœåŠ¡å™¨ç«¯çš„çŠ¶æ€ç®¡ç†æœºåˆ¶ï¼Œç”¨äºå­˜å‚¨å’Œè·Ÿè¸ªç”¨æˆ·çš„ä¼šè¯ä¿¡æ¯ã€‚ä¸ Cookie ä¸åŒï¼ŒSession æ•°æ®å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼Œè€Œä¸æ˜¯å®¢æˆ·ç«¯ã€‚\nSession å·¥ä½œæµç¨‹Session ä¸ Cookie æœ‰å¾ˆå¤§çš„ç›¸ä¼¼ï¼ŒæœåŠ¡ç«¯æœ€ç»ˆå“åº”ç»™å®¢æˆ·ç«¯çš„æ˜¯ä¸€æ®µ Cookieï¼Œä»è€Œå¯ä»¥è¯´ Session çš„å®ç°ä¾èµ– Cookieï¼š\n\n\n\n\n\n\n\n\n\n\n\n\næœåŠ¡å™¨åˆ›å»º Sessionï¼š æœåŠ¡å™¨ä¸ºç”¨æˆ·åˆ›å»ºä¸€ä¸ªæ–°çš„ Sessionï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ SessionIDï¼›\nå‘é€ SessionID ç»™å®¢æˆ·ç«¯ï¼š æœåŠ¡å™¨å°† SessionID æ”¾ç½®åœ¨ Set-Cookie æ ‡å¤´ä¸­å‘é€ç»™å®¢æˆ·ç«¯ï¼›\nå®¢æˆ·ç«¯ä¿å­˜ SessionIDï¼š å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ä¿å­˜æ¥æ”¶åˆ°çš„ SessionIDï¼›\nå®¢æˆ·ç«¯å‘é€è¯·æ±‚å¹¶æºå¸¦ SessionIDï¼š å®¢æˆ·ç«¯å‘é€è¯·æ±‚æ—¶ï¼Œè‡ªåŠ¨å°†ä¿å­˜çš„ SessionID æ”¾ç½®åœ¨è¯·æ±‚çš„ Cookie ä¸­å‘é€ç»™æœåŠ¡å™¨ï¼›\næœåŠ¡å™¨æ ¹æ® SessionID è·å–æ•°æ®ï¼š æœåŠ¡å™¨æ ¹æ® SessionID è·å–ä¸ç”¨æˆ·ç›¸å…³çš„ä¼šè¯æ•°æ®ï¼›\næœåŠ¡å™¨è¿”å›å“åº”ï¼š æœåŠ¡å™¨æ ¹æ®è¯·æ±‚å¤„ç†ç»“æœç”Ÿæˆå“åº”å¹¶å‘é€ç»™å®¢æˆ·ç«¯ï¼›\n\nSession åº”ç”¨åœºæ™¯è·Ÿ Cookie ä¸€æ ·ï¼Œæ²¡å•¥å­å·®åˆ«ã€‚\nSession ä¸€äº›ç»†èŠ‚\n\n\n\n\n\nTIP\n\nç¦ç”¨äº† Cookie ä¹‹å Session è¿˜å¯ä»¥ç”¨å˜›ï¼Ÿ\nSession å®ç°å…³é”®æ˜¯ SessionIDï¼Œåªéœ€è¦å°† SessionID ä¼ é€’ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨åœ¨è¯·æ±‚çš„æ—¶å€™å†å°† SessionID ä¼ é€’ç»™æœåŠ¡å™¨ï¼Œå°±å¯ä»¥å®ç° Sessionï¼›\n\n\nå‡å¦‚ä½¿ç”¨äº† Nginx æœåŠ¡å™¨è½¯ä»¶åšäº†è´Ÿè½½å‡è¡¡ï¼Œé‚£ä¹ˆä¼šå‘ç°ä¸¢å¤± Session çš„é—®é¢˜ã€‚å‡ºç°ä¸¢å¤± Session é—®é¢˜æ€ä¹ˆåŠå‘¢ï¼Ÿ\nå¯ä»¥ä½¿ç”¨ç”¨ Nginx ip_hash ç®—æ³•è§£å†³ï¼›\n\n\n\n\n\nSession å’Œ Cookie çš„åŒºåˆ«\n\n\n\n\n\nTIP\n\nSession å­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼ŒCookie å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼›\nSession ç”¨æˆ·æ— æ³•æŸ¥çœ‹å’Œä¿®æ”¹ï¼ŒCookie ç”¨æˆ·å¯ä»¥æŸ¥çœ‹ä¿®æ”¹ï¼›\nSession å’Œ Cookie çš„å­˜å‚¨å®¹é‡ä¸åŒï¼ŒCookie æœ‰å„ç§é™åˆ¶ï¼ŒSession æ²¡æœ‰é™åˆ¶ï¼›\n\n\n\n","slug":"ä¼šè¯æŠ€æœ¯","date":"2024-02-22T05:56:20.000Z","categories_index":"","tags_index":"ç½‘ç»œåè®®","author_index":"å“ªå’"},{"id":"44a298e41e961f01947480950600547b","title":"æå®š HTTP åè®®","content":"\n\n\n\n\n\n\n\n\nğŸ’¡ Tipsï¼šHTTP åè®®ï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®® HyperText Transfer Protocolï¼‰ï¼Œæ˜¯ä¸€ç§åŸºäº TCP&#x2F;IP åè®®çš„åº”ç”¨å±‚åè®®ï¼Œç”¨äºåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ è¾“è¶…æ–‡æœ¬æ–‡æ¡£ï¼Œè¶…æ–‡æœ¬æ–‡æ¡£å¯ä»¥åŒ…å«å„ç§å†…å®¹ï¼šæ–‡æœ¬ã€å›¾å½¢ã€éŸ³é¢‘ã€è§†é¢‘ã€äºŒè¿›åˆ¶æ–‡ä»¶ç­‰ã€‚\nå†å²ç‰ˆæœ¬\n\n\n\n\n\nTIP\n\n1991 å¹´å‘å¸ƒçš„ HTTP&#x2F;0.9 ç‰ˆæœ¬å‘å¸ƒï¼Œè¯¥ç‰ˆæœ¬åŠå…¶çš„ç®€å•ï¼Œåªæœ‰ä¸€ä¸ªå‘½ä»¤ GET ï¼Œä¸”åªæ”¯æŒæ–‡æœ¬ä¼ è¾“ï¼›\n1996 å¹´ 5 æœˆä»½ï¼Œ HTTP&#x2F;1.0 ç‰ˆæœ¬å‘å¸ƒï¼Œå†…å®¹å¤§å¤§çš„å¢åŠ ã€‚å¯ä»¥ä¼ è¾“ä»»ä½•æ ¼å¼çš„å†…å®¹ï¼šæ–‡æœ¬ã€å›¾å½¢ã€éŸ³é¢‘ã€è§†é¢‘ã€äºŒè¿›åˆ¶æ–‡ä»¶ç­‰ã€‚å‘½ä»¤ä¹Ÿè¿›è¡Œäº†æ‰©å±•ï¼Œå¼•å…¥äº† POST å’Œ HEAD å‘½ä»¤ã€‚ä½† 1.0 ç‰ˆæœ¬å­˜åœ¨ä¸€ä¸ªç¼ºç‚¹ï¼Œä¸æ”¯æŒæŒä¹…è¿æ¥ï¼›\n1997 å¹´ 1 æœˆï¼ŒHTTP&#x2F;1.1 ç‰ˆæœ¬å‘å¸ƒï¼Œè¿›ä¸€æ­¥çš„å®Œå–„äº† HTTP åè®®ï¼Œä¹Ÿæ˜¯ç°ç›®å‰äº’è”ç½‘ä½¿ç”¨æœ€å¹¿æ³›çš„ç‰ˆæœ¬ã€‚1.1 ç‰ˆæœ¬æœ€å¤§çš„å˜åŒ–å°±æ˜¯å¼•å…¥äº†æŒä¹…è¿æ¥ï¼›\n2015 å¹´ï¼ŒHTTP&#x2F;2 å‘å¸ƒã€‚å®ƒä¸å« HTTP&#x2F;2.0ï¼Œå› ä¸ºæ ‡å‡†å§”å‘˜ä¼šä¸æ‰“ç®—å†å‘å¸ƒå­ç‰ˆæœ¬äº†ï¼Œä¸‹ä¸€ä¸ªæ–°ç‰ˆæœ¬å°†æ˜¯ HTTP&#x2F;3 ã€‚3 ç‰ˆæœ¬çš„æœ€å¤§çš„æ”¹å˜ï¼Œå¯èƒ½ä¼šæŠ›å¼ƒæ‰ TCP åè®®ä½¿ç”¨ UDP åè®®ï¼›\n\n\n\næŒä¹…åŒ–ä¸éæŒä¹…åŒ–æŒä¹…åŒ–ï¼ˆé•¿è¿æ¥ï¼‰ä¸ºäº†è§£å†³éæŒä¹…è¿æ¥çš„ç¼ºç‚¹ï¼ŒHTTP&#x2F;1.1 å¼•å…¥äº†æŒä¹…è¿æ¥çš„æ¦‚å¿µã€‚åœ¨æŒä¹…è¿æ¥ä¸­ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥åœ¨ä¸€å®šçš„æ—¶é—´æ®µå†…ä¿æŒæ‰“å¼€çŠ¶æ€ï¼Œå¯ä»¥åœ¨åŒä¸€è¿æ¥ä¸Šå‘é€å¤šä¸ªè¯·æ±‚å’Œæ¥æ”¶å¤šä¸ªå“åº”ã€‚è¿™æ ·åšå¯ä»¥é¿å…é‡å¤åˆ›å»ºå’Œå…³é—­è¿æ¥çš„å¼€é”€ï¼Œæé«˜é€šä¿¡æ•ˆç‡å’Œæ€§èƒ½ã€‚æŒä¹…è¿æ¥ä½¿å¾—å¯ä»¥åœ¨ä¸€ä¸ªè¿æ¥ä¸Šå®Œæˆå¤šä¸ª HTTP è¯·æ±‚&#x2F;å“åº”å¾€è¿”ã€‚\néæŒä¹…åŒ–ï¼ˆçŸ­è¿æ¥ï¼‰åœ¨ HTTP&#x2F;1.0 ç‰ˆæœ¬ä¸­ï¼Œæ¯æ¬¡å®¢æˆ·ç«¯å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ TCP è¿æ¥ã€‚è¿™ä¸ªè¿æ¥åœ¨è¯·æ±‚å®Œæˆåä¼šç«‹å³å…³é—­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªè¯·æ±‚å’Œå“åº”éƒ½éœ€è¦ç‹¬ç«‹çš„è¿æ¥ï¼Œè¿™ç§æ–¹å¼è¢«ç§°ä¸ºéæŒä¹…è¿æ¥ã€‚è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯ï¼Œæ¯æ¬¡åˆ›å»ºå’Œå…³é—­è¿æ¥éƒ½éœ€è¦æ—¶é—´å’Œèµ„æºï¼Œä¼šå¢åŠ é€šä¿¡çš„å»¶è¿Ÿå’Œæ¶ˆè€—ã€‚\næŒä¹…åŒ–ä¼˜ç¼ºç‚¹\nä¼˜ç‚¹\nå‡å°‘å»¶è¿Ÿï¼š å¯ä»¥åœ¨åŒä¸€è¿æ¥ä¸Šè¿ç»­å‘é€å¤šä¸ªè¯·æ±‚å’Œæ¥æ”¶å¤šä¸ªå“åº”ï¼Œå‡å°‘äº†è¿æ¥å»ºç«‹å’Œå…³é—­çš„å¼€é”€ï¼Œæé«˜äº†é€šä¿¡çš„æ•ˆç‡å’Œæ€§èƒ½ï¼›\nèŠ‚çœèµ„æºï¼š ä¿æŒè¿æ¥æ‰“å¼€å¯ä»¥é¿å…é‡å¤çš„è¿æ¥å»ºç«‹å’Œå…³é—­ï¼ŒèŠ‚çœäº†æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„è¿æ¥èµ„æºï¼›\næé«˜ååé‡ï¼š é•¿è¿æ¥å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜ç³»ç»Ÿçš„ååé‡ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§é‡å¹¶å‘è¯·æ±‚çš„æƒ…å†µä¸‹ï¼›\n\n\nç¼ºç‚¹\nèµ„æºå ç”¨ï¼š é•¿æ—¶é—´ä¿æŒè¿æ¥æ‰“å¼€ä¼šå ç”¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„è¿æ¥èµ„æºï¼Œå¯èƒ½ä¼šå¯¼è‡´èµ„æºçš„æµªè´¹ï¼›\nç®¡ç†å¤æ‚æ€§ï¼š é•¿è¿æ¥éœ€è¦ç®¡ç†è¿æ¥çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„ç®¡ç†å’Œç»´æŠ¤æˆæœ¬ï¼›\nå ç”¨è¿æ¥æ•°ï¼š é•¿è¿æ¥ä¼šå ç”¨ä¸€å®šæ•°é‡çš„è¿æ¥æ•°ï¼Œå¯èƒ½ä¼šå½±å“å…¶ä»–ç”¨æˆ·çš„è®¿é—®å’Œç³»ç»Ÿçš„å¯ç”¨æ€§ï¼›\n\n\n\néæŒä¹…åŒ–ä¼˜ç¼ºç‚¹\nä¼˜ç‚¹\nèµ„æºé‡Šæ”¾ï¼š æ¯ä¸ªè¯·æ±‚å®Œæˆåç«‹å³å…³é—­è¿æ¥ï¼Œé‡Šæ”¾äº†æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„è¿æ¥èµ„æºï¼Œæœ‰åŠ©äºèŠ‚çœèµ„æºï¼›\nç‹¬ç«‹æ€§ï¼š æ¯ä¸ªè¯·æ±‚å’Œå“åº”éƒ½ä½¿ç”¨ç‹¬ç«‹çš„è¿æ¥ï¼Œç›¸äº’ç‹¬ç«‹ï¼Œä¸ä¼šç›¸äº’å½±å“ï¼Œæœ‰åŠ©äºæé«˜ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼›\nçµæ´»æ€§ï¼š é€‚ç”¨äºå¯¹å»¶è¿Ÿè¦æ±‚ä¸¥æ ¼ã€èµ„æºå—é™æˆ–éœ€è¦ç›¸å¯¹ç‹¬ç«‹çš„åœºæ™¯ï¼›\n\n\nç¼ºç‚¹\nè¿æ¥å¼€é”€ï¼š é¢‘ç¹åœ°åˆ›å»ºå’Œå…³é—­è¿æ¥ä¼šå¢åŠ é€šä¿¡çš„å»¶è¿Ÿå’Œèµ„æºæ¶ˆè€—ï¼Œé™ä½äº†é€šä¿¡çš„æ•ˆç‡ï¼›\næ€§èƒ½ä¸‹é™ï¼š æ¯æ¬¡å»ºç«‹è¿æ¥éƒ½éœ€è¦è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼Œå¢åŠ äº†ç½‘ç»œå»¶è¿Ÿï¼Œé™ä½äº†æ€§èƒ½ï¼›\næœåŠ¡å™¨è´Ÿè½½ï¼š å¤§é‡çš„è¿æ¥åˆ›å»ºå’Œå…³é—­ä¼šå¢åŠ æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œå½±å“ç³»ç»Ÿçš„æ€§èƒ½å’Œååé‡ï¼›\n\n\n\næ³¨æ„äº‹é¡¹\næ— è®ºæ˜¯æŒä¹…è¿æ¥è¿˜æ˜¯éæŒä¹…è¿æ¥ï¼Œåœ¨å»ºç«‹ TCP è¿æ¥å’Œå…³é—­ TCP è¿æ¥æ—¶éƒ½éœ€è¦éµå¾ª TCP çš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹ï¼› \nNginx é»˜è®¤çš„æŒä¹…è¿æ¥è¶…æ—¶æ—¶é—´ä¸º 75 ç§’ï¼Œkeepalive_timeout å¯ä»¥è®¾ç½®æŒä¹…è¿æ¥çš„è¶…æ—¶æ—¶é—´ï¼Œå¦‚æœå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´åœ¨è®¾ç½®çš„æ—¶é—´å†…æ²¡æœ‰ä»»ä½•æ´»åŠ¨ï¼Œåˆ™ Nginx ä¼šå…³é—­æŒä¹…è¿æ¥ï¼›\n\nåˆè¯†ä¼ è¾“å±‚åè®®åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œåº”ç”¨å±‚åè®®é€šå¸¸æ˜¯å»ºç«‹åœ¨ä¼ è¾“å±‚åè®®ä¹‹ä¸Šçš„ï¼Œè¿™ç§å…³ç³»é€šå¸¸è¢«ç§°ä¸ºåè®®æ ˆæˆ–åè®®å †å ã€‚åº”ç”¨å±‚åè®®åˆ©ç”¨ä¼ è¾“å±‚åè®®æä¾›çš„æœåŠ¡æ¥å®ç°é€šä¿¡çš„ç›®çš„ã€‚åœ¨ç»§ç»­æ·±å…¥ HTTP åè®®å‰ï¼Œæœ‰å¿…è¦å…ˆçœ‹ä¸‹ç½‘ç»œç»„æˆå›¾ï¼š\n\n\nTCP ä¼ è¾“æ§åˆ¶åè®®\nTCP æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„åè®®ï¼Œè¿™æ„å‘³ç€åœ¨å‘é€æ•°æ®ä¹‹å‰ï¼Œé€šä¿¡çš„ä¸¤ç«¯éœ€è¦å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼›\nå®ƒæä¾›å¯é çš„æ•°æ®ä¼ è¾“ï¼Œé€šè¿‡ä½¿ç”¨ç¡®è®¤ã€é‡ä¼ ã€æ ¡éªŒå’Œæµé‡æ§åˆ¶ç­‰æœºåˆ¶ï¼Œç¡®ä¿æ•°æ®çš„å¯é æ€§å’Œå®Œæ•´æ€§ã€‚å¦‚æœæ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢å¤±æˆ–æŸåï¼ŒTCP å°†è´Ÿè´£é‡æ–°å‘é€æ•°æ®ï¼Œç›´åˆ°æ¥æ”¶åˆ°æ­£ç¡®çš„æ•°æ®ä¸ºæ­¢ï¼›\nTCP æ˜¯ä¸€ç§æµå¼åè®®ï¼ˆSTREAMï¼‰ï¼Œæ•°æ®è¢«è§†ä¸ºä¸€è¿ä¸²çš„å­—èŠ‚æµï¼Œå› æ­¤å®ƒä¿è¯äº†æ•°æ®çš„é¡ºåºä¼ è¾“ï¼›\nåœ¨è¿æ¥çš„å»ºç«‹å’Œæ–­å¼€è¿‡ç¨‹ä¸­ï¼ŒTCP ä½¿ç”¨äº†ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹çš„æœºåˆ¶ï¼Œä»¥ç¡®ä¿åŒæ–¹éƒ½åŒæ„å»ºç«‹æˆ–æ–­å¼€è¿æ¥ï¼›\n\nUDP ç”¨æˆ·æ•°æ®åè®®\nUDP æ˜¯ä¸€ç§æ— è¿æ¥çš„åè®®ï¼Œé€šä¿¡çš„ä¸¤ç«¯åœ¨ä¼ è¾“æ•°æ®ä¹‹å‰ä¸éœ€è¦å»ºç«‹è¿æ¥ï¼›\nå®ƒæä¾›äº†ä¸€ç§ç®€å•çš„æ•°æ®ä¼ è¾“æœºåˆ¶ï¼Œä¸ä¿è¯æ•°æ®çš„å¯é æ€§æˆ–é¡ºåºä¼ è¾“ã€‚å¦‚æœæ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢å¤±æˆ–æŸåï¼ŒUDP ä¸ä¼šè¿›è¡Œé‡ä¼ ï¼Œè€Œæ˜¯ç›´æ¥ä¸¢å¼ƒè¿™äº›æ•°æ®ï¼›\nUDP é€‚ç”¨äºä¸€äº›å¯¹å®æ—¶æ€§è¦æ±‚é«˜ã€å¯¹æ•°æ®å¯é æ€§è¦æ±‚è¾ƒä½çš„åº”ç”¨ï¼Œæ¯”å¦‚éŸ³é¢‘ã€è§†é¢‘ä¼ è¾“ç­‰ï¼›\nç”±äºä¸éœ€è¦å»ºç«‹è¿æ¥å’Œç»´æŠ¤çŠ¶æ€ä¿¡æ¯ï¼ŒUDP çš„å¼€é”€æ¯” TCP å°ï¼Œä¼ è¾“é€Ÿåº¦ç›¸å¯¹æ›´å¿«ï¼›\n\nTCP åº”ç”¨åœºæ™¯\nç½‘é¡µæµè§ˆï¼šå½“ä½ åœ¨æµè§ˆç½‘é¡µæ—¶ï¼Œé€šå¸¸ä¼šä½¿ç”¨ TCP åè®®ã€‚å› ä¸ºç½‘é¡µçš„æ•°æ®ä¼ è¾“éœ€è¦ä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œé¡ºåºæ€§ï¼Œè¿™æ ·æ‰èƒ½ç¡®ä¿é¡µé¢å…ƒç´ çš„æ­£ç¡®åŠ è½½å’Œæ˜¾ç¤ºï¼›\nç”µå­é‚®ä»¶ï¼šå‘é€å’Œæ¥æ”¶ç”µå­é‚®ä»¶æ—¶ä¹Ÿé€šå¸¸ä½¿ç”¨ TCPã€‚ç”µå­é‚®ä»¶çš„ä¼ è¾“éœ€è¦ç¡®ä¿é‚®ä»¶å†…å®¹çš„å®Œæ•´æ€§ï¼Œè€Œä¸”é‚®ä»¶çš„é¡ºåºä¹Ÿå¾ˆé‡è¦ï¼Œæ‰€ä»¥ TCP åè®®æ˜¯ä¸€ä¸ªåˆé€‚çš„é€‰æ‹©ã€‚\næ–‡ä»¶ä¼ è¾“ï¼šåœ¨éœ€è¦å¯é åœ°ä¼ è¾“å¤§æ–‡ä»¶çš„åœºæ™¯ä¸‹ï¼ŒTCP æ˜¯é¦–é€‰ã€‚FTPï¼ˆæ–‡ä»¶ä¼ è¾“åè®®ï¼‰ç­‰æ–‡ä»¶ä¼ è¾“æœåŠ¡é€šå¸¸ä½¿ç”¨ TCP åè®®ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿç¡®ä¿æ–‡ä»¶çš„å®Œæ•´ä¼ è¾“ï¼Œè€Œä¸”å¯¹ä¼ è¾“é¡ºåºæœ‰è¦æ±‚ï¼›\nè¿œç¨‹ç™»å½•ï¼šSSHï¼ˆSecure Shellï¼‰ç­‰è¿œç¨‹ç™»å½•æœåŠ¡é€šå¸¸ä½¿ç”¨ TCPã€‚è¿œç¨‹ç™»å½•éœ€è¦ç¡®ä¿ä¼ è¾“çš„å‘½ä»¤å’Œè¾“å‡ºæ˜¯å¯é çš„ï¼Œå¹¶ä¸”éœ€è¦ä¿æŒä¼šè¯çš„çŠ¶æ€ï¼›\n\nUDP åº”ç”¨åœºæ™¯\nå®æ—¶è§†é¢‘&#x2F;éŸ³é¢‘ä¼ è¾“ï¼šè§†é¢‘ä¼šè®®ã€åœ¨çº¿ç›´æ’­ç­‰å®æ—¶åº”ç”¨é€šå¸¸ä½¿ç”¨ UDP åè®®ã€‚åœ¨è¿™äº›åº”ç”¨ä¸­ï¼Œå®æ—¶æ€§æ¯”æ•°æ®çš„å®Œæ•´æ€§æ›´åŠ é‡è¦ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ UDP ä»¥å‡å°‘ä¼ è¾“å»¶è¿Ÿï¼›\nå®æ—¶æ¸¸æˆï¼šåœ¨çº¿æ¸¸æˆé€šå¸¸ä½¿ç”¨ UDP è¿›è¡Œé€šä¿¡ï¼Œå› ä¸ºåœ¨æ¸¸æˆä¸­å»¶è¿Ÿæ˜¯éå¸¸å…³é”®çš„ï¼Œè€Œ UDP èƒ½å¤Ÿæä¾›æ›´ä½çš„ä¼ è¾“å»¶è¿Ÿï¼Œå¹¶ä¸”å…è®¸ä¸¢å¤±éƒ¨åˆ†æ•°æ®è€Œä¸ä¼šå¯¼è‡´æ•´ä¸ªé€šä¿¡é˜»å¡ï¼›\nDNSï¼ˆåŸŸåç³»ç»Ÿï¼‰æŸ¥è¯¢ï¼šDNS æŸ¥è¯¢ä¹Ÿå¸¸å¸¸ä½¿ç”¨ UDP åè®®ã€‚è™½ç„¶ DNS æŸ¥è¯¢éœ€è¦å‡†ç¡®çš„è¿”å›ç»“æœï¼Œä½†ç”±äºæŸ¥è¯¢é€šå¸¸å¾ˆå°ä¸”å“åº”æ—¶é—´æ•æ„Ÿï¼Œå› æ­¤ UDP çš„ç®€å•æ€§å’Œä½å»¶è¿Ÿä½¿å…¶æˆä¸ºäº†é¦–é€‰ï¼›\nSNMPï¼ˆç®€å•ç½‘ç»œç®¡ç†åè®®ï¼‰ï¼šç½‘ç»œç®¡ç†ä¸­çš„ SNMP é€šå¸¸ä½¿ç”¨ UDPã€‚å°½ç®¡ç®¡ç†ä¿¡æ¯çš„å‡†ç¡®æ€§å¾ˆé‡è¦ï¼Œä½†ç”±äº SNMP çš„æŸ¥è¯¢é€šå¸¸æ˜¯å°ä¸”é¢‘ç¹çš„ï¼ŒUDP æä¾›äº†æ›´å¥½çš„æ€§èƒ½å’Œæ•ˆç‡ï¼›\n\nä¸‰æ¬¡æ¡æ‰‹ä¸‰æ¬¡æ¡æ‰‹æ˜¯ TCP åè®®ä¸­ç”¨äºå»ºç«‹è¿æ¥çš„è¿‡ç¨‹ï¼Œç¡®ä¿äº†é€šä¿¡çš„å¯é æ€§å’Œæ­£ç¡®æ€§ï¼Œä¸Šå›¾ï¼š\n\n\n\nç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼ˆSYNï¼‰ \nå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªå¸¦æœ‰ SYN æ ‡å¿—çš„æ•°æ®åŒ…ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚å»ºç«‹è¿æ¥ï¼Œå¹¶æŒ‡å®šä¸€ä¸ªåˆå§‹åºåˆ—å·ï¼›\n\n\nç¬¬äºŒæ¬¡æ¡æ‰‹ï¼ˆSYN + ACKï¼‰ \næœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ SYN æ•°æ®åŒ…åï¼Œä¼šå‘é€ä¸€ä¸ªå¸¦æœ‰ SYN å’Œ ACK æ ‡å¿—çš„æ•°æ®åŒ…ä½œä¸ºå“åº”ï¼Œè¡¨ç¤ºç¡®è®¤æ”¶åˆ°è¿æ¥è¯·æ±‚ï¼Œå¹¶ä¸”ä¹ŸæŒ‡å®šä¸€ä¸ªåˆå§‹åºåˆ—å·ï¼›\n\n\nç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼ˆACKï¼‰ \nå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„å“åº”åï¼Œä¼šå‘é€ä¸€ä¸ªå¸¦æœ‰ ACK æ ‡å¿—çš„æ•°æ®åŒ…ä½œä¸ºç¡®è®¤ï¼Œè¡¨ç¤ºç¡®è®¤æ”¶åˆ°æœåŠ¡å™¨çš„å“åº”ï¼Œè¿æ¥å»ºç«‹æˆåŠŸï¼›\n\n\n\nå››æ¬¡æŒ¥æ‰‹å››æ¬¡æŒ¥æ‰‹æ˜¯ TCP åè®®ä¸­ç”¨äºå…³é—­è¿æ¥çš„è¿‡ç¨‹ï¼Œç¡®ä¿äº†åŒæ–¹åœ¨æ–­å¼€è¿æ¥æ—¶çš„å¯é æ€§ï¼Œä¸Šå›¾ï¼š\n\n\n\nç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼ˆFINï¼‰ \nå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªå¸¦æœ‰ FINï¼ˆç»“æŸï¼‰æ ‡å¿—çš„æ•°æ®åŒ…ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯ä¸å†å‘é€æ•°æ®ï¼Œä½†ä»ç„¶å¯ä»¥æ¥æ”¶æ•°æ®ï¼›\n\n\nç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼ˆACKï¼‰ \næœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ FIN æ•°æ®åŒ…åï¼Œä¼šå‘é€ä¸€ä¸ªå¸¦æœ‰ ACKï¼ˆç¡®è®¤ï¼‰æ ‡å¿—çš„æ•°æ®åŒ…ä½œä¸ºå“åº”ï¼Œè¡¨ç¤ºç¡®è®¤æ”¶åˆ°å®¢æˆ·ç«¯çš„å…³é—­è¯·æ±‚ï¼›\n\n\nç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼ˆFINï¼‰ \næœåŠ¡å™¨åœ¨å‘é€å®Œæ‰€æœ‰æ•°æ®åï¼Œä¼šå‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªå¸¦æœ‰ FIN æ ‡å¿—çš„æ•°æ®åŒ…ï¼Œè¡¨ç¤ºæœåŠ¡å™¨ä¹Ÿå‡†å¤‡å…³é—­è¿æ¥ï¼›\n\n\nç¬¬å››æ¬¡æŒ¥æ‰‹ï¼ˆACKï¼‰ \nå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„ FIN æ•°æ®åŒ…åï¼Œä¼šå‘é€ä¸€ä¸ªå¸¦æœ‰ ACK æ ‡å¿—çš„æ•°æ®åŒ…ä½œä¸ºå“åº”ï¼Œè¡¨ç¤ºç¡®è®¤æ”¶åˆ°æœåŠ¡å™¨çš„å…³é—­è¯·æ±‚ï¼Œè¿æ¥å…³é—­ï¼›\n\n\n\nTCP&#x2F;IP é€šä¿¡ä¼ è¾“æµåˆ©ç”¨ TCP&#x2F;IP åè®®æ—è¿›è¡Œç½‘ç»œé€šä¿¡æ—¶ï¼Œä¼šé€šè¿‡åˆ†å±‚é¡ºåºä¸å¯¹æ–¹è¿›è¡Œé€šä¿¡ã€‚å‘é€ç«¯ä»åº”ç”¨å±‚å¾€ä¸‹èµ°ï¼Œæ¥æ”¶ç«¯åˆ™ä»é“¾è·¯å±‚å¾€ä¸Šèµ°ã€‚å¦‚ä¸‹ï¼š\n\n\nHTTP å·¥ä½œæµç¨‹å½“æµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰æƒ³è¦è·å–æŸä¸ªç«™ç‚¹ï¼ˆæœåŠ¡ç«¯ï¼‰ç½‘é¡µæ—¶ï¼Œå®ƒä¼šæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ‰§è¡Œ HTTP å·¥ä½œæµç¨‹ï¼š\n\n\n\n\n\n\n\n\nTIP\n\nè§£æURLï¼š \nç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ URLï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰ï¼›\næµè§ˆå™¨è§£æ URLï¼Œæå–å‡ºåè®®ã€åŸŸåå’Œè·¯å¾„ç­‰ä¿¡æ¯ï¼›\n\n\nDNSè§£æï¼š \næµè§ˆå™¨å‘èµ· DNS è§£æè¯·æ±‚ï¼Œå°†åŸŸåè§£ææˆæœåŠ¡å™¨çš„ IP åœ°å€ï¼›\næµè§ˆå™¨è·å–åˆ°æœåŠ¡å™¨çš„ IP åœ°å€åï¼Œå°±å¯ä»¥å‘èµ·ä¸æœåŠ¡å™¨çš„è¿æ¥äº†ï¼›\n\n\nå»ºç«‹TCPè¿æ¥ï¼š \næµè§ˆå™¨ä½¿ç”¨ HTTP åè®®å»ºç«‹ TCP è¿æ¥åˆ°æœåŠ¡å™¨ï¼›\nè¿™æ˜¯é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹æ¥å»ºç«‹å¯é çš„è¿æ¥ï¼›\n\n\nå‘é€HTTPè¯·æ±‚ï¼š \næµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚ï¼›\nHTTP è¯·æ±‚ä¸­åŒ…å«äº†è¯·æ±‚çš„æ–¹æ³•ï¼ˆGETã€POSTç­‰ï¼‰ã€è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ç­‰ä¿¡æ¯ï¼›\n\n\næœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼š \næœåŠ¡å™¨æ¥æ”¶åˆ°æµè§ˆå™¨å‘é€çš„ HTTP è¯·æ±‚åï¼Œæ ¹æ®è¯·æ±‚çš„è·¯å¾„å’Œæ–¹æ³•ç­‰ä¿¡æ¯ï¼Œå¤„ç†è¯·æ±‚ï¼›\næœåŠ¡å™¨å¯èƒ½ä¼šæŸ¥è¯¢æ•°æ®åº“ã€æ‰§è¡Œä¸šåŠ¡é€»è¾‘ç­‰ï¼Œç„¶åå‡†å¤‡å¥½éœ€è¦å‘é€ç»™æµè§ˆå™¨çš„ HTTP å“åº”ï¼›\n\n\nå‘é€HTTPå“åº”ï¼š \næœåŠ¡å™¨å°†å‡†å¤‡å¥½çš„ HTTP å“åº”å‘é€ç»™æµè§ˆå™¨ï¼›\nHTTP å“åº”ä¸­åŒ…å«äº†å“åº”çš„çŠ¶æ€ç ã€å“åº”å¤´å’Œå“åº”ä½“ç­‰ä¿¡æ¯ï¼›\n\n\næ¥æ”¶HTTPå“åº”ï¼š \næµè§ˆå™¨æ¥æ”¶åˆ°æœåŠ¡å™¨å‘é€çš„ HTTP å“åº”åï¼Œå¼€å§‹å¤„ç†å“åº”ï¼›\næµè§ˆå™¨ä¼šæ ¹æ®å“åº”çš„å†…å®¹ç±»å‹ç­‰ä¿¡æ¯ï¼Œå†³å®šå¦‚ä½•å¤„ç†å“åº”ï¼›\n\n\næ¸²æŸ“é¡µé¢ï¼š \nå¦‚æœå“åº”çš„å†…å®¹æ˜¯ HTML é¡µé¢ï¼Œæµè§ˆå™¨ä¼šè§£æ HTML ä»£ç ï¼Œå¹¶æ ¹æ® CSS æ ·å¼è¡¨å’Œ JavaScript è„šæœ¬ç­‰è¿›è¡Œé¡µé¢å¸ƒå±€å’Œæ¸²æŸ“ï¼›\nå¦‚æœæ¥æ”¶çš„ HTTP å“åº”æ˜¯ API æ¥å£å“åº”ã€‚æµè§ˆå™¨ä¸éœ€è¦æ¸²æŸ“ HTML é¡µé¢ï¼Œè€Œæ˜¯å¤„ç†æ¥æ”¶åˆ°çš„ JSON æˆ–å…¶ä»–æ•°æ®æ ¼å¼çš„å“åº”ï¼Œç„¶åæ ¹æ®å‰ç«¯é€»è¾‘è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼›\næµè§ˆå™¨ä¼šå°†æ¸²æŸ“åçš„é¡µé¢å‘ˆç°ç»™ç”¨æˆ·ï¼Œç”¨æˆ·å°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°ç½‘é¡µå†…å®¹äº†ï¼›\n\n\nå…³é—­è¿æ¥ï¼š \nå½“é¡µé¢åŠ è½½å®Œæˆåï¼Œæµè§ˆå™¨ä¼šå…³é—­ä¸æœåŠ¡å™¨çš„ TCP è¿æ¥ï¼Œé‡Šæ”¾èµ„æºï¼›\n\n\n\n\n\nä»€ä¹ˆæ˜¯ HTTP äº‹åŠ¡ï¼Ÿä¸€æ¬¡ HTTP å®Œæ•´çš„å·¥ä½œæµç¨‹æ­¥éª¤å¾ˆå¤šï¼Œé‡ç‚¹å…³æ³¨åœ¨äºè¯·æ±‚ä¸å“åº”ç»„åˆè€Œæˆçš„ HTTP äº‹åŠ¡ã€‚HTTP äº‹åŠ¡ &#x3D; è¯·æ±‚å‘½ä»¤ + å“åº”ç»“æœã€‚ç®€å•è¯´å°±æ˜¯ä¸€æ¬¡å®Œæ•´çš„è¯·æ±‚è¿‡ç¨‹ï¼ŒåŒ…æ‹¬è¯·æ±‚çš„å‘é€å’Œç»“æœçš„è¿”å›ï¼Œå¦‚æœåªæœ‰å‘é€è¯·æ±‚ï¼Œè€Œæ²¡æœ‰å“åº”ç»“æœï¼Œåˆ™ä¸èƒ½ç®—ä½œ HTTP äº‹åŠ¡ã€‚\nHTTP è¯·æ±‚123456789POST /submit-form HTTP/1.1ost: www.example.comUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8Accept-Language: en-US,en;q=0.9Content-Type: application/x-www-form-urlencodedContent-Length: 29username=user&amp;password=pass123\n\n\n\n\n\n\n\n\n\n\nè¯·æ±‚æŠ¥æ–‡å¯ä»¥åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š\n\nè¯·æ±‚è¡Œï¼ˆRequest Lineï¼‰åŒ…æ‹¬è¯·æ±‚çš„å‘½ä»¤ã€èµ„æºçš„è·¯å¾„å’Œåè®®ç‰ˆæœ¬ï¼›\nè¯·æ±‚å¤´éƒ¨ï¼ˆRequest Headersï¼‰åŒ…æ‹¬äº†ä¸€ç³»åˆ—çš„é”®å€¼å¯¹ï¼Œç”¨æ¥æè¿°è¯·æ±‚çš„ä¸€äº›é™„åŠ ä¿¡æ¯ï¼›\nè¯·æ±‚ä½“ï¼ˆRequest Bodyï¼‰å¯¹äº GET è¯·æ±‚ï¼Œé€šå¸¸ä¸ºç©ºï¼Œå› ä¸º GET è¯·æ±‚ä¸åŒ…å«è¯·æ±‚ä½“ã€‚å¯¹äºå…¶ä»–ä¸€äº›è¯·æ±‚æ–¹æ³•ï¼ˆå¦‚POSTã€PUTç­‰ï¼‰ï¼Œè¯·æ±‚ä½“å¯èƒ½åŒ…å«ä¸€äº›è‡ªå®šä¹‰æ•°æ®æˆ–å†…å®¹ï¼›\n\nè¯·æ±‚å‘½ä»¤\n\n\nå‘½ä»¤\næè¿°\n\n\n\nGET\nè¯·æ±‚æŒ‡å®šçš„é¡µé¢ä¿¡æ¯ï¼Œå¹¶è¿”å›å®ä½“ä¸»ä½“\n\n\nPOST\nå‘æŒ‡å®šèµ„æºæäº¤æ•°æ®è¿›è¡Œå¤„ç†è¯·æ±‚\n\n\nPUT\nå‘æŒ‡å®šèµ„æºä½ç½®ä¸Šä¼ æ–°çš„å®ä½“ä¸»ä½“\n\n\nDELETE\nè¯·æ±‚æœåŠ¡å™¨åˆ é™¤æŒ‡å®šçš„é¡µé¢\n\n\nHEAD\nç±»ä¼¼äºGETè¯·æ±‚ï¼Œåªä¸è¿‡è¿”å›çš„å“åº”ä¸­æ²¡æœ‰å…·ä½“çš„å†…å®¹ï¼Œç”¨äºè·å–èµ„æºçš„å…ƒä¿¡æ¯\n\n\nPATCH\nå¯¹èµ„æºè¿›è¡Œéƒ¨åˆ†ä¿®æ”¹\n\n\nOPTIONS\nè¯·æ±‚æœåŠ¡å™¨å‘ŠçŸ¥å…¶æ”¯æŒçš„HTTPæ–¹æ³•\n\n\nè¯·æ±‚å¤´\n\n\nHeader\næè¿°\nç¤ºä¾‹\n\n\n\nAccept\nå‘Šè¯‰æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯æ”¯æŒçš„æ•°æ®ç±»å‹ã€‚\nAccept: text&#x2F;plain, text&#x2F;html\n\n\nAccept-Charset\nå‘Šè¯‰æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯é‡‡ç”¨çš„ç¼–ç ã€‚\nAccept-Charset: iso-8859-5,utf-8\n\n\nAccept-Encoding\nå‘Šè¯‰æœåŠ¡å™¨ï¼Œå®¢æˆ·æœºæ”¯æŒçš„æ•°æ®å‹ç¼©æ ¼å¼ã€‚\nAccept-Encoding: compress, gzip\n\n\nAccept-Language\nå‘Šè¯‰æœåŠ¡å™¨ï¼Œå®¢æˆ·æœºçš„è¯­è¨€ç¯å¢ƒã€‚\nAccept-Language: en,zh\n\n\nAccept-Ranges\nå¯ä»¥è¯·æ±‚ç½‘é¡µå®ä½“çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªå­èŒƒå›´å­—æ®µ\nAccept-Ranges: bytes\n\n\nAuthorization\nHTTPæˆæƒçš„æˆæƒè¯ä¹¦ç±»å‹\nAuthorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ&#x3D;&#x3D;\n\n\nCache-Control\næŒ‡å®šè¯·æ±‚å’Œå“åº”éµå¾ªçš„ç¼“å­˜æœºåˆ¶\nCache-Control: no-cache\n\n\nConnection\nè¡¨ç¤ºæ˜¯å¦éœ€è¦æŒä¹…è¿æ¥ï¼ˆHTTP 1.1é»˜è®¤è¿›è¡ŒæŒä¹…è¿æ¥ï¼‰\nKeep-Alive\n\n\nCookie\nHTTPè¯·æ±‚å‘é€æ—¶ï¼Œä¼šæŠŠä¿å­˜åœ¨è¯¥è¯·æ±‚åŸŸåä¸‹çš„æ‰€æœ‰cookieå€¼ä¸€èµ·å‘é€ç»™webæœåŠ¡å™¨\nCookie: $Version&#x3D;1; Skin&#x3D;new;\n\n\nContent-Length\nè¯·æ±‚çš„å†…å®¹é•¿åº¦\nContent-Length: 348\n\n\nContent-Type\nè¯·æ±‚çš„ä¸å®ä½“å¯¹åº”çš„MIMEä¿¡æ¯\nContent-Type: application&#x2F;x-www-form-urlencoded\n\n\nDate\nè¯·æ±‚å‘é€çš„æ—¥æœŸå’Œæ—¶é—´\nDate: Tue, 15 Nov 2010 08:12:31 GMT\n\n\nExpect\nè¯·æ±‚çš„ç‰¹å®šçš„æœåŠ¡å™¨è¡Œä¸º\nExpect: 100-continue\n\n\nFrom\nå‘å‡ºè¯·æ±‚çš„ç”¨æˆ·çš„Email\nFrom: xxx@163.com\n\n\nHost\næŒ‡å®šè¯·æ±‚çš„æœåŠ¡å™¨çš„åŸŸåå’Œç«¯å£å·\nHost: www.baidu.com\n\n\nIf-Match\nåªæœ‰è¯·æ±‚å†…å®¹ä¸å®ä½“ç›¸åŒ¹é…æ‰æœ‰æ•ˆ\nIf-Match: â€œ737060cd8c284d8af7ad3082f209582dâ€\n\n\nIf-Modified-Since\nå®¢æˆ·æœºé€šè¿‡è¿™ä¸ªå¤´å‘Šè¯‰æœåŠ¡å™¨ï¼Œèµ„æºçš„ç¼“å­˜æ—¶é—´ã€‚\nIf-Modified-Since: Sat, 29 Oct 2010 19:43:31 GMT\n\n\nIf-None-Match\nå¦‚æœå†…å®¹æœªæ”¹å˜è¿”å›304ä»£ç ï¼Œå‚æ•°ä¸ºæœåŠ¡å™¨å…ˆå‰å‘é€çš„Etagï¼Œä¸æœåŠ¡å™¨å›åº”çš„Etagæ¯”è¾ƒåˆ¤æ–­æ˜¯å¦æ”¹å˜\nIf-None-Match: â€œ737060cd8c284d8af7ad3082f209582dâ€\n\n\nIf-Range\nå¦‚æœå®ä½“æœªæ”¹å˜ï¼ŒæœåŠ¡å™¨å‘é€å®¢æˆ·ç«¯ä¸¢å¤±çš„éƒ¨åˆ†ï¼Œå¦åˆ™å‘é€æ•´ä¸ªå®ä½“ã€‚å‚æ•°ä¹Ÿä¸ºEtag\nIf-Range: â€œ737060cd8c284d8af7ad3082f209582dâ€\n\n\nIf-Unmodified-Since\nåªåœ¨å®ä½“åœ¨æŒ‡å®šæ—¶é—´ä¹‹åæœªè¢«ä¿®æ”¹æ‰è¯·æ±‚æˆåŠŸ\nIf-Unmodified-Since: Sat, 29 Oct 2010 19:43:31 GMT\n\n\nMax-Forwards\né™åˆ¶ä¿¡æ¯é€šè¿‡ä»£ç†å’Œç½‘å…³ä¼ é€çš„æ—¶é—´\nMax-Forwards: 10\n\n\nPragma\nç”¨æ¥åŒ…å«å®ç°ç‰¹å®šçš„æŒ‡ä»¤\nPragma: no-cache\n\n\nProxy-Authorization\nè¿æ¥åˆ°ä»£ç†çš„æˆæƒè¯ä¹¦\nProxy-Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ&#x3D;&#x3D;\n\n\nRange\nåªè¯·æ±‚å®ä½“çš„ä¸€éƒ¨åˆ†ï¼ŒæŒ‡å®šèŒƒå›´\nRange: bytes&#x3D;500-999\n\n\nReferer\nå®¢æˆ·æœºé€šè¿‡è¿™ä¸ªå¤´å‘Šè¯‰æœåŠ¡å™¨ï¼Œå®ƒæ˜¯ä»å“ªä¸ªèµ„æºæ¥è®¿é—®æœåŠ¡å™¨çš„ã€‚ï¼ˆä¸€èˆ¬ç”¨äºé˜²ç›—é“¾ï¼‰\nReferer: www.zcmhi.com/archives/71â€¦\n\n\nTE\nå®¢æˆ·ç«¯æ„¿æ„æ¥å—çš„ä¼ è¾“ç¼–ç ï¼Œå¹¶é€šçŸ¥æœåŠ¡å™¨æ¥å—æ¥å—å°¾åŠ å¤´ä¿¡æ¯\nTE: trailers,deflate;q&#x3D;0.5\n\n\nUpgrade\nå‘æœåŠ¡å™¨æŒ‡å®šæŸç§ä¼ è¾“åè®®ä»¥ä¾¿æœåŠ¡å™¨è¿›è¡Œè½¬æ¢ï¼ˆå¦‚æœæ”¯æŒï¼‰\nUpgrade: HTTP&#x2F;2.0, SHTTP&#x2F;1.3, IRC&#x2F;6.9, RTA&#x2F;x11\n\n\nUser-Agent\næµè§ˆå™¨çš„å…·ä½“ä¿¡æ¯\nUser-Agent: Mozilla&#x2F;5.0 (Linux; X11)\n\n\nVia\né€šçŸ¥ä¸­é—´ç½‘å…³æˆ–ä»£ç†æœåŠ¡å™¨åœ°å€ï¼Œé€šä¿¡åè®®\nVia: 1.0 fred, 1.1 nowhere.com\n\n\n(Apache&#x2F;1.1)\n\n\n\n\nWarning\nå…³äºæ¶ˆæ¯å®ä½“çš„è­¦å‘Šä¿¡æ¯\nWarn: 199 Miscellaneous warning\n\n\nHTTP å“åº”12345678910HTTP/1.1 200 OKDate: Sat, 01 Jan 2022 12:00:00 GMTServer: Apache/2.4.41 (Unix)Content-Type: application/jsonContent-Length: 56&#123;    &quot;message&quot;: &quot;Hello, world!&quot;,    &quot;status&quot;: &quot;success&quot;&#125;\n\n\n\n\n\n\n\nTIP\nå“åº”æŠ¥æ–‡å¯ä»¥åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š\n\nå“åº”è¡Œï¼ˆStatus Lineï¼‰åŒ…æ‹¬äº†åè®®ç‰ˆæœ¬ã€çŠ¶æ€ç å’ŒçŠ¶æ€æ¶ˆæ¯ï¼›\nå“åº”å¤´éƒ¨ï¼ˆResponse Headersï¼‰åŒ…æ‹¬äº†ä¸€ç³»åˆ—çš„é”®å€¼å¯¹ï¼Œç”¨æ¥æè¿°å“åº”çš„ä¸€äº›é™„åŠ ä¿¡æ¯ï¼›\nå“åº”ä½“ï¼ˆResponse Bodyï¼‰åŒ…å«äº†å“åº”çš„å®é™…å†…å®¹ï¼›\n\n\n\nçŠ¶æ€ç \n\n\nçŠ¶æ€ç \næè¿°\n\n\n\n1xx\næŒ‡ç¤ºä¿¡æ¯ - è¡¨ç¤ºè¯·æ±‚å·²æ¥æ”¶ï¼Œç»§ç»­å¤„ç†\n\n\n100\nå®¢æˆ·å¿…é¡»ç»§ç»­å‘å‡ºè¯·æ±‚ã€‚\n\n\n101\nå®¢æˆ·è¦æ±‚æœåŠ¡å™¨æ ¹æ®è¯·æ±‚è½¬æ¢ HTTP åè®®ç‰ˆæœ¬ã€‚\n\n\n2xx\næˆåŠŸ - è¡¨ç¤ºè¯·æ±‚å·²è¢«æˆåŠŸæ¥æ”¶ã€ç†è§£ã€æ¥å—\n\n\n200\nï¼ˆæˆåŠŸï¼‰ æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ã€‚ é€šå¸¸ï¼Œè¿™è¡¨ç¤ºæœåŠ¡å™¨æä¾›äº†è¯·æ±‚çš„ç½‘é¡µã€‚\n\n\n201\nï¼ˆå·²åˆ›å»ºï¼‰ è¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°çš„èµ„æºã€‚\n\n\n202\nï¼ˆå·²æ¥å—ï¼‰ æœåŠ¡å™¨å·²æ¥å—è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†ã€‚\n\n\n3xx\né‡å®šå‘ - è¦å®Œæˆè¯·æ±‚å¿…é¡»è¿›è¡Œæ›´è¿›ä¸€æ­¥çš„æ“ä½œ\n\n\n300\nï¼ˆå¤šç§é€‰æ‹©ï¼‰ é’ˆå¯¹è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯æ‰§è¡Œå¤šç§æ“ä½œã€‚ æœåŠ¡å™¨å¯æ ¹æ®è¯·æ±‚è€…é€‰æ‹©ä¸€é¡¹æ“ä½œï¼Œæˆ–æä¾›æ“ä½œåˆ—è¡¨ä¾›è¯·æ±‚è€…é€‰æ‹©ã€‚\n\n\n301\nï¼ˆæ°¸ä¹…ç§»åŠ¨ï¼‰ è¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚ æœåŠ¡å™¨è¿”å›æ­¤å“åº”æ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¯·æ±‚è€…è½¬åˆ°æ–°ä½ç½®ã€‚\n\n\n302\nï¼ˆä¸´æ—¶ç§»åŠ¨ï¼‰ æœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥è¿›è¡Œä»¥åçš„è¯·æ±‚ã€‚\n\n\n4xx\nå®¢æˆ·ç«¯é”™è¯¯ - è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯æˆ–è¯·æ±‚æ— æ³•å®ç°\n\n\n400\nï¼ˆé”™è¯¯è¯·æ±‚ï¼‰ æœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•ã€‚\n\n\n401\nï¼ˆæœªæˆæƒï¼‰ è¯·æ±‚è¦æ±‚èº«ä»½éªŒè¯ã€‚ å¯¹äºéœ€è¦ç™»å½•çš„ç½‘é¡µï¼ŒæœåŠ¡å™¨å¯èƒ½è¿”å›æ­¤å“åº”ã€‚\n\n\n403\nï¼ˆç¦æ­¢ï¼‰ æœåŠ¡å™¨æ‹’ç»è¯·æ±‚ã€‚\n\n\n5xx\næœåŠ¡å™¨ç«¯é”™è¯¯ - æœåŠ¡å™¨æœªèƒ½å®ç°åˆæ³•çš„è¯·æ±‚\n\n\n500\nï¼ˆæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰ æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚\n\n\n501\nï¼ˆå°šæœªå®æ–½ï¼‰ æœåŠ¡å™¨ä¸å…·å¤‡å®Œæˆè¯·æ±‚çš„åŠŸèƒ½ã€‚\n\n\n502\nï¼ˆé”™è¯¯ç½‘å…³ï¼‰ æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”ã€‚\n\n\n503\nï¼ˆæœåŠ¡ä¸å¯ç”¨ï¼‰ æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ã€‚ é€šå¸¸ï¼Œè¿™åªæ˜¯æš‚æ—¶çŠ¶æ€ã€‚\n\n\n504\nï¼ˆç½‘å…³è¶…æ—¶ï¼‰ æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ã€‚\n\n\n505\nï¼ˆHTTP ç‰ˆæœ¬ä¸å—æ”¯æŒï¼‰ æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä¸­æ‰€ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ã€‚\n\n\nå“åº”å¤´\n\n\nHeader\næè¿°\nç¤ºä¾‹\n\n\n\nAccept-Ranges\nè¡¨æ˜æœåŠ¡å™¨æ˜¯å¦æ”¯æŒæŒ‡å®šèŒƒå›´è¯·æ±‚åŠå“ªç§ç±»å‹çš„åˆ†æ®µè¯·æ±‚\nAccept-Ranges: bytes\n\n\nAge\nä»åŸå§‹æœåŠ¡å™¨åˆ°ä»£ç†ç¼“å­˜å½¢æˆçš„ä¼°ç®—æ—¶é—´ï¼ˆä»¥ç§’è®¡ï¼Œéè´Ÿï¼‰\nAge: 12\n\n\nAllow\nå¯¹æŸç½‘ç»œèµ„æºçš„æœ‰æ•ˆçš„è¯·æ±‚è¡Œä¸ºï¼Œä¸å…è®¸åˆ™è¿”å›405\nAllow: GET, HEAD\n\n\nCache-Control\nå‘Šè¯‰æ‰€æœ‰çš„ç¼“å­˜æœºåˆ¶æ˜¯å¦å¯ä»¥ç¼“å­˜åŠå“ªç§ç±»å‹\nCache-Control: no-cache\n\n\nContent-Encoding\nwebæœåŠ¡å™¨æ”¯æŒçš„è¿”å›å†…å®¹å‹ç¼©ç¼–ç ç±»å‹ã€‚\nContent-Encoding: gzip\n\n\nContent-Language\nå“åº”ä½“çš„è¯­è¨€\nContent-Language: en,zh\n\n\nContent-Length\nå“åº”ä½“çš„é•¿åº¦\nContent-Length: 348\n\n\nContent-Location\nè¯·æ±‚èµ„æºå¯æ›¿ä»£çš„å¤‡ç”¨çš„å¦ä¸€åœ°å€\nContent-Location: &#x2F;index.htm\n\n\nContent-MD5\nè¿”å›èµ„æºçš„MD5æ ¡éªŒå€¼\nContent-MD5: Q2hlY2sgSW50ZWdyaXR5IQ&#x3D;&#x3D;\n\n\nContent-Range\nåœ¨æ•´ä¸ªè¿”å›ä½“ä¸­æœ¬éƒ¨åˆ†çš„å­—èŠ‚ä½ç½®\nContent-Range: bytes 21010-47021&#x2F;47022\n\n\nContent-Type\nå¦‚æœè¿”å›æ˜¯æµå¼çš„æ•°æ®ï¼Œæˆ‘ä»¬å°±å¿…é¡»å‘Šè¯‰æµè§ˆå™¨è¿™ä¸ªå¤´ï¼Œä¸ç„¶æµè§ˆå™¨ä¼šä¸‹è½½è¿™ä¸ªé¡µé¢ï¼ŒåŒæ—¶å‘Šè¯‰æµè§ˆå™¨æ˜¯utf8ç¼–ç ï¼Œå¦åˆ™å¯èƒ½å‡ºç°ä¹±ç \nContent-Type: text&#x2F;html; charset&#x3D;utf-8\n\n\nDate\nåŸå§‹æœåŠ¡å™¨æ¶ˆæ¯å‘å‡ºçš„æ—¶é—´\nDate: Tue, 15 Nov 2010 08:12:31 GMT\n\n\nETag\nè¯·æ±‚å˜é‡çš„å®ä½“æ ‡ç­¾çš„å½“å‰å€¼\nETag: â€œ737060cd8c284d8af7ad3082f209582dâ€\n\n\nExpires\nå“åº”è¿‡æœŸçš„æ—¥æœŸå’Œæ—¶é—´\nExpires: Thu, 01 Dec 2010 16:00:00 GMT\n\n\nLast-Modified\nè¯·æ±‚èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´\nLast-Modified: Tue, 15 Nov 2010 12:45:26 GMT\n\n\nLocation\nç”¨æ¥é‡å®šå‘æ¥æ”¶æ–¹åˆ°éè¯·æ±‚URLçš„ä½ç½®æ¥å®Œæˆè¯·æ±‚æˆ–æ ‡è¯†æ–°çš„èµ„æº\nLocation: http://www.zcmhi.com/archives/94.html\n\n\nPragma\nåŒ…æ‹¬å®ç°ç‰¹å®šçš„æŒ‡ä»¤ï¼Œå®ƒå¯åº”ç”¨åˆ°å“åº”é“¾ä¸Šçš„ä»»ä½•æ¥æ”¶æ–¹\nPragma: no-cache\n\n\nProxy-Authenticate\nå®ƒæŒ‡å‡ºè®¤è¯æ–¹æ¡ˆå’Œå¯åº”ç”¨åˆ°ä»£ç†çš„è¯¥URLä¸Šçš„å‚æ•°\nProxy-Authenticate: Basic\n\n\nrefresh\nåº”ç”¨äºé‡å®šå‘æˆ–ä¸€ä¸ªæ–°çš„èµ„æºè¢«åˆ›é€ ï¼Œåœ¨5ç§’ä¹‹åé‡å®šå‘ï¼ˆç”±ç½‘æ™¯æå‡ºï¼Œè¢«å¤§éƒ¨åˆ†æµè§ˆå™¨æ”¯æŒï¼‰\nRefresh: 5; url&#x3D;http://www.zcmhi.com/archives/94.html\n\n\nRetry-After\nå¦‚æœå®ä½“æš‚æ—¶ä¸å¯å–ï¼Œé€šçŸ¥å®¢æˆ·ç«¯åœ¨æŒ‡å®šæ—¶é—´ä¹‹åå†æ¬¡å°è¯•\nRetry-After: 120\n\n\nServer\nwebæœåŠ¡å™¨è½¯ä»¶åç§°\nServer: Apache&#x2F;1.3.27 (Unix) (Red-Hat&#x2F;Linux)\n\n\nSet-Cookie\nè®¾ç½®Http Cookie\nSet-Cookie: UserID&#x3D;JohnDoe; Max-Age&#x3D;3600; Version&#x3D;1\n\n\nTrailer\næŒ‡å‡ºå¤´åŸŸåœ¨åˆ†å—ä¼ è¾“ç¼–ç çš„å°¾éƒ¨å­˜åœ¨\nTrailer: Max-Forwards\n\n\nTransfer-Encoding\næ–‡ä»¶ä¼ è¾“ç¼–ç \nTransfer-Encoding:chunked\n\n\nVary\nå‘Šè¯‰ä¸‹æ¸¸ä»£ç†æ˜¯ä½¿ç”¨ç¼“å­˜å“åº”è¿˜æ˜¯ä»åŸå§‹æœåŠ¡å™¨è¯·æ±‚\nVary: *\n\n\nVia\nå‘ŠçŸ¥ä»£ç†å®¢æˆ·ç«¯å“åº”æ˜¯é€šè¿‡å“ªé‡Œå‘é€çš„\nVia: 1.0 fred, 1.1 nowhere.com (Apache&#x2F;1.1)\n\n\nWarning\nè­¦å‘Šå®ä½“å¯èƒ½å­˜åœ¨çš„é—®é¢˜\nWarning: 199 Miscellaneous warning\n\n\nWWW-Authenticate\nè¡¨æ˜å®¢æˆ·ç«¯è¯·æ±‚å®ä½“åº”è¯¥ä½¿ç”¨çš„æˆæƒæ–¹æ¡ˆ\nWWW-Authenticate: Basic\n\n\n","slug":"æå®š-HTTP-åè®®","date":"2024-02-18T09:19:57.000Z","categories_index":"","tags_index":"ç½‘ç»œåè®®","author_index":"å“ªå’"}]