{"title":"openEuler Embedded äº¤å‰ç¼–è¯‘","uid":"51abce8d287243a8415fa6cdbda1af32","slug":"openEuler-Embedded-äº¤å‰ç¼–è¯‘","date":"2024-03-04T08:20:19.000Z","updated":"2024-03-04T09:06:51.991Z","comments":true,"path":"api/articles/openEuler-Embedded-äº¤å‰ç¼–è¯‘.json","keywords":null,"cover":[],"content":"<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>ğŸ’¡ Tipsï¼šopenEuler Embedded æ˜¯åŸºäº openEuler ç¤¾åŒºé¢å‘åµŒå…¥å¼åœºæ™¯çš„ Linux ç‰ˆæœ¬ï¼Œæ—¨åœ¨æˆä¸ºä¸€ä¸ªé«˜è´¨é‡çš„ä»¥ Linux ä¸ºä¸­å¿ƒçš„åµŒå…¥å¼ç³»ç»Ÿè½¯ä»¶å¹³å°ã€‚</p></blockquote>\n<h3 id=\"ç¼–è¯‘-QMEU-7-0-0\"><a href=\"#ç¼–è¯‘-QMEU-7-0-0\" class=\"headerlink\" title=\"ç¼–è¯‘ QMEU 7.0.0\"></a>ç¼–è¯‘ QMEU 7.0.0</h3><p>æ¬§æ‹‰ 22.03 TLS SP1 å®˜æ–¹æ–‡æ¡£å½“ä¸­æœ‰æåˆ°ä½¿ç”¨ qmeu çš„ç‰ˆæœ¬å»ºè®®æ˜¯åœ¨ 5.0 ä»¥ä¸Šç‰ˆæœ¬ï¼Œä»¥ä¸‹æ˜¯åœ¨ Ubuntu20.04 ä¸Šç¼–è¯‘ QEMU 7.0 çš„æ­¥éª¤ã€‚</p>\n<h4 id=\"å®‰è£…ä¾èµ–\"><a href=\"#å®‰è£…ä¾èµ–\" class=\"headerlink\" title=\"å®‰è£…ä¾èµ–\"></a>å®‰è£…ä¾èµ–</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install build-essential libglib2.0-dev libpixman-1-dev libfdt-dev zlib1g-dev libssl-dev libgmp-dev libmpfr-dev libmpc-dev</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä¸‹è½½-QEMU-7-0-çš„æºç \"><a href=\"#ä¸‹è½½-QEMU-7-0-çš„æºç \" class=\"headerlink\" title=\"ä¸‹è½½ QEMU 7.0 çš„æºç \"></a>ä¸‹è½½ QEMU 7.0 çš„æºç </h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://download.qemu.org/qemu-7.0.0.tar.xz &amp;&amp; \\</span><br><span class=\"line\">tar -xf qemu-7.0.0.tar.xz &amp;&amp; \\</span><br><span class=\"line\"><span class=\"built_in\">cd</span> qemu-7.0.0</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"é…ç½®å’Œç¼–è¯‘\"><a href=\"#é…ç½®å’Œç¼–è¯‘\" class=\"headerlink\" title=\"é…ç½®å’Œç¼–è¯‘\"></a>é…ç½®å’Œç¼–è¯‘</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">../configure --target-list=aarch64-softmmu --enable-debug --enable-kvm --enable-virtfs --enable-vnc --enable-spice --enable-curses --enable-tools --enable-capstone --enable-guest-agent &amp;&amp; make &amp; make install</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"åˆ›å»ºæŒ‚è½½é•œåƒ\"><a href=\"#åˆ›å»ºæŒ‚è½½é•œåƒ\" class=\"headerlink\" title=\"åˆ›å»ºæŒ‚è½½é•œåƒ\"></a>åˆ›å»ºæŒ‚è½½é•œåƒ</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">qemu-system-aarch64 -M virt-4.0 -m 4G -cpu cortex-a57 -nographic -kernel zImage</span><br><span class=\"line\">-initrd &lt;openeuler-image-qemu-xxx.cpio.gz&gt; -device virtio-9p-device,fsdev=fs1,mount_tag=host -fsdev</span><br><span class=\"line\"><span class=\"built_in\">local</span>,security_model=passthrough,<span class=\"built_in\">id</span>=fs1,path=/tmp</span><br></pre></td></tr></table></figure>\n\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">TIP</p>\n<p><ul>\n<li>-M virt-4.0 ï¼šä½¿ç”¨ virt-4.0 ä½œä¸ºè™šæ‹Ÿæœºçš„ä¸»æ¿å‹å·ï¼›</li>\n<li>-m 4G ï¼šåˆ†é… 4GB å†…å­˜ç»™è™šæ‹Ÿæœºï¼›</li>\n<li>-cpu cortex-a57 ï¼šä½¿ç”¨ cortex-a57 ä½œä¸ºè™šæ‹Ÿæœºçš„CPUï¼›</li>\n<li>-nographic ï¼šä¸ä½¿ç”¨å›¾å½¢ç•Œé¢ï¼Œä»¥çº¯æ–‡æœ¬æ–¹å¼è¿è¡Œè™šæ‹Ÿæœºï¼›</li>\n<li>-kernel zImage ï¼šä½¿ç”¨ zImage ä½œä¸ºè™šæ‹Ÿæœºçš„å†…æ ¸ï¼›</li>\n<li>-initrd &lt;openeuler-image-qemu-xxx.cpio.gz&gt; ï¼šä½¿ç”¨æŒ‡å®šçš„ initrd æ–‡ä»¶å¯åŠ¨è™šæ‹Ÿæœºï¼›</li>\n<li>-device virtio-9p-device,fsdev&#x3D;fs1,mount_tag&#x3D;host ï¼šæ·»åŠ ä¸€ä¸ª virtio-9p è®¾å¤‡ï¼ŒæŒ‚è½½æ ‡ç­¾ä¸º â€œhostâ€ çš„æ–‡ä»¶ç³»ç»Ÿï¼›</li>\n<li>-fsdev local,security_model&#x3D;passthrough,id&#x3D;fs1,path&#x3D;&#x2F;tmp ï¼šä½¿ç”¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶å°†å…¶æ ‡è®°ä¸º â€œfs1â€ï¼Œ&#x2F;tmp æ˜¯å®¿ä¸»æœºç›®å½•è¿™ç‚¹æ³¨æ„äº†ï¼›</li>\n</ul>\n</p>\n</div>\n<h4 id=\"æ˜ å°„æ–‡ä»¶ç³»ç»Ÿ\"><a href=\"#æ˜ å°„æ–‡ä»¶ç³»ç»Ÿ\" class=\"headerlink\" title=\"æ˜ å°„æ–‡ä»¶ç³»ç»Ÿ\"></a>æ˜ å°„æ–‡ä»¶ç³»ç»Ÿ</h4><p>åœ¨ openEuler Embedded å¯åŠ¨å¹¶ç™»å½•ä¹‹åï¼Œéœ€è¦è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œæ˜ å°„ (mount) å…±äº«æ–‡ä»¶ç³»ç»Ÿï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /tmp</span><br><span class=\"line\"><span class=\"built_in\">mkdir</span> host</span><br><span class=\"line\">mount -t 9p -o trans=virtio,version=9p2000.L host /tmp/host</span><br></pre></td></tr></table></figure>\n\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">TIP</p>\n<ul>\n<li>mount ï¼šæŒ‚è½½å‘½ä»¤ï¼›</li>\n<li>-t 9p ï¼šæŒ‡å®šæ–‡ä»¶ç³»ç»Ÿç±»å‹ä¸º 9Pï¼›</li>\n<li>-o trans&#x3D;virtio,version&#x3D;9p2000.L ï¼šæŒ‡å®šä½¿ç”¨ virtio ä¼ è¾“å’Œ 9P åè®®çš„ç‰ˆæœ¬ä¸º 9p2000.Lã€‚è¿™å°†å¯ç”¨ virtio-9p è®¾å¤‡çš„æ”¯æŒï¼›</li>\n<li>host ï¼šæŒ‡å®šè¦æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿçš„æ ‡è®°åç§°ï¼›</li>\n<li>&#x2F;tmp&#x2F;host ï¼šæŒ‡å®šè¦å°†æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ°çš„æœ¬åœ°ç›®å½•ï¼›</li>\n</ul>\n<p>æ³¨æ„ï¼šæ­¤æ—¶æŒ‚è½½çš„æ˜¯å®¿ä¸»æœºçš„ tmp ç›®å½•ã€‚ç”¨æˆ·åä¸ºï¼šroot å¯†ç ä¸ºï¼šopenEuler12#$</p>\n\n</div>\n<h3 id=\"å®‰è£…å·¥å…·é“¾\"><a href=\"#å®‰è£…å·¥å…·é“¾\" class=\"headerlink\" title=\"å®‰è£…å·¥å…·é“¾\"></a>å®‰è£…å·¥å…·é“¾</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># å®˜æ–¹å·¥å…·é“¾åœ°å€ï¼šhttps://repo.openeuler.org/openEuler-22.03-LTS-SP1/embedded_img/arm64/aarch64-std</span></span><br><span class=\"line\">sh openeuler-glibc-x86_64-openeuler-image-aarch64-qemu-aarch64-toolchain-22.03.sh</span><br></pre></td></tr></table></figure>\n\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">TIP</p>\n<p><p>é»˜è®¤å®‰è£…åˆ°ï¼š&#x2F;usr&#x2F;local ç›®å½•ä¸‹ï¼Œå»ºè®®è‡ªè¡Œå®šä¹‰å®‰è£…ç›®å½•ã€‚</p>\n</p>\n</div>\n<div align=center><img src=\"https://cdn.jsdelivr.net/gh/NezhaGrin/MyImages/20240304164624.png\"></div>\n\n<h3 id=\"ç¼–è¯‘åº”ç”¨ç¨‹åº\"><a href=\"#ç¼–è¯‘åº”ç”¨ç¨‹åº\" class=\"headerlink\" title=\"ç¼–è¯‘åº”ç”¨ç¨‹åº\"></a>ç¼–è¯‘åº”ç”¨ç¨‹åº</h3><ul>\n<li>ç¼–è¯‘ç¯å¢ƒï¼šX86 å¹³å° + Ubuntu 18 + Ubuntu 20.04ï¼›</li>\n<li>è°ƒè¯•ç¯å¢ƒï¼šarm64 + OpenEuler Embedded 22.03 TLSï¼›</li>\n<li>éœ€æ±‚ï¼šä½¿ç”¨ OpenEuler äº¤å‰ç¼–è¯‘å·¥å…·é“¾æˆåŠŸç¼–è¯‘åº”ç”¨ç¨‹åº(hello world)å³å¯ï¼›</li>\n</ul>\n<h4 id=\"ç¼–è¯‘åº”ç”¨ç¨‹åºæ¨¡æ¿\"><a href=\"#ç¼–è¯‘åº”ç”¨ç¨‹åºæ¨¡æ¿\" class=\"headerlink\" title=\"ç¼–è¯‘åº”ç”¨ç¨‹åºæ¨¡æ¿\"></a>ç¼–è¯‘åº”ç”¨ç¨‹åºæ¨¡æ¿</h4><figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CC = SDK-gcc <span class=\"comment\"># å®˜æ–¹ gcc å·¥å…·é“¾</span></span><br><span class=\"line\">CFLAGS = -Wall</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">all: hello</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">hello: hello.o</span></span><br><span class=\"line\">\t<span class=\"variable\">$(CC)</span> <span class=\"variable\">$(CFLAGS)</span> hello.o -o hello</span><br><span class=\"line\">\t</span><br><span class=\"line\"><span class=\"section\">hello.o: hello.c</span></span><br><span class=\"line\">\t<span class=\"variable\">$(CC)</span> <span class=\"variable\">$(CFLAGS)</span> -c hello.c</span><br><span class=\"line\">\t</span><br><span class=\"line\"><span class=\"section\">clean:</span></span><br><span class=\"line\">\trm -f hello.o hello</span><br></pre></td></tr></table></figure>\n\n<div align=center><img src=\"https://cdn.jsdelivr.net/gh/NezhaGrin/MyImages/20240304165134.png\"></div>\n\n<h3 id=\"ç¼–è¯‘å†…æ ¸æ¨¡å—\"><a href=\"#ç¼–è¯‘å†…æ ¸æ¨¡å—\" class=\"headerlink\" title=\"ç¼–è¯‘å†…æ ¸æ¨¡å—\"></a>ç¼–è¯‘å†…æ ¸æ¨¡å—</h3><ul>\n<li>ç¼–è¯‘ç¯å¢ƒï¼šX86 å¹³å° + Ubuntu 18 + Ubuntu 20.04ï¼›</li>\n<li>è°ƒè¯•ç¯å¢ƒï¼šarm64 + OpenEuler Embedded 22.03 TLSï¼›</li>\n<li>éœ€æ±‚ï¼šä½¿ç”¨ OpenEuler äº¤å‰ç¼–è¯‘å·¥å…·é“¾æˆåŠŸç¼–è¯‘å†…æ ¸æ¨¡å—(hello world)å³å¯ï¼›</li>\n</ul>\n<h4 id=\"ç¼–è¯‘å†…æ ¸æ¨¡å—æ¨¡ç‰ˆ\"><a href=\"#ç¼–è¯‘å†…æ ¸æ¨¡å—æ¨¡ç‰ˆ\" class=\"headerlink\" title=\"ç¼–è¯‘å†…æ ¸æ¨¡å—æ¨¡ç‰ˆ\"></a>ç¼–è¯‘å†…æ ¸æ¨¡å—æ¨¡ç‰ˆ</h4><figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Makefile 4.0</span></span><br><span class=\"line\">obj-m := hello.o</span><br><span class=\"line\">CURRENT_PATH := <span class=\"variable\">$(<span class=\"built_in\">shell</span> pwd)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#LINUX_KERNEL := $(shell uname -r)</span></span><br><span class=\"line\"><span class=\"comment\">#LINUX_KERNEL_PATH := /usr/src/linux-headers-$(LINUX_KERNEL)</span></span><br><span class=\"line\">LINUX_KERNEL_PATH := SDK/sysroots/aarch64-openeuler-linux/usr/src/kernel <span class=\"comment\"># SDK å°±æ˜¯å®˜æ–¹æä¾›çš„å·¥å…·é“¾</span></span><br><span class=\"line\"></span><br><span class=\"line\">EXTRA_CFLAGS += -Wfatal-errors</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> CROSS_COMPILE=SDK/sysroots/x86_64-openeulersdk-linux/usr/bin/aarch64-</span><br><span class=\"line\">openeuler-linux</span><br><span class=\"line\"><span class=\"keyword\">export</span> ARCH=arm64</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">all:</span></span><br><span class=\"line\">\tmake -C <span class=\"variable\">$(LINUX_KERNEL_PATH)</span> M=<span class=\"variable\">$(CURRENT_PATH)</span> modules</span><br><span class=\"line\"><span class=\"section\">help:</span></span><br><span class=\"line\">\tmake -C <span class=\"variable\">$(LINUX_KERNEL_PATH)</span> M=<span class=\"variable\">$(CURRENT_PATH)</span> help</span><br><span class=\"line\"><span class=\"section\">clean:</span></span><br><span class=\"line\">\tmake -C <span class=\"variable\">$(LINUX_KERNEL_PATH)</span> M=<span class=\"variable\">$(CURRENT_PATH)</span> clean</span><br></pre></td></tr></table></figure>\n\n<div align=center><img src=\"https://cdn.jsdelivr.net/gh/NezhaGrin/MyImages/20240304165804.png\"></div>\n\n<h3 id=\"ç¼–è¯‘å†…æ ¸\"><a href=\"#ç¼–è¯‘å†…æ ¸\" class=\"headerlink\" title=\"ç¼–è¯‘å†…æ ¸\"></a>ç¼–è¯‘å†…æ ¸</h3><ul>\n<li>ç¼–è¯‘ç¯å¢ƒï¼šX86 å¹³å° + Ubuntu 18 + Ubuntu 20.04ï¼›</li>\n<li>è°ƒè¯•ç¯å¢ƒï¼šarm64 + OpenEuler Embedded 22.03 TLSï¼›</li>\n<li>éœ€æ±‚ï¼šä½¿ç”¨ OpenEuler äº¤å‰ç¼–è¯‘å·¥å…·é“¾æˆåŠŸç¼–è¯‘å†…æ ¸æ¨¡å³å¯ï¼›</li>\n<li>å®˜æ–¹å†…æ ¸åœ°å€ï¼š<a href=\"https://gitee.com/openeuler/kernel%EF%BC%9B\">https://gitee.com/openeuler/kernelï¼›</a></li>\n</ul>\n<h4 id=\"ç¼–è¯‘\"><a href=\"#ç¼–è¯‘\" class=\"headerlink\" title=\"ç¼–è¯‘\"></a>ç¼–è¯‘</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// æ‹‰å–å†…æ ¸</span><br><span class=\"line\">git <span class=\"built_in\">clone</span> å†…æ ¸</span><br><span class=\"line\"></span><br><span class=\"line\">// ç¯å¢ƒå˜é‡</span><br><span class=\"line\"><span class=\"built_in\">export</span> ARCH=arm64</span><br><span class=\"line\"><span class=\"built_in\">export</span> CROSS_COMPILE=SDK</span><br><span class=\"line\"></span><br><span class=\"line\">// é»˜è®¤é…ç½®</span><br><span class=\"line\"><span class=\"built_in\">cp</span> <span class=\"built_in\">arch</span>/arm64/configs/openeuler_defconfig .config</span><br><span class=\"line\">make menuconfig</span><br><span class=\"line\"></span><br><span class=\"line\">// ç¼–è¯‘å†…æ ¸</span><br><span class=\"line\">make</span><br><span class=\"line\"></span><br><span class=\"line\">// è½¬æ¢ä¸º zImage</span><br><span class=\"line\">CROSS_COMPILE-objcopy -O binary vmlinux zImage</span><br></pre></td></tr></table></figure>\n\n<p>vmlinuxï¼šLinux å†…æ ¸ç¼–è¯‘å‡ºæ¥çš„åŸå§‹çš„å†…æ ¸æ–‡ä»¶ï¼Œelf æ ¼å¼ï¼Œæœªåšå‹ç¼©å¤„ç†ã€‚è¯¥æ˜ åƒå¯ç”¨äºå®šä½å†…æ ¸é—®é¢˜ï¼Œä½†ä¸èƒ½ç›´æ¥å¼•å¯¼ Linux ç³»ç»Ÿå¯åŠ¨ï¼š</p>\n<div align=center><img src=\"https://cdn.jsdelivr.net/gh/NezhaGrin/MyImages/20240304170133.png\"></div>\n\n<p>zImageï¼šä½¿ç”¨ gzip å‹ç¼© Image åï¼Œä½¿ç”¨ objcopy å‘½ä»¤ç”Ÿæˆçš„ Linux å†…æ ¸æ˜ åƒã€‚è¯¥æ˜ åƒä¸€èˆ¬ä½œä¸º uboot çš„å¼•å¯¼æ˜ åƒæ–‡ä»¶ï¼š</p>\n<div align=center><img src=\"https://cdn.jsdelivr.net/gh/NezhaGrin/MyImages/20240304170222.png\"></div>\n\n<h4 id=\"qemu-æµ‹è¯•\"><a href=\"#qemu-æµ‹è¯•\" class=\"headerlink\" title=\"qemu æµ‹è¯•\"></a>qemu æµ‹è¯•</h4><div align=center><img src=\"https://cdn.jsdelivr.net/gh/NezhaGrin/MyImages/20240304170357.png\"></div>\n\n<h4 id=\"ç‰©ç†æœºæµ‹è¯•\"><a href=\"#ç‰©ç†æœºæµ‹è¯•\" class=\"headerlink\" title=\"ç‰©ç†æœºæµ‹è¯•\"></a>ç‰©ç†æœºæµ‹è¯•</h4><div align=center><img src=\"https://cdn.jsdelivr.net/gh/NezhaGrin/MyImages/8e7d4b0251061ece1913ddeb450c875.png\"></div>","feature":true,"text":"openEuler Embedded æ˜¯åŸºäº openEuler ç¤¾åŒºé¢å‘åµŒå…¥å¼åœºæ™¯çš„ Linux ç‰ˆæœ¬ï¼Œæ—¨åœ¨æˆä¸ºä¸€ä¸ªé«˜è´¨é‡çš„ä»¥ Linux ä¸ºä¸­å¿ƒçš„åµŒå…¥å¼ç³»ç»Ÿè½¯ä»¶å¹³å°ã€‚...","permalink":"/post/openEuler-Embedded-äº¤å‰ç¼–è¯‘","photos":[],"count_time":{"symbolsCount":"3.7k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"openEuler Embedded","slug":"openEuler-Embedded","count":1,"path":"api/tags/openEuler-Embedded.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BC%96%E8%AF%91-QMEU-7-0-0\"><span class=\"toc-text\">ç¼–è¯‘ QMEU 7.0.0</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96\"><span class=\"toc-text\">å®‰è£…ä¾èµ–</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%B8%8B%E8%BD%BD-QEMU-7-0-%E7%9A%84%E6%BA%90%E7%A0%81\"><span class=\"toc-text\">ä¸‹è½½ QEMU 7.0 çš„æºç </span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E5%92%8C%E7%BC%96%E8%AF%91\"><span class=\"toc-text\">é…ç½®å’Œç¼–è¯‘</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E6%8C%82%E8%BD%BD%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">åˆ›å»ºæŒ‚è½½é•œåƒ</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F\"><span class=\"toc-text\">æ˜ å°„æ–‡ä»¶ç³»ç»Ÿ</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E5%B7%A5%E5%85%B7%E9%93%BE\"><span class=\"toc-text\">å®‰è£…å·¥å…·é“¾</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BC%96%E8%AF%91%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F\"><span class=\"toc-text\">ç¼–è¯‘åº”ç”¨ç¨‹åº</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%BC%96%E8%AF%91%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%A8%A1%E6%9D%BF\"><span class=\"toc-text\">ç¼–è¯‘åº”ç”¨ç¨‹åºæ¨¡æ¿</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97\"><span class=\"toc-text\">ç¼–è¯‘å†…æ ¸æ¨¡å—</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97%E6%A8%A1%E7%89%88\"><span class=\"toc-text\">ç¼–è¯‘å†…æ ¸æ¨¡å—æ¨¡ç‰ˆ</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8\"><span class=\"toc-text\">ç¼–è¯‘å†…æ ¸</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%BC%96%E8%AF%91\"><span class=\"toc-text\">ç¼–è¯‘</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#qemu-%E6%B5%8B%E8%AF%95\"><span class=\"toc-text\">qemu æµ‹è¯•</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%89%A9%E7%90%86%E6%9C%BA%E6%B5%8B%E8%AF%95\"><span class=\"toc-text\">ç‰©ç†æœºæµ‹è¯•</span></a></li></ol></li></ol>","author":{"name":"å“ªå’","slug":"blog-author","avatar":"https://pic.imgdb.cn/item/65ba193b871b83018a65323c.jpg","link":"/","description":"äººå¿ƒä¸­çš„æˆè§å°±åƒä¸€åº§å¤§å±±ï¼Œä»»ä½ æ€ä¹ˆåŠªåŠ›ä¹Ÿä¼‘æƒ³æ¬åŠ¨ã€‚","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"VK-GL-CTS ç¼–è¯‘","uid":"aa00e35aacd87969b6ac07d7e9f82352","slug":"VK-GL-CTS-ç¼–è¯‘","date":"2024-03-04T09:15:07.000Z","updated":"2024-03-04T09:35:24.808Z","comments":true,"path":"api/articles/VK-GL-CTS-ç¼–è¯‘.json","keywords":null,"cover":null,"text":"VK-GL-CTS æ˜¯ä¸€ä¸ªç”± Khronos Group ç»´æŠ¤çš„å¼€æºé¡¹ç›®ï¼Œæ—¨åœ¨æµ‹è¯• OpenGL å’Œ Vulkan å®ç°çš„ç¬¦åˆæ€§ã€‚å®ƒçš„ä¸»è¦ç›®çš„æ˜¯ç¡®ä¿ä¸åŒå¹³å°ä¸Šçš„ OpenGL å’Œ Vulkan å®ç°éƒ½ç¬¦åˆ Khronos Group å‘å¸ƒçš„è§„èŒƒï¼Œä»¥æ­¤æ¥ä¿è¯åº”ç”¨ç¨‹åºåœ¨å„ç§ç¯å¢ƒä¸‹çš„å¯ç§»æ¤æ€§å’Œç¨³å®šæ€§ã€‚...","permalink":"/post/VK-GL-CTS-ç¼–è¯‘","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"CTS","slug":"CTS","count":1,"path":"api/tags/CTS.json"}],"author":{"name":"å“ªå’","slug":"blog-author","avatar":"https://pic.imgdb.cn/item/65ba193b871b83018a65323c.jpg","link":"/","description":"äººå¿ƒä¸­çš„æˆè§å°±åƒä¸€åº§å¤§å±±ï¼Œä»»ä½ æ€ä¹ˆåŠªåŠ›ä¹Ÿä¼‘æƒ³æ¬åŠ¨ã€‚","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"äº¤å‰ç¼–è¯‘ qmake 5.12.x","uid":"5a040845bcb3e7fc650ea2e47925d186","slug":"äº¤å‰ç¼–è¯‘-qmake-5-12-x","date":"2024-03-04T07:11:11.000Z","updated":"2024-03-04T09:09:42.105Z","comments":true,"path":"api/articles/äº¤å‰ç¼–è¯‘-qmake-5-12-x.json","keywords":null,"cover":[],"text":"æºç äº¤å‰ç¼–è¯‘ qmake 5.12.12 ç‰ˆæœ¬ã€‚ä»¥é¾™èŠ¯ 3A5000 åšä¸ºç¤ºä¾‹ï¼Œé€‚ç”¨äºæ‰€æœ‰çš„äº¤å‰ç¼–è¯‘ï¼Œå¥—è·¯éƒ½æ˜¯ä¸€ä¸ªæ ·å­ã€‚è¿™é‡Œä»¥é¾™èŠ¯ 3A5000 ä¸¾ä¾‹ï¼Œæ˜¯å› ä¸º 3A5000 æ˜¯ Loongarch æ¶æ„æ¯”è¾ƒç‰¹æ®Šä¸€äº›ï¼Œéœ€è¦æ”¹åŠ¨ä¸€ä¸‹ 5.12.12 çš„æºç ã€‚...","permalink":"/post/äº¤å‰ç¼–è¯‘-qmake-5-12-x","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"qmake","slug":"qmake","count":1,"path":"api/tags/qmake.json"}],"author":{"name":"å“ªå’","slug":"blog-author","avatar":"https://pic.imgdb.cn/item/65ba193b871b83018a65323c.jpg","link":"/","description":"äººå¿ƒä¸­çš„æˆè§å°±åƒä¸€åº§å¤§å±±ï¼Œä»»ä½ æ€ä¹ˆåŠªåŠ›ä¹Ÿä¼‘æƒ³æ¬åŠ¨ã€‚","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}