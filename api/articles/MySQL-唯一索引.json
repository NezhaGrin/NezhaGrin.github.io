{"title":"MySQL 唯一索引","uid":"7a38e714a3bfd10e2638b1aa74f75108","slug":"MySQL-唯一索引","date":"2024-02-28T04:38:25.000Z","updated":"2024-02-28T13:33:49.640Z","comments":true,"path":"api/articles/MySQL-唯一索引.json","keywords":null,"cover":null,"content":"<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>💡 Tips：在 MySQL 数据库中，唯一性约束（Unique Constraint）是一种非常重要的约束，它可以确保表中的列（字段）不包含重复的值。</p></blockquote>\n<h3 id=\"唯一性约束\"><a href=\"#唯一性约束\" class=\"headerlink\" title=\"唯一性约束\"></a>唯一性约束</h3><p>唯一性约束是一种用来确保表中某列的数值在整个列中都是唯一的约束。这意味着在这个列中不会出现重复的数值。在 MySQL 中，使用 UNIQUE 关键字来为列添加唯一性约束。</p>\n<h3 id=\"NULL-值\"><a href=\"#NULL-值\" class=\"headerlink\" title=\"NULL 值\"></a>NULL 值</h3><p>NULL 值表示一个字段的值是未知的或者不存在的，但并不等同于空字符串或者零值。因此，在数据库中存储 NULL 值时，MySQL 需要为其分配一定的存储空间。<strong>需要注意的是 NULL 值与其它任何值，包括另一个 NULL 值，都不相等</strong>。</p>\n<h3 id=\"空字符串\"><a href=\"#空字符串\" class=\"headerlink\" title=\"空字符串\"></a>空字符串</h3><p>在 MySQL 中，唯一索引对空字符串的处理方式与 NULL 值略有不同。<strong>空字符串（’’）被视为一个具体的值</strong>，因此如果将空字符串插入到唯一索引列中，则会将其视为一个独特的值。也就是说唯一索引列允许空字符串，<strong>但实际上只允许一个空字符串存在</strong>，因为空字符串被视为一个具体的值。</p>\n<h3 id=\"唯一索引与-NULL-值\"><a href=\"#唯一索引与-NULL-值\" class=\"headerlink\" title=\"唯一索引与 NULL 值\"></a>唯一索引与 NULL 值</h3><p><strong>唯一索引允许出现 NULL 值，并且允许多个 NULL 值的存在</strong>，但如果一个字段添加了唯一索引，就不建议在添加 NULL 默认了。因为在 MySQL 中，NULL 值会参与字段比较，所以对效率有一部分影响，而且 B 树索引是不会存储 NULL 值的，所以如果索引的字段为 NULL 值，索引的效率会下降很多。</p>\n<h3 id=\"唯一索引与空字符串\"><a href=\"#唯一索引与空字符串\" class=\"headerlink\" title=\"唯一索引与空字符串\"></a>唯一索引与空字符串</h3><p>唯一索引也允许出现空字符串，但只允许一个字符串存在，因为空字符串被视为一个具体的值。如果出现多个空字符串，就会出现索引重复的问题。</p>\n","text":"在 MySQL 数据库中，唯一性约束（Unique Constraint）是一种非常重要的约束，它可以确保表中的列（字段）不包含重复的值。...","permalink":"/post/MySQL-唯一索引","photos":[],"count_time":{"symbolsCount":684,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"MySQL","slug":"MySQL","count":4,"path":"api/tags/MySQL.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%94%AF%E4%B8%80%E6%80%A7%E7%BA%A6%E6%9D%9F\"><span class=\"toc-text\">唯一性约束</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#NULL-%E5%80%BC\"><span class=\"toc-text\">NULL 值</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%A9%BA%E5%AD%97%E7%AC%A6%E4%B8%B2\"><span class=\"toc-text\">空字符串</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95%E4%B8%8E-NULL-%E5%80%BC\"><span class=\"toc-text\">唯一索引与 NULL 值</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%A9%BA%E5%AD%97%E7%AC%A6%E4%B8%B2\"><span class=\"toc-text\">唯一索引与空字符串</span></a></li></ol>","author":{"name":"哪吒","slug":"blog-author","avatar":"https://pic.imgdb.cn/item/65ba193b871b83018a65323c.jpg","link":"/","description":"人心中的成见就像一座大山，任你怎么努力也休想搬动。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"MySQL 分析 SQL 性能","uid":"c590da9e3fbc0033731d8478ad40382b","slug":"MySQL-分析-SQL-性能","date":"2024-02-28T04:40:33.000Z","updated":"2024-03-01T09:30:20.267Z","comments":true,"path":"api/articles/MySQL-分析-SQL-性能.json","keywords":null,"cover":[],"text":"分析 SQL 语句性能是每个后端开发都应该熟悉的知识。MySQL 提供了：慢查询日志、profile、explain 来帮助分析 SQL 语句性能。...","permalink":"/post/MySQL-分析-SQL-性能","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"MySQL","slug":"MySQL","count":4,"path":"api/tags/MySQL.json"}],"author":{"name":"哪吒","slug":"blog-author","avatar":"https://pic.imgdb.cn/item/65ba193b871b83018a65323c.jpg","link":"/","description":"人心中的成见就像一座大山，任你怎么努力也休想搬动。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"MySQL datetime 和 timestamp","uid":"6a7243773d888f0fc5ea543a81c83ed7","slug":"MySQL-datetime-和-timestamp","date":"2024-02-28T04:38:12.000Z","updated":"2024-02-28T07:00:31.950Z","comments":true,"path":"api/articles/MySQL-datetime-和-timestamp.json","keywords":null,"cover":null,"text":"在 MySQL 中，有两种常见的日期时间数据类型：DATETIME 和 TIMESTAMP。这两种类型在存储日期时间方面有着不同的特性和用途。...","permalink":"/post/MySQL-datetime-和-timestamp","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"MySQL","slug":"MySQL","count":4,"path":"api/tags/MySQL.json"}],"author":{"name":"哪吒","slug":"blog-author","avatar":"https://pic.imgdb.cn/item/65ba193b871b83018a65323c.jpg","link":"/","description":"人心中的成见就像一座大山，任你怎么努力也休想搬动。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}